{"version":3,"file":"js/about-legacy.8a194e68.js","mappings":"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","sources":["webpack://AgDatahub/./node_modules/core-js/internals/inherit-if-required.js","webpack://AgDatahub/./node_modules/core-js/internals/string-trim.js","webpack://AgDatahub/./node_modules/core-js/internals/this-number-value.js","webpack://AgDatahub/./node_modules/core-js/internals/whitespaces.js","webpack://AgDatahub/./node_modules/core-js/modules/es.array.splice.js","webpack://AgDatahub/./node_modules/core-js/modules/es.json.stringify.js","webpack://AgDatahub/./node_modules/core-js/modules/es.number.constructor.js","webpack://AgDatahub/./src/views/Dashboard.vue","webpack://AgDatahub/./src/components/barchart.vue","webpack://AgDatahub/./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack://AgDatahub/./node_modules/chart.js/dist/chart.esm.js","webpack://AgDatahub/./node_modules/vue-chartjs/dist/index.js","webpack://AgDatahub/./src/components/barchart.vue?73c1","webpack://AgDatahub/./src/components/lineChart.vue","webpack://AgDatahub/./src/components/lineChart.vue?4ef5","webpack://AgDatahub/./src/components/doughnut.vue","webpack://AgDatahub/./src/components/doughnut.vue?761c","webpack://AgDatahub/./src/components/radar.vue","webpack://AgDatahub/./src/components/radar.vue?1d91","webpack://AgDatahub/./src/components/scatter.vue","webpack://AgDatahub/./src/components/scatter.vue?4728","webpack://AgDatahub/./src/components/dashboardform.vue","webpack://AgDatahub/./src/components/dashboardform.vue?d7a4","webpack://AgDatahub/./src/views/Dashboard.vue?040e"],"sourcesContent":["var isCallable = require('../internals/is-callable');\r\nvar isObject = require('../internals/is-object');\r\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\r\n\r\n// makes subclassing work correct for wrapped built-ins\r\nmodule.exports = function ($this, dummy, Wrapper) {\r\n  var NewTarget, NewTargetPrototype;\r\n  if (\r\n    // it can work only with native `setPrototypeOf`\r\n    setPrototypeOf &&\r\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\r\n    isCallable(NewTarget = dummy.constructor) &&\r\n    NewTarget !== Wrapper &&\r\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\r\n    NewTargetPrototype !== Wrapper.prototype\r\n  ) setPrototypeOf($this, NewTargetPrototype);\r\n  return $this;\r\n};\r\n","var uncurryThis = require('../internals/function-uncurry-this');\r\nvar requireObjectCoercible = require('../internals/require-object-coercible');\r\nvar toString = require('../internals/to-string');\r\nvar whitespaces = require('../internals/whitespaces');\r\n\r\nvar replace = uncurryThis(''.replace);\r\nvar whitespace = '[' + whitespaces + ']';\r\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\r\nvar rtrim = RegExp(whitespace + whitespace + '*$');\r\n\r\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\r\nvar createMethod = function (TYPE) {\r\n  return function ($this) {\r\n    var string = toString(requireObjectCoercible($this));\r\n    if (TYPE & 1) string = replace(string, ltrim, '');\r\n    if (TYPE & 2) string = replace(string, rtrim, '');\r\n    return string;\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  // `String.prototype.{ trimLeft, trimStart }` methods\r\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\r\n  start: createMethod(1),\r\n  // `String.prototype.{ trimRight, trimEnd }` methods\r\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\r\n  end: createMethod(2),\r\n  // `String.prototype.trim` method\r\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\r\n  trim: createMethod(3)\r\n};\r\n","var uncurryThis = require('../internals/function-uncurry-this');\r\n\r\n// `thisNumberValue` abstract operation\r\n// https://tc39.es/ecma262/#sec-thisnumbervalue\r\nmodule.exports = uncurryThis(1.0.valueOf);\r\n","// a string of all valid unicode whitespaces\r\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\r\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\r\n","'use strict';\r\nvar $ = require('../internals/export');\r\nvar global = require('../internals/global');\r\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\r\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\r\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\r\nvar toObject = require('../internals/to-object');\r\nvar arraySpeciesCreate = require('../internals/array-species-create');\r\nvar createProperty = require('../internals/create-property');\r\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\r\n\r\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\r\n\r\nvar TypeError = global.TypeError;\r\nvar max = Math.max;\r\nvar min = Math.min;\r\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\r\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\r\n\r\n// `Array.prototype.splice` method\r\n// https://tc39.es/ecma262/#sec-array.prototype.splice\r\n// with adding support of @@species\r\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\r\n  splice: function splice(start, deleteCount /* , ...items */) {\r\n    var O = toObject(this);\r\n    var len = lengthOfArrayLike(O);\r\n    var actualStart = toAbsoluteIndex(start, len);\r\n    var argumentsLength = arguments.length;\r\n    var insertCount, actualDeleteCount, A, k, from, to;\r\n    if (argumentsLength === 0) {\r\n      insertCount = actualDeleteCount = 0;\r\n    } else if (argumentsLength === 1) {\r\n      insertCount = 0;\r\n      actualDeleteCount = len - actualStart;\r\n    } else {\r\n      insertCount = argumentsLength - 2;\r\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\r\n    }\r\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\r\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\r\n    }\r\n    A = arraySpeciesCreate(O, actualDeleteCount);\r\n    for (k = 0; k < actualDeleteCount; k++) {\r\n      from = actualStart + k;\r\n      if (from in O) createProperty(A, k, O[from]);\r\n    }\r\n    A.length = actualDeleteCount;\r\n    if (insertCount < actualDeleteCount) {\r\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\r\n        from = k + actualDeleteCount;\r\n        to = k + insertCount;\r\n        if (from in O) O[to] = O[from];\r\n        else delete O[to];\r\n      }\r\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\r\n    } else if (insertCount > actualDeleteCount) {\r\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\r\n        from = k + actualDeleteCount - 1;\r\n        to = k + insertCount - 1;\r\n        if (from in O) O[to] = O[from];\r\n        else delete O[to];\r\n      }\r\n    }\r\n    for (k = 0; k < insertCount; k++) {\r\n      O[k + actualStart] = arguments[k + 2];\r\n    }\r\n    O.length = len - actualDeleteCount + insertCount;\r\n    return A;\r\n  }\r\n});\r\n","var $ = require('../internals/export');\r\nvar global = require('../internals/global');\r\nvar getBuiltIn = require('../internals/get-built-in');\r\nvar apply = require('../internals/function-apply');\r\nvar uncurryThis = require('../internals/function-uncurry-this');\r\nvar fails = require('../internals/fails');\r\n\r\nvar Array = global.Array;\r\nvar $stringify = getBuiltIn('JSON', 'stringify');\r\nvar exec = uncurryThis(/./.exec);\r\nvar charAt = uncurryThis(''.charAt);\r\nvar charCodeAt = uncurryThis(''.charCodeAt);\r\nvar replace = uncurryThis(''.replace);\r\nvar numberToString = uncurryThis(1.0.toString);\r\n\r\nvar tester = /[\\uD800-\\uDFFF]/g;\r\nvar low = /^[\\uD800-\\uDBFF]$/;\r\nvar hi = /^[\\uDC00-\\uDFFF]$/;\r\n\r\nvar fix = function (match, offset, string) {\r\n  var prev = charAt(string, offset - 1);\r\n  var next = charAt(string, offset + 1);\r\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\r\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\r\n  } return match;\r\n};\r\n\r\nvar FORCED = fails(function () {\r\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\r\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\r\n});\r\n\r\nif ($stringify) {\r\n  // `JSON.stringify` method\r\n  // https://tc39.es/ecma262/#sec-json.stringify\r\n  // https://github.com/tc39/proposal-well-formed-stringify\r\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\r\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\r\n    stringify: function stringify(it, replacer, space) {\r\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\r\n      var result = apply($stringify, null, args);\r\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\r\n    }\r\n  });\r\n}\r\n","'use strict';\r\nvar DESCRIPTORS = require('../internals/descriptors');\r\nvar global = require('../internals/global');\r\nvar uncurryThis = require('../internals/function-uncurry-this');\r\nvar isForced = require('../internals/is-forced');\r\nvar redefine = require('../internals/redefine');\r\nvar hasOwn = require('../internals/has-own-property');\r\nvar inheritIfRequired = require('../internals/inherit-if-required');\r\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\r\nvar isSymbol = require('../internals/is-symbol');\r\nvar toPrimitive = require('../internals/to-primitive');\r\nvar fails = require('../internals/fails');\r\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\r\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\r\nvar defineProperty = require('../internals/object-define-property').f;\r\nvar thisNumberValue = require('../internals/this-number-value');\r\nvar trim = require('../internals/string-trim').trim;\r\n\r\nvar NUMBER = 'Number';\r\nvar NativeNumber = global[NUMBER];\r\nvar NumberPrototype = NativeNumber.prototype;\r\nvar TypeError = global.TypeError;\r\nvar arraySlice = uncurryThis(''.slice);\r\nvar charCodeAt = uncurryThis(''.charCodeAt);\r\n\r\n// `ToNumeric` abstract operation\r\n// https://tc39.es/ecma262/#sec-tonumeric\r\nvar toNumeric = function (value) {\r\n  var primValue = toPrimitive(value, 'number');\r\n  return typeof primValue == 'bigint' ? primValue : toNumber(primValue);\r\n};\r\n\r\n// `ToNumber` abstract operation\r\n// https://tc39.es/ecma262/#sec-tonumber\r\nvar toNumber = function (argument) {\r\n  var it = toPrimitive(argument, 'number');\r\n  var first, third, radix, maxCode, digits, length, index, code;\r\n  if (isSymbol(it)) throw TypeError('Cannot convert a Symbol value to a number');\r\n  if (typeof it == 'string' && it.length > 2) {\r\n    it = trim(it);\r\n    first = charCodeAt(it, 0);\r\n    if (first === 43 || first === 45) {\r\n      third = charCodeAt(it, 2);\r\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\r\n    } else if (first === 48) {\r\n      switch (charCodeAt(it, 1)) {\r\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\r\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\r\n        default: return +it;\r\n      }\r\n      digits = arraySlice(it, 2);\r\n      length = digits.length;\r\n      for (index = 0; index < length; index++) {\r\n        code = charCodeAt(digits, index);\r\n        // parseInt parses a string to a first unavailable symbol\r\n        // but ToNumber should return NaN if a string contains unavailable symbols\r\n        if (code < 48 || code > maxCode) return NaN;\r\n      } return parseInt(digits, radix);\r\n    }\r\n  } return +it;\r\n};\r\n\r\n// `Number` constructor\r\n// https://tc39.es/ecma262/#sec-number-constructor\r\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\r\n  var NumberWrapper = function Number(value) {\r\n    var n = arguments.length < 1 ? 0 : NativeNumber(toNumeric(value));\r\n    var dummy = this;\r\n    // check on 1..constructor(foo) case\r\n    return isPrototypeOf(NumberPrototype, dummy) && fails(function () { thisNumberValue(dummy); })\r\n      ? inheritIfRequired(Object(n), dummy, NumberWrapper) : n;\r\n  };\r\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\r\n    // ES3:\r\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\r\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\r\n    'EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,' +\r\n    // ESNext\r\n    'fromString,range'\r\n  ).split(','), j = 0, key; keys.length > j; j++) {\r\n    if (hasOwn(NativeNumber, key = keys[j]) && !hasOwn(NumberWrapper, key)) {\r\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\r\n    }\r\n  }\r\n  NumberWrapper.prototype = NumberPrototype;\r\n  NumberPrototype.constructor = NumberWrapper;\r\n  redefine(global, NUMBER, NumberWrapper);\r\n}\r\n","<template>\r\n<Dashboardform @panelValues=\"formValues\" />\r\n\r\n\r\n<div class=\"container-fluid p-4\">\r\n  <div class=\"container fw-bolder text-dark\" style=\"margin-top: 23rem;\" v-show=\" chartdata == null || chartdata.length < 1\">\r\n    <p class=\"d-inline me-2\"> No charts available Please select</p>\r\n    <a disabled class=\"float2 align-middle\" data-bs-toggle=\"offcanvas\" href=\"#offcanvasExample\" role=\"button\" aria-controls=\"offcanvasExample\">\r\n      <i class=\"bi bi-menu-button-wide fs-6 my-float2 \"></i>\r\n    </a>\r\n    <p class=\"d-inline ms-2\"> to add a chart</p>\r\n  </div>\r\n\r\n  <div class=\"row row-cols-sm-1 row-cols-md-2 mb-4\">\r\n    <div class=\"col mb-4\" v-for=\"(data , i) in chartdata\" :key=\"i\" v-show=\"i < 4\" >\r\n        <div class=\"card\">\r\n          <div class=\"card-header text-start\">\r\n            Featured\r\n            <select class=\"form-select form-select-sm w-25 float-end\" v-model=\"currentChart[i]\" aria-label=\".form-select-sm example\">\r\n              <option value=\"type\">Type</option>\r\n              <option value=\"Chart\">Bar Chart</option>\r\n              <option value=\"Doughnut\">Doughnut</option>\r\n              <option value=\"Radar\">Radar Chart</option>\r\n              <option value=\"Scatter\">Scatter Chart</option>\r\n              <option value=\"Line\">Line Chart</option>\r\n              \r\n            </select>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <KeepAlive>\r\n              <component :is=\"currentChart[i]\"></component>\r\n            </KeepAlive>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<a  class=\"float align-middle\" data-bs-toggle=\"offcanvas\" href=\"#offcanvasExample\" role=\"button\" aria-controls=\"offcanvasExample\">\r\n  <i class=\"bi bi-menu-button-wide fs-4 my-float \"></i>\r\n</a>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Chart from \"../components/barchart.vue\"\r\nimport Line from \"../components/lineChart.vue\"\r\nimport Doughnut from\"../components/doughnut.vue\"\r\nimport Radar from \"../components/radar.vue\"\r\nimport Scatter from \"../components/scatter.vue\"\r\nimport Dashboardform from '../components/dashboardform.vue'\r\n\r\n\r\n\r\nexport default {\r\n  name: \"dashboard\",\r\n  components:{\r\n    Chart,\r\n    Line,\r\n    Doughnut,\r\n    Radar,\r\n    Scatter,\r\n    Dashboardform\r\n  },\r\n  data() {\r\n    return {\r\n      chartdata:null,\r\n      currentChart:{\r\n        0:'Line',\r\n        1:'Line',\r\n        2:'Line',\r\n        3:'Line',\r\n        4:'Line',\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    formValues(n){\r\n      console.log(this.currentChart)\r\n      this.chartdata = n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card{\r\n  height: 281px;\r\n}\r\n.card-body{\r\n  height: 90%;\r\n}\r\n.float{\r\n\tposition:fixed;\r\n\twidth:41px;\r\n\theight:40px;\r\n\tbottom:48%;\r\n\tleft:15px;\r\n\tbackground-color:#c2213d;\r\n\tcolor:#FFF;\r\n\tborder-radius:50px;\r\n  transition: transform .2s;\r\n\ttext-align:center;\r\n\tbox-shadow: 0px 0px 5px #c2213d;\r\n}\r\n.my-float{\r\n    position: absolute;\r\n    left: 22%;\r\n    top: 9%;\r\n}\r\n\r\n.float2{\r\n  font-weight: bolder;\r\n  display: inline;\r\n  padding-inline:9px;\r\n  padding-bottom: 6.5px;\r\n  padding-top: 8px;\r\n  opacity: .9;\r\n\tleft:15px;\r\n\tbackground-color:#c2213d;\r\n\tcolor:#FFF;\r\n\tborder-radius:50px;\r\n  transition: transform .2s;\r\n\ttext-align:center;\r\n\tbox-shadow: 0px 0px 5px #c2213d;\r\n}\r\n.float:hover{\r\n  transform: scale(1.1); \r\n\tbackground-color:#ff607a;\r\n\r\n}\r\n</style>","<template>\r\n    <Bar\r\n        :chart-options=\"chartOptions\"\r\n        :chart-data=\"chartData\"\r\n        :chart-id=\"chartId\"\r\n        :dataset-id-key=\"datasetIdKey\"\r\n        :plugins=\"plugins\"\r\n        :css-classes=\"cssClasses\"\r\n        :styles=\"styles\"\r\n        :width=\"width\"\r\n        :height=\"height\"\r\n    />\r\n</template>\r\n\r\n<script>\r\n    import { Bar } from \"vue-chartjs\";\r\n    import {Chart as ChartJS, Title,Tooltip,Legend, BarElement, CategoryScale, LinearScale, } from \"chart.js\";\r\n\r\n    ChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale );\r\n\r\n    export default {\r\n        name: \"BarChart\",\r\n        components: { Bar },\r\n        props: {\r\n            chartId: {\r\n                type: String,\r\n                default: \"bar-chart\",\r\n            },\r\n            datasetIdKey: {\r\n                type: String,\r\n                default: \"label\",\r\n            },\r\n            width: {\r\n                type: Number,\r\n                default: 400,\r\n            },\r\n            height: {\r\n                type: Number,\r\n                default: 300,\r\n            },\r\n            cssClasses: {\r\n                default: \"\",\r\n                type: String,\r\n            },\r\n            plugins: {\r\n                type: Object,\r\n                default: () => {},\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                styles:{\r\n                    height: '100%'\r\n                },\r\n                chartData :{\r\n                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],\r\n                datasets: [\r\n                    {\r\n                        label: 'Data One',\r\n                        backgroundColor: '#f87979',\r\n                        data: [40, 39, 10, 40, 39, 80, 40]\r\n                    },\r\n                    {\r\n                        label: 'Data two',\r\n                        backgroundColor: '#0451a4',\r\n                        data: [40, 39, 10, 40, 39, 80, 40]\r\n                    }\r\n                ]\r\n            },\r\n                chartOptions: {\r\n                    responsive: true,\r\n                    maintainAspectRatio: false\r\n                },\r\n            };\r\n        },\r\n    };\r\n\r\n\r\n\r\n</script>\r\n\r\n","/*!\r\n * Chart.js v3.7.1\r\n * https://www.chartjs.org\r\n * (c) 2022 Chart.js Contributors\r\n * Released under the MIT License\r\n */\r\nfunction fontString(pixelSize, fontStyle, fontFamily) {\r\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\r\n}\r\nconst requestAnimFrame = (function() {\r\n  if (typeof window === 'undefined') {\r\n    return function(callback) {\r\n      return callback();\r\n    };\r\n  }\r\n  return window.requestAnimationFrame;\r\n}());\r\nfunction throttled(fn, thisArg, updateFn) {\r\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\r\n  let ticking = false;\r\n  let args = [];\r\n  return function(...rest) {\r\n    args = updateArgs(rest);\r\n    if (!ticking) {\r\n      ticking = true;\r\n      requestAnimFrame.call(window, () => {\r\n        ticking = false;\r\n        fn.apply(thisArg, args);\r\n      });\r\n    }\r\n  };\r\n}\r\nfunction debounce(fn, delay) {\r\n  let timeout;\r\n  return function(...args) {\r\n    if (delay) {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(fn, delay, args);\r\n    } else {\r\n      fn.apply(this, args);\r\n    }\r\n    return delay;\r\n  };\r\n}\r\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\r\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\r\nconst _textX = (align, left, right, rtl) => {\r\n  const check = rtl ? 'left' : 'right';\r\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\r\n};\r\n\r\nfunction noop() {}\r\nconst uid = (function() {\r\n  let id = 0;\r\n  return function() {\r\n    return id++;\r\n  };\r\n}());\r\nfunction isNullOrUndef(value) {\r\n  return value === null || typeof value === 'undefined';\r\n}\r\nfunction isArray(value) {\r\n  if (Array.isArray && Array.isArray(value)) {\r\n    return true;\r\n  }\r\n  const type = Object.prototype.toString.call(value);\r\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nfunction isObject(value) {\r\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\r\n}\r\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\r\nfunction finiteOrDefault(value, defaultValue) {\r\n  return isNumberFinite(value) ? value : defaultValue;\r\n}\r\nfunction valueOrDefault(value, defaultValue) {\r\n  return typeof value === 'undefined' ? defaultValue : value;\r\n}\r\nconst toPercentage = (value, dimension) =>\r\n  typeof value === 'string' && value.endsWith('%') ?\r\n    parseFloat(value) / 100\r\n    : value / dimension;\r\nconst toDimension = (value, dimension) =>\r\n  typeof value === 'string' && value.endsWith('%') ?\r\n    parseFloat(value) / 100 * dimension\r\n    : +value;\r\nfunction callback(fn, args, thisArg) {\r\n  if (fn && typeof fn.call === 'function') {\r\n    return fn.apply(thisArg, args);\r\n  }\r\n}\r\nfunction each(loopable, fn, thisArg, reverse) {\r\n  let i, len, keys;\r\n  if (isArray(loopable)) {\r\n    len = loopable.length;\r\n    if (reverse) {\r\n      for (i = len - 1; i >= 0; i--) {\r\n        fn.call(thisArg, loopable[i], i);\r\n      }\r\n    } else {\r\n      for (i = 0; i < len; i++) {\r\n        fn.call(thisArg, loopable[i], i);\r\n      }\r\n    }\r\n  } else if (isObject(loopable)) {\r\n    keys = Object.keys(loopable);\r\n    len = keys.length;\r\n    for (i = 0; i < len; i++) {\r\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\r\n    }\r\n  }\r\n}\r\nfunction _elementsEqual(a0, a1) {\r\n  let i, ilen, v0, v1;\r\n  if (!a0 || !a1 || a0.length !== a1.length) {\r\n    return false;\r\n  }\r\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\r\n    v0 = a0[i];\r\n    v1 = a1[i];\r\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\nfunction clone$1(source) {\r\n  if (isArray(source)) {\r\n    return source.map(clone$1);\r\n  }\r\n  if (isObject(source)) {\r\n    const target = Object.create(null);\r\n    const keys = Object.keys(source);\r\n    const klen = keys.length;\r\n    let k = 0;\r\n    for (; k < klen; ++k) {\r\n      target[keys[k]] = clone$1(source[keys[k]]);\r\n    }\r\n    return target;\r\n  }\r\n  return source;\r\n}\r\nfunction isValidKey(key) {\r\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\r\n}\r\nfunction _merger(key, target, source, options) {\r\n  if (!isValidKey(key)) {\r\n    return;\r\n  }\r\n  const tval = target[key];\r\n  const sval = source[key];\r\n  if (isObject(tval) && isObject(sval)) {\r\n    merge(tval, sval, options);\r\n  } else {\r\n    target[key] = clone$1(sval);\r\n  }\r\n}\r\nfunction merge(target, source, options) {\r\n  const sources = isArray(source) ? source : [source];\r\n  const ilen = sources.length;\r\n  if (!isObject(target)) {\r\n    return target;\r\n  }\r\n  options = options || {};\r\n  const merger = options.merger || _merger;\r\n  for (let i = 0; i < ilen; ++i) {\r\n    source = sources[i];\r\n    if (!isObject(source)) {\r\n      continue;\r\n    }\r\n    const keys = Object.keys(source);\r\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\r\n      merger(keys[k], target, source, options);\r\n    }\r\n  }\r\n  return target;\r\n}\r\nfunction mergeIf(target, source) {\r\n  return merge(target, source, {merger: _mergerIf});\r\n}\r\nfunction _mergerIf(key, target, source) {\r\n  if (!isValidKey(key)) {\r\n    return;\r\n  }\r\n  const tval = target[key];\r\n  const sval = source[key];\r\n  if (isObject(tval) && isObject(sval)) {\r\n    mergeIf(tval, sval);\r\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\r\n    target[key] = clone$1(sval);\r\n  }\r\n}\r\nfunction _deprecated(scope, value, previous, current) {\r\n  if (value !== undefined) {\r\n    console.warn(scope + ': \"' + previous +\r\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\r\n  }\r\n}\r\nconst emptyString = '';\r\nconst dot = '.';\r\nfunction indexOfDotOrLength(key, start) {\r\n  const idx = key.indexOf(dot, start);\r\n  return idx === -1 ? key.length : idx;\r\n}\r\nfunction resolveObjectKey(obj, key) {\r\n  if (key === emptyString) {\r\n    return obj;\r\n  }\r\n  let pos = 0;\r\n  let idx = indexOfDotOrLength(key, pos);\r\n  while (obj && idx > pos) {\r\n    obj = obj[key.substr(pos, idx - pos)];\r\n    pos = idx + 1;\r\n    idx = indexOfDotOrLength(key, pos);\r\n  }\r\n  return obj;\r\n}\r\nfunction _capitalize(str) {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\nconst defined = (value) => typeof value !== 'undefined';\r\nconst isFunction = (value) => typeof value === 'function';\r\nconst setsEqual = (a, b) => {\r\n  if (a.size !== b.size) {\r\n    return false;\r\n  }\r\n  for (const item of a) {\r\n    if (!b.has(item)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\nfunction _isClickEvent(e) {\r\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\r\n}\r\n\r\nconst PI = Math.PI;\r\nconst TAU = 2 * PI;\r\nconst PITAU = TAU + PI;\r\nconst INFINITY = Number.POSITIVE_INFINITY;\r\nconst RAD_PER_DEG = PI / 180;\r\nconst HALF_PI = PI / 2;\r\nconst QUARTER_PI = PI / 4;\r\nconst TWO_THIRDS_PI = PI * 2 / 3;\r\nconst log10 = Math.log10;\r\nconst sign = Math.sign;\r\nfunction niceNum(range) {\r\n  const roundedRange = Math.round(range);\r\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\r\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\r\n  const fraction = range / niceRange;\r\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\r\n  return niceFraction * niceRange;\r\n}\r\nfunction _factorize(value) {\r\n  const result = [];\r\n  const sqrt = Math.sqrt(value);\r\n  let i;\r\n  for (i = 1; i < sqrt; i++) {\r\n    if (value % i === 0) {\r\n      result.push(i);\r\n      result.push(value / i);\r\n    }\r\n  }\r\n  if (sqrt === (sqrt | 0)) {\r\n    result.push(sqrt);\r\n  }\r\n  result.sort((a, b) => a - b).pop();\r\n  return result;\r\n}\r\nfunction isNumber(n) {\r\n  return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\nfunction almostEquals(x, y, epsilon) {\r\n  return Math.abs(x - y) < epsilon;\r\n}\r\nfunction almostWhole(x, epsilon) {\r\n  const rounded = Math.round(x);\r\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\r\n}\r\nfunction _setMinAndMaxByKey(array, target, property) {\r\n  let i, ilen, value;\r\n  for (i = 0, ilen = array.length; i < ilen; i++) {\r\n    value = array[i][property];\r\n    if (!isNaN(value)) {\r\n      target.min = Math.min(target.min, value);\r\n      target.max = Math.max(target.max, value);\r\n    }\r\n  }\r\n}\r\nfunction toRadians(degrees) {\r\n  return degrees * (PI / 180);\r\n}\r\nfunction toDegrees(radians) {\r\n  return radians * (180 / PI);\r\n}\r\nfunction _decimalPlaces(x) {\r\n  if (!isNumberFinite(x)) {\r\n    return;\r\n  }\r\n  let e = 1;\r\n  let p = 0;\r\n  while (Math.round(x * e) / e !== x) {\r\n    e *= 10;\r\n    p++;\r\n  }\r\n  return p;\r\n}\r\nfunction getAngleFromPoint(centrePoint, anglePoint) {\r\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\r\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\r\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\r\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\r\n  if (angle < (-0.5 * PI)) {\r\n    angle += TAU;\r\n  }\r\n  return {\r\n    angle,\r\n    distance: radialDistanceFromCenter\r\n  };\r\n}\r\nfunction distanceBetweenPoints(pt1, pt2) {\r\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\r\n}\r\nfunction _angleDiff(a, b) {\r\n  return (a - b + PITAU) % TAU - PI;\r\n}\r\nfunction _normalizeAngle(a) {\r\n  return (a % TAU + TAU) % TAU;\r\n}\r\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\r\n  const a = _normalizeAngle(angle);\r\n  const s = _normalizeAngle(start);\r\n  const e = _normalizeAngle(end);\r\n  const angleToStart = _normalizeAngle(s - a);\r\n  const angleToEnd = _normalizeAngle(e - a);\r\n  const startToAngle = _normalizeAngle(a - s);\r\n  const endToAngle = _normalizeAngle(a - e);\r\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\r\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\r\n}\r\nfunction _limitValue(value, min, max) {\r\n  return Math.max(min, Math.min(max, value));\r\n}\r\nfunction _int16Range(value) {\r\n  return _limitValue(value, -32768, 32767);\r\n}\r\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\r\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\r\n}\r\n\r\nconst atEdge = (t) => t === 0 || t === 1;\r\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\r\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\r\nconst effects = {\r\n  linear: t => t,\r\n  easeInQuad: t => t * t,\r\n  easeOutQuad: t => -t * (t - 2),\r\n  easeInOutQuad: t => ((t /= 0.5) < 1)\r\n    ? 0.5 * t * t\r\n    : -0.5 * ((--t) * (t - 2) - 1),\r\n  easeInCubic: t => t * t * t,\r\n  easeOutCubic: t => (t -= 1) * t * t + 1,\r\n  easeInOutCubic: t => ((t /= 0.5) < 1)\r\n    ? 0.5 * t * t * t\r\n    : 0.5 * ((t -= 2) * t * t + 2),\r\n  easeInQuart: t => t * t * t * t,\r\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\r\n  easeInOutQuart: t => ((t /= 0.5) < 1)\r\n    ? 0.5 * t * t * t * t\r\n    : -0.5 * ((t -= 2) * t * t * t - 2),\r\n  easeInQuint: t => t * t * t * t * t,\r\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\r\n  easeInOutQuint: t => ((t /= 0.5) < 1)\r\n    ? 0.5 * t * t * t * t * t\r\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\r\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\r\n  easeOutSine: t => Math.sin(t * HALF_PI),\r\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\r\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\r\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\r\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\r\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\r\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\r\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\r\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\r\n  easeInOutCirc: t => ((t /= 0.5) < 1)\r\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\r\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\r\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\r\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\r\n  easeInOutElastic(t) {\r\n    const s = 0.1125;\r\n    const p = 0.45;\r\n    return atEdge(t) ? t :\r\n      t < 0.5\r\n        ? 0.5 * elasticIn(t * 2, s, p)\r\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\r\n  },\r\n  easeInBack(t) {\r\n    const s = 1.70158;\r\n    return t * t * ((s + 1) * t - s);\r\n  },\r\n  easeOutBack(t) {\r\n    const s = 1.70158;\r\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\r\n  },\r\n  easeInOutBack(t) {\r\n    let s = 1.70158;\r\n    if ((t /= 0.5) < 1) {\r\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\r\n    }\r\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\r\n  },\r\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\r\n  easeOutBounce(t) {\r\n    const m = 7.5625;\r\n    const d = 2.75;\r\n    if (t < (1 / d)) {\r\n      return m * t * t;\r\n    }\r\n    if (t < (2 / d)) {\r\n      return m * (t -= (1.5 / d)) * t + 0.75;\r\n    }\r\n    if (t < (2.5 / d)) {\r\n      return m * (t -= (2.25 / d)) * t + 0.9375;\r\n    }\r\n    return m * (t -= (2.625 / d)) * t + 0.984375;\r\n  },\r\n  easeInOutBounce: t => (t < 0.5)\r\n    ? effects.easeInBounce(t * 2) * 0.5\r\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\r\n};\r\n\r\n/*!\r\n * @kurkle/color v0.1.9\r\n * https://github.com/kurkle/color#readme\r\n * (c) 2020 Jukka Kurkela\r\n * Released under the MIT License\r\n */\r\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\r\nconst hex = '0123456789ABCDEF';\r\nconst h1 = (b) => hex[b & 0xF];\r\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\r\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\r\nfunction isShort(v) {\r\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\r\n}\r\nfunction hexParse(str) {\r\n\tvar len = str.length;\r\n\tvar ret;\r\n\tif (str[0] === '#') {\r\n\t\tif (len === 4 || len === 5) {\r\n\t\t\tret = {\r\n\t\t\t\tr: 255 & map[str[1]] * 17,\r\n\t\t\t\tg: 255 & map[str[2]] * 17,\r\n\t\t\t\tb: 255 & map[str[3]] * 17,\r\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\r\n\t\t\t};\r\n\t\t} else if (len === 7 || len === 9) {\r\n\t\t\tret = {\r\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\r\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\r\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\r\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n}\r\nfunction hexString(v) {\r\n\tvar f = isShort(v) ? h1 : h2;\r\n\treturn v\r\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\r\n\t\t: v;\r\n}\r\nfunction round(v) {\r\n\treturn v + 0.5 | 0;\r\n}\r\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\r\nfunction p2b(v) {\r\n\treturn lim(round(v * 2.55), 0, 255);\r\n}\r\nfunction n2b(v) {\r\n\treturn lim(round(v * 255), 0, 255);\r\n}\r\nfunction b2n(v) {\r\n\treturn lim(round(v / 2.55) / 100, 0, 1);\r\n}\r\nfunction n2p(v) {\r\n\treturn lim(round(v * 100), 0, 100);\r\n}\r\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\r\nfunction rgbParse(str) {\r\n\tconst m = RGB_RE.exec(str);\r\n\tlet a = 255;\r\n\tlet r, g, b;\r\n\tif (!m) {\r\n\t\treturn;\r\n\t}\r\n\tif (m[7] !== r) {\r\n\t\tconst v = +m[7];\r\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\r\n\t}\r\n\tr = +m[1];\r\n\tg = +m[3];\r\n\tb = +m[5];\r\n\tr = 255 & (m[2] ? p2b(r) : r);\r\n\tg = 255 & (m[4] ? p2b(g) : g);\r\n\tb = 255 & (m[6] ? p2b(b) : b);\r\n\treturn {\r\n\t\tr: r,\r\n\t\tg: g,\r\n\t\tb: b,\r\n\t\ta: a\r\n\t};\r\n}\r\nfunction rgbString(v) {\r\n\treturn v && (\r\n\t\tv.a < 255\r\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\r\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\r\n\t);\r\n}\r\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\r\nfunction hsl2rgbn(h, s, l) {\r\n\tconst a = s * Math.min(l, 1 - l);\r\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\r\n\treturn [f(0), f(8), f(4)];\r\n}\r\nfunction hsv2rgbn(h, s, v) {\r\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\r\n\treturn [f(5), f(3), f(1)];\r\n}\r\nfunction hwb2rgbn(h, w, b) {\r\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\r\n\tlet i;\r\n\tif (w + b > 1) {\r\n\t\ti = 1 / (w + b);\r\n\t\tw *= i;\r\n\t\tb *= i;\r\n\t}\r\n\tfor (i = 0; i < 3; i++) {\r\n\t\trgb[i] *= 1 - w - b;\r\n\t\trgb[i] += w;\r\n\t}\r\n\treturn rgb;\r\n}\r\nfunction rgb2hsl(v) {\r\n\tconst range = 255;\r\n\tconst r = v.r / range;\r\n\tconst g = v.g / range;\r\n\tconst b = v.b / range;\r\n\tconst max = Math.max(r, g, b);\r\n\tconst min = Math.min(r, g, b);\r\n\tconst l = (max + min) / 2;\r\n\tlet h, s, d;\r\n\tif (max !== min) {\r\n\t\td = max - min;\r\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\t\th = max === r\r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\r\n\t\t\t: max === g\r\n\t\t\t\t? (b - r) / d + 2\r\n\t\t\t\t: (r - g) / d + 4;\r\n\t\th = h * 60 + 0.5;\r\n\t}\r\n\treturn [h | 0, s || 0, l];\r\n}\r\nfunction calln(f, a, b, c) {\r\n\treturn (\r\n\t\tArray.isArray(a)\r\n\t\t\t? f(a[0], a[1], a[2])\r\n\t\t\t: f(a, b, c)\r\n\t).map(n2b);\r\n}\r\nfunction hsl2rgb(h, s, l) {\r\n\treturn calln(hsl2rgbn, h, s, l);\r\n}\r\nfunction hwb2rgb(h, w, b) {\r\n\treturn calln(hwb2rgbn, h, w, b);\r\n}\r\nfunction hsv2rgb(h, s, v) {\r\n\treturn calln(hsv2rgbn, h, s, v);\r\n}\r\nfunction hue(h) {\r\n\treturn (h % 360 + 360) % 360;\r\n}\r\nfunction hueParse(str) {\r\n\tconst m = HUE_RE.exec(str);\r\n\tlet a = 255;\r\n\tlet v;\r\n\tif (!m) {\r\n\t\treturn;\r\n\t}\r\n\tif (m[5] !== v) {\r\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\r\n\t}\r\n\tconst h = hue(+m[2]);\r\n\tconst p1 = +m[3] / 100;\r\n\tconst p2 = +m[4] / 100;\r\n\tif (m[1] === 'hwb') {\r\n\t\tv = hwb2rgb(h, p1, p2);\r\n\t} else if (m[1] === 'hsv') {\r\n\t\tv = hsv2rgb(h, p1, p2);\r\n\t} else {\r\n\t\tv = hsl2rgb(h, p1, p2);\r\n\t}\r\n\treturn {\r\n\t\tr: v[0],\r\n\t\tg: v[1],\r\n\t\tb: v[2],\r\n\t\ta: a\r\n\t};\r\n}\r\nfunction rotate(v, deg) {\r\n\tvar h = rgb2hsl(v);\r\n\th[0] = hue(h[0] + deg);\r\n\th = hsl2rgb(h);\r\n\tv.r = h[0];\r\n\tv.g = h[1];\r\n\tv.b = h[2];\r\n}\r\nfunction hslString(v) {\r\n\tif (!v) {\r\n\t\treturn;\r\n\t}\r\n\tconst a = rgb2hsl(v);\r\n\tconst h = a[0];\r\n\tconst s = n2p(a[1]);\r\n\tconst l = n2p(a[2]);\r\n\treturn v.a < 255\r\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\r\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\r\n}\r\nconst map$1 = {\r\n\tx: 'dark',\r\n\tZ: 'light',\r\n\tY: 're',\r\n\tX: 'blu',\r\n\tW: 'gr',\r\n\tV: 'medium',\r\n\tU: 'slate',\r\n\tA: 'ee',\r\n\tT: 'ol',\r\n\tS: 'or',\r\n\tB: 'ra',\r\n\tC: 'lateg',\r\n\tD: 'ights',\r\n\tR: 'in',\r\n\tQ: 'turquois',\r\n\tE: 'hi',\r\n\tP: 'ro',\r\n\tO: 'al',\r\n\tN: 'le',\r\n\tM: 'de',\r\n\tL: 'yello',\r\n\tF: 'en',\r\n\tK: 'ch',\r\n\tG: 'arks',\r\n\tH: 'ea',\r\n\tI: 'ightg',\r\n\tJ: 'wh'\r\n};\r\nconst names = {\r\n\tOiceXe: 'f0f8ff',\r\n\tantiquewEte: 'faebd7',\r\n\taqua: 'ffff',\r\n\taquamarRe: '7fffd4',\r\n\tazuY: 'f0ffff',\r\n\tbeige: 'f5f5dc',\r\n\tbisque: 'ffe4c4',\r\n\tblack: '0',\r\n\tblanKedOmond: 'ffebcd',\r\n\tXe: 'ff',\r\n\tXeviTet: '8a2be2',\r\n\tbPwn: 'a52a2a',\r\n\tburlywood: 'deb887',\r\n\tcaMtXe: '5f9ea0',\r\n\tKartYuse: '7fff00',\r\n\tKocTate: 'd2691e',\r\n\tcSO: 'ff7f50',\r\n\tcSnflowerXe: '6495ed',\r\n\tcSnsilk: 'fff8dc',\r\n\tcrimson: 'dc143c',\r\n\tcyan: 'ffff',\r\n\txXe: '8b',\r\n\txcyan: '8b8b',\r\n\txgTMnPd: 'b8860b',\r\n\txWay: 'a9a9a9',\r\n\txgYF: '6400',\r\n\txgYy: 'a9a9a9',\r\n\txkhaki: 'bdb76b',\r\n\txmagFta: '8b008b',\r\n\txTivegYF: '556b2f',\r\n\txSange: 'ff8c00',\r\n\txScEd: '9932cc',\r\n\txYd: '8b0000',\r\n\txsOmon: 'e9967a',\r\n\txsHgYF: '8fbc8f',\r\n\txUXe: '483d8b',\r\n\txUWay: '2f4f4f',\r\n\txUgYy: '2f4f4f',\r\n\txQe: 'ced1',\r\n\txviTet: '9400d3',\r\n\tdAppRk: 'ff1493',\r\n\tdApskyXe: 'bfff',\r\n\tdimWay: '696969',\r\n\tdimgYy: '696969',\r\n\tdodgerXe: '1e90ff',\r\n\tfiYbrick: 'b22222',\r\n\tflSOwEte: 'fffaf0',\r\n\tfoYstWAn: '228b22',\r\n\tfuKsia: 'ff00ff',\r\n\tgaRsbSo: 'dcdcdc',\r\n\tghostwEte: 'f8f8ff',\r\n\tgTd: 'ffd700',\r\n\tgTMnPd: 'daa520',\r\n\tWay: '808080',\r\n\tgYF: '8000',\r\n\tgYFLw: 'adff2f',\r\n\tgYy: '808080',\r\n\thoneyMw: 'f0fff0',\r\n\thotpRk: 'ff69b4',\r\n\tRdianYd: 'cd5c5c',\r\n\tRdigo: '4b0082',\r\n\tivSy: 'fffff0',\r\n\tkhaki: 'f0e68c',\r\n\tlavFMr: 'e6e6fa',\r\n\tlavFMrXsh: 'fff0f5',\r\n\tlawngYF: '7cfc00',\r\n\tNmoncEffon: 'fffacd',\r\n\tZXe: 'add8e6',\r\n\tZcSO: 'f08080',\r\n\tZcyan: 'e0ffff',\r\n\tZgTMnPdLw: 'fafad2',\r\n\tZWay: 'd3d3d3',\r\n\tZgYF: '90ee90',\r\n\tZgYy: 'd3d3d3',\r\n\tZpRk: 'ffb6c1',\r\n\tZsOmon: 'ffa07a',\r\n\tZsHgYF: '20b2aa',\r\n\tZskyXe: '87cefa',\r\n\tZUWay: '778899',\r\n\tZUgYy: '778899',\r\n\tZstAlXe: 'b0c4de',\r\n\tZLw: 'ffffe0',\r\n\tlime: 'ff00',\r\n\tlimegYF: '32cd32',\r\n\tlRF: 'faf0e6',\r\n\tmagFta: 'ff00ff',\r\n\tmaPon: '800000',\r\n\tVaquamarRe: '66cdaa',\r\n\tVXe: 'cd',\r\n\tVScEd: 'ba55d3',\r\n\tVpurpN: '9370db',\r\n\tVsHgYF: '3cb371',\r\n\tVUXe: '7b68ee',\r\n\tVsprRggYF: 'fa9a',\r\n\tVQe: '48d1cc',\r\n\tVviTetYd: 'c71585',\r\n\tmidnightXe: '191970',\r\n\tmRtcYam: 'f5fffa',\r\n\tmistyPse: 'ffe4e1',\r\n\tmoccasR: 'ffe4b5',\r\n\tnavajowEte: 'ffdead',\r\n\tnavy: '80',\r\n\tTdlace: 'fdf5e6',\r\n\tTive: '808000',\r\n\tTivedBb: '6b8e23',\r\n\tSange: 'ffa500',\r\n\tSangeYd: 'ff4500',\r\n\tScEd: 'da70d6',\r\n\tpOegTMnPd: 'eee8aa',\r\n\tpOegYF: '98fb98',\r\n\tpOeQe: 'afeeee',\r\n\tpOeviTetYd: 'db7093',\r\n\tpapayawEp: 'ffefd5',\r\n\tpHKpuff: 'ffdab9',\r\n\tperu: 'cd853f',\r\n\tpRk: 'ffc0cb',\r\n\tplum: 'dda0dd',\r\n\tpowMrXe: 'b0e0e6',\r\n\tpurpN: '800080',\r\n\tYbeccapurpN: '663399',\r\n\tYd: 'ff0000',\r\n\tPsybrown: 'bc8f8f',\r\n\tPyOXe: '4169e1',\r\n\tsaddNbPwn: '8b4513',\r\n\tsOmon: 'fa8072',\r\n\tsandybPwn: 'f4a460',\r\n\tsHgYF: '2e8b57',\r\n\tsHshell: 'fff5ee',\r\n\tsiFna: 'a0522d',\r\n\tsilver: 'c0c0c0',\r\n\tskyXe: '87ceeb',\r\n\tUXe: '6a5acd',\r\n\tUWay: '708090',\r\n\tUgYy: '708090',\r\n\tsnow: 'fffafa',\r\n\tsprRggYF: 'ff7f',\r\n\tstAlXe: '4682b4',\r\n\ttan: 'd2b48c',\r\n\tteO: '8080',\r\n\ttEstN: 'd8bfd8',\r\n\ttomato: 'ff6347',\r\n\tQe: '40e0d0',\r\n\tviTet: 'ee82ee',\r\n\tJHt: 'f5deb3',\r\n\twEte: 'ffffff',\r\n\twEtesmoke: 'f5f5f5',\r\n\tLw: 'ffff00',\r\n\tLwgYF: '9acd32'\r\n};\r\nfunction unpack() {\r\n\tconst unpacked = {};\r\n\tconst keys = Object.keys(names);\r\n\tconst tkeys = Object.keys(map$1);\r\n\tlet i, j, k, ok, nk;\r\n\tfor (i = 0; i < keys.length; i++) {\r\n\t\tok = nk = keys[i];\r\n\t\tfor (j = 0; j < tkeys.length; j++) {\r\n\t\t\tk = tkeys[j];\r\n\t\t\tnk = nk.replace(k, map$1[k]);\r\n\t\t}\r\n\t\tk = parseInt(names[ok], 16);\r\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\r\n\t}\r\n\treturn unpacked;\r\n}\r\nlet names$1;\r\nfunction nameParse(str) {\r\n\tif (!names$1) {\r\n\t\tnames$1 = unpack();\r\n\t\tnames$1.transparent = [0, 0, 0, 0];\r\n\t}\r\n\tconst a = names$1[str.toLowerCase()];\r\n\treturn a && {\r\n\t\tr: a[0],\r\n\t\tg: a[1],\r\n\t\tb: a[2],\r\n\t\ta: a.length === 4 ? a[3] : 255\r\n\t};\r\n}\r\nfunction modHSL(v, i, ratio) {\r\n\tif (v) {\r\n\t\tlet tmp = rgb2hsl(v);\r\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\r\n\t\ttmp = hsl2rgb(tmp);\r\n\t\tv.r = tmp[0];\r\n\t\tv.g = tmp[1];\r\n\t\tv.b = tmp[2];\r\n\t}\r\n}\r\nfunction clone(v, proto) {\r\n\treturn v ? Object.assign(proto || {}, v) : v;\r\n}\r\nfunction fromObject(input) {\r\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\r\n\tif (Array.isArray(input)) {\r\n\t\tif (input.length >= 3) {\r\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\r\n\t\t\tif (input.length > 3) {\r\n\t\t\t\tv.a = n2b(input[3]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\r\n\t\tv.a = n2b(v.a);\r\n\t}\r\n\treturn v;\r\n}\r\nfunction functionParse(str) {\r\n\tif (str.charAt(0) === 'r') {\r\n\t\treturn rgbParse(str);\r\n\t}\r\n\treturn hueParse(str);\r\n}\r\nclass Color {\r\n\tconstructor(input) {\r\n\t\tif (input instanceof Color) {\r\n\t\t\treturn input;\r\n\t\t}\r\n\t\tconst type = typeof input;\r\n\t\tlet v;\r\n\t\tif (type === 'object') {\r\n\t\t\tv = fromObject(input);\r\n\t\t} else if (type === 'string') {\r\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\r\n\t\t}\r\n\t\tthis._rgb = v;\r\n\t\tthis._valid = !!v;\r\n\t}\r\n\tget valid() {\r\n\t\treturn this._valid;\r\n\t}\r\n\tget rgb() {\r\n\t\tvar v = clone(this._rgb);\r\n\t\tif (v) {\r\n\t\t\tv.a = b2n(v.a);\r\n\t\t}\r\n\t\treturn v;\r\n\t}\r\n\tset rgb(obj) {\r\n\t\tthis._rgb = fromObject(obj);\r\n\t}\r\n\trgbString() {\r\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\r\n\t}\r\n\thexString() {\r\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\r\n\t}\r\n\thslString() {\r\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\r\n\t}\r\n\tmix(color, weight) {\r\n\t\tconst me = this;\r\n\t\tif (color) {\r\n\t\t\tconst c1 = me.rgb;\r\n\t\t\tconst c2 = color.rgb;\r\n\t\t\tlet w2;\r\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\r\n\t\t\tconst w = 2 * p - 1;\r\n\t\t\tconst a = c1.a - c2.a;\r\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\r\n\t\t\tw2 = 1 - w1;\r\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\r\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\r\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\r\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\r\n\t\t\tme.rgb = c1;\r\n\t\t}\r\n\t\treturn me;\r\n\t}\r\n\tclone() {\r\n\t\treturn new Color(this.rgb);\r\n\t}\r\n\talpha(a) {\r\n\t\tthis._rgb.a = n2b(a);\r\n\t\treturn this;\r\n\t}\r\n\tclearer(ratio) {\r\n\t\tconst rgb = this._rgb;\r\n\t\trgb.a *= 1 - ratio;\r\n\t\treturn this;\r\n\t}\r\n\tgreyscale() {\r\n\t\tconst rgb = this._rgb;\r\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\r\n\t\trgb.r = rgb.g = rgb.b = val;\r\n\t\treturn this;\r\n\t}\r\n\topaquer(ratio) {\r\n\t\tconst rgb = this._rgb;\r\n\t\trgb.a *= 1 + ratio;\r\n\t\treturn this;\r\n\t}\r\n\tnegate() {\r\n\t\tconst v = this._rgb;\r\n\t\tv.r = 255 - v.r;\r\n\t\tv.g = 255 - v.g;\r\n\t\tv.b = 255 - v.b;\r\n\t\treturn this;\r\n\t}\r\n\tlighten(ratio) {\r\n\t\tmodHSL(this._rgb, 2, ratio);\r\n\t\treturn this;\r\n\t}\r\n\tdarken(ratio) {\r\n\t\tmodHSL(this._rgb, 2, -ratio);\r\n\t\treturn this;\r\n\t}\r\n\tsaturate(ratio) {\r\n\t\tmodHSL(this._rgb, 1, ratio);\r\n\t\treturn this;\r\n\t}\r\n\tdesaturate(ratio) {\r\n\t\tmodHSL(this._rgb, 1, -ratio);\r\n\t\treturn this;\r\n\t}\r\n\trotate(deg) {\r\n\t\trotate(this._rgb, deg);\r\n\t\treturn this;\r\n\t}\r\n}\r\nfunction index_esm(input) {\r\n\treturn new Color(input);\r\n}\r\n\r\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\r\nfunction color(value) {\r\n  return isPatternOrGradient(value) ? value : index_esm(value);\r\n}\r\nfunction getHoverColor(value) {\r\n  return isPatternOrGradient(value)\r\n    ? value\r\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\r\n}\r\n\r\nconst overrides = Object.create(null);\r\nconst descriptors = Object.create(null);\r\nfunction getScope$1(node, key) {\r\n  if (!key) {\r\n    return node;\r\n  }\r\n  const keys = key.split('.');\r\n  for (let i = 0, n = keys.length; i < n; ++i) {\r\n    const k = keys[i];\r\n    node = node[k] || (node[k] = Object.create(null));\r\n  }\r\n  return node;\r\n}\r\nfunction set(root, scope, values) {\r\n  if (typeof scope === 'string') {\r\n    return merge(getScope$1(root, scope), values);\r\n  }\r\n  return merge(getScope$1(root, ''), scope);\r\n}\r\nclass Defaults {\r\n  constructor(_descriptors) {\r\n    this.animation = undefined;\r\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\r\n    this.borderColor = 'rgba(0,0,0,0.1)';\r\n    this.color = '#666';\r\n    this.datasets = {};\r\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\r\n    this.elements = {};\r\n    this.events = [\r\n      'mousemove',\r\n      'mouseout',\r\n      'click',\r\n      'touchstart',\r\n      'touchmove'\r\n    ];\r\n    this.font = {\r\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n      size: 12,\r\n      style: 'normal',\r\n      lineHeight: 1.2,\r\n      weight: null\r\n    };\r\n    this.hover = {};\r\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\r\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\r\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\r\n    this.indexAxis = 'x';\r\n    this.interaction = {\r\n      mode: 'nearest',\r\n      intersect: true\r\n    };\r\n    this.maintainAspectRatio = true;\r\n    this.onHover = null;\r\n    this.onClick = null;\r\n    this.parsing = true;\r\n    this.plugins = {};\r\n    this.responsive = true;\r\n    this.scale = undefined;\r\n    this.scales = {};\r\n    this.showLine = true;\r\n    this.drawActiveElementsOnTop = true;\r\n    this.describe(_descriptors);\r\n  }\r\n  set(scope, values) {\r\n    return set(this, scope, values);\r\n  }\r\n  get(scope) {\r\n    return getScope$1(this, scope);\r\n  }\r\n  describe(scope, values) {\r\n    return set(descriptors, scope, values);\r\n  }\r\n  override(scope, values) {\r\n    return set(overrides, scope, values);\r\n  }\r\n  route(scope, name, targetScope, targetName) {\r\n    const scopeObject = getScope$1(this, scope);\r\n    const targetScopeObject = getScope$1(this, targetScope);\r\n    const privateName = '_' + name;\r\n    Object.defineProperties(scopeObject, {\r\n      [privateName]: {\r\n        value: scopeObject[name],\r\n        writable: true\r\n      },\r\n      [name]: {\r\n        enumerable: true,\r\n        get() {\r\n          const local = this[privateName];\r\n          const target = targetScopeObject[targetName];\r\n          if (isObject(local)) {\r\n            return Object.assign({}, target, local);\r\n          }\r\n          return valueOrDefault(local, target);\r\n        },\r\n        set(value) {\r\n          this[privateName] = value;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\nvar defaults = new Defaults({\r\n  _scriptable: (name) => !name.startsWith('on'),\r\n  _indexable: (name) => name !== 'events',\r\n  hover: {\r\n    _fallback: 'interaction'\r\n  },\r\n  interaction: {\r\n    _scriptable: false,\r\n    _indexable: false,\r\n  }\r\n});\r\n\r\nfunction toFontString(font) {\r\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\r\n    return null;\r\n  }\r\n  return (font.style ? font.style + ' ' : '')\r\n\t\t+ (font.weight ? font.weight + ' ' : '')\r\n\t\t+ font.size + 'px '\r\n\t\t+ font.family;\r\n}\r\nfunction _measureText(ctx, data, gc, longest, string) {\r\n  let textWidth = data[string];\r\n  if (!textWidth) {\r\n    textWidth = data[string] = ctx.measureText(string).width;\r\n    gc.push(string);\r\n  }\r\n  if (textWidth > longest) {\r\n    longest = textWidth;\r\n  }\r\n  return longest;\r\n}\r\nfunction _longestText(ctx, font, arrayOfThings, cache) {\r\n  cache = cache || {};\r\n  let data = cache.data = cache.data || {};\r\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\r\n  if (cache.font !== font) {\r\n    data = cache.data = {};\r\n    gc = cache.garbageCollect = [];\r\n    cache.font = font;\r\n  }\r\n  ctx.save();\r\n  ctx.font = font;\r\n  let longest = 0;\r\n  const ilen = arrayOfThings.length;\r\n  let i, j, jlen, thing, nestedThing;\r\n  for (i = 0; i < ilen; i++) {\r\n    thing = arrayOfThings[i];\r\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\r\n      longest = _measureText(ctx, data, gc, longest, thing);\r\n    } else if (isArray(thing)) {\r\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\r\n        nestedThing = thing[j];\r\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\r\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  ctx.restore();\r\n  const gcLen = gc.length / 2;\r\n  if (gcLen > arrayOfThings.length) {\r\n    for (i = 0; i < gcLen; i++) {\r\n      delete data[gc[i]];\r\n    }\r\n    gc.splice(0, gcLen);\r\n  }\r\n  return longest;\r\n}\r\nfunction _alignPixel(chart, pixel, width) {\r\n  const devicePixelRatio = chart.currentDevicePixelRatio;\r\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\r\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\r\n}\r\nfunction clearCanvas(canvas, ctx) {\r\n  ctx = ctx || canvas.getContext('2d');\r\n  ctx.save();\r\n  ctx.resetTransform();\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  ctx.restore();\r\n}\r\nfunction drawPoint(ctx, options, x, y) {\r\n  let type, xOffset, yOffset, size, cornerRadius;\r\n  const style = options.pointStyle;\r\n  const rotation = options.rotation;\r\n  const radius = options.radius;\r\n  let rad = (rotation || 0) * RAD_PER_DEG;\r\n  if (style && typeof style === 'object') {\r\n    type = style.toString();\r\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\r\n      ctx.save();\r\n      ctx.translate(x, y);\r\n      ctx.rotate(rad);\r\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\r\n      ctx.restore();\r\n      return;\r\n    }\r\n  }\r\n  if (isNaN(radius) || radius <= 0) {\r\n    return;\r\n  }\r\n  ctx.beginPath();\r\n  switch (style) {\r\n  default:\r\n    ctx.arc(x, y, radius, 0, TAU);\r\n    ctx.closePath();\r\n    break;\r\n  case 'triangle':\r\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n    rad += TWO_THIRDS_PI;\r\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n    rad += TWO_THIRDS_PI;\r\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n    ctx.closePath();\r\n    break;\r\n  case 'rectRounded':\r\n    cornerRadius = radius * 0.516;\r\n    size = radius - cornerRadius;\r\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\r\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\r\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\r\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\r\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\r\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\r\n    ctx.closePath();\r\n    break;\r\n  case 'rect':\r\n    if (!rotation) {\r\n      size = Math.SQRT1_2 * radius;\r\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\r\n      break;\r\n    }\r\n    rad += QUARTER_PI;\r\n  case 'rectRot':\r\n    xOffset = Math.cos(rad) * radius;\r\n    yOffset = Math.sin(rad) * radius;\r\n    ctx.moveTo(x - xOffset, y - yOffset);\r\n    ctx.lineTo(x + yOffset, y - xOffset);\r\n    ctx.lineTo(x + xOffset, y + yOffset);\r\n    ctx.lineTo(x - yOffset, y + xOffset);\r\n    ctx.closePath();\r\n    break;\r\n  case 'crossRot':\r\n    rad += QUARTER_PI;\r\n  case 'cross':\r\n    xOffset = Math.cos(rad) * radius;\r\n    yOffset = Math.sin(rad) * radius;\r\n    ctx.moveTo(x - xOffset, y - yOffset);\r\n    ctx.lineTo(x + xOffset, y + yOffset);\r\n    ctx.moveTo(x + yOffset, y - xOffset);\r\n    ctx.lineTo(x - yOffset, y + xOffset);\r\n    break;\r\n  case 'star':\r\n    xOffset = Math.cos(rad) * radius;\r\n    yOffset = Math.sin(rad) * radius;\r\n    ctx.moveTo(x - xOffset, y - yOffset);\r\n    ctx.lineTo(x + xOffset, y + yOffset);\r\n    ctx.moveTo(x + yOffset, y - xOffset);\r\n    ctx.lineTo(x - yOffset, y + xOffset);\r\n    rad += QUARTER_PI;\r\n    xOffset = Math.cos(rad) * radius;\r\n    yOffset = Math.sin(rad) * radius;\r\n    ctx.moveTo(x - xOffset, y - yOffset);\r\n    ctx.lineTo(x + xOffset, y + yOffset);\r\n    ctx.moveTo(x + yOffset, y - xOffset);\r\n    ctx.lineTo(x - yOffset, y + xOffset);\r\n    break;\r\n  case 'line':\r\n    xOffset = Math.cos(rad) * radius;\r\n    yOffset = Math.sin(rad) * radius;\r\n    ctx.moveTo(x - xOffset, y - yOffset);\r\n    ctx.lineTo(x + xOffset, y + yOffset);\r\n    break;\r\n  case 'dash':\r\n    ctx.moveTo(x, y);\r\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\r\n    break;\r\n  }\r\n  ctx.fill();\r\n  if (options.borderWidth > 0) {\r\n    ctx.stroke();\r\n  }\r\n}\r\nfunction _isPointInArea(point, area, margin) {\r\n  margin = margin || 0.5;\r\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\r\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\r\n}\r\nfunction clipArea(ctx, area) {\r\n  ctx.save();\r\n  ctx.beginPath();\r\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\r\n  ctx.clip();\r\n}\r\nfunction unclipArea(ctx) {\r\n  ctx.restore();\r\n}\r\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\r\n  if (!previous) {\r\n    return ctx.lineTo(target.x, target.y);\r\n  }\r\n  if (mode === 'middle') {\r\n    const midpoint = (previous.x + target.x) / 2.0;\r\n    ctx.lineTo(midpoint, previous.y);\r\n    ctx.lineTo(midpoint, target.y);\r\n  } else if (mode === 'after' !== !!flip) {\r\n    ctx.lineTo(previous.x, target.y);\r\n  } else {\r\n    ctx.lineTo(target.x, previous.y);\r\n  }\r\n  ctx.lineTo(target.x, target.y);\r\n}\r\nfunction _bezierCurveTo(ctx, previous, target, flip) {\r\n  if (!previous) {\r\n    return ctx.lineTo(target.x, target.y);\r\n  }\r\n  ctx.bezierCurveTo(\r\n    flip ? previous.cp1x : previous.cp2x,\r\n    flip ? previous.cp1y : previous.cp2y,\r\n    flip ? target.cp2x : target.cp1x,\r\n    flip ? target.cp2y : target.cp1y,\r\n    target.x,\r\n    target.y);\r\n}\r\nfunction renderText(ctx, text, x, y, font, opts = {}) {\r\n  const lines = isArray(text) ? text : [text];\r\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\r\n  let i, line;\r\n  ctx.save();\r\n  ctx.font = font.string;\r\n  setRenderOpts(ctx, opts);\r\n  for (i = 0; i < lines.length; ++i) {\r\n    line = lines[i];\r\n    if (stroke) {\r\n      if (opts.strokeColor) {\r\n        ctx.strokeStyle = opts.strokeColor;\r\n      }\r\n      if (!isNullOrUndef(opts.strokeWidth)) {\r\n        ctx.lineWidth = opts.strokeWidth;\r\n      }\r\n      ctx.strokeText(line, x, y, opts.maxWidth);\r\n    }\r\n    ctx.fillText(line, x, y, opts.maxWidth);\r\n    decorateText(ctx, x, y, line, opts);\r\n    y += font.lineHeight;\r\n  }\r\n  ctx.restore();\r\n}\r\nfunction setRenderOpts(ctx, opts) {\r\n  if (opts.translation) {\r\n    ctx.translate(opts.translation[0], opts.translation[1]);\r\n  }\r\n  if (!isNullOrUndef(opts.rotation)) {\r\n    ctx.rotate(opts.rotation);\r\n  }\r\n  if (opts.color) {\r\n    ctx.fillStyle = opts.color;\r\n  }\r\n  if (opts.textAlign) {\r\n    ctx.textAlign = opts.textAlign;\r\n  }\r\n  if (opts.textBaseline) {\r\n    ctx.textBaseline = opts.textBaseline;\r\n  }\r\n}\r\nfunction decorateText(ctx, x, y, line, opts) {\r\n  if (opts.strikethrough || opts.underline) {\r\n    const metrics = ctx.measureText(line);\r\n    const left = x - metrics.actualBoundingBoxLeft;\r\n    const right = x + metrics.actualBoundingBoxRight;\r\n    const top = y - metrics.actualBoundingBoxAscent;\r\n    const bottom = y + metrics.actualBoundingBoxDescent;\r\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\r\n    ctx.strokeStyle = ctx.fillStyle;\r\n    ctx.beginPath();\r\n    ctx.lineWidth = opts.decorationWidth || 2;\r\n    ctx.moveTo(left, yDecoration);\r\n    ctx.lineTo(right, yDecoration);\r\n    ctx.stroke();\r\n  }\r\n}\r\nfunction addRoundedRectPath(ctx, rect) {\r\n  const {x, y, w, h, radius} = rect;\r\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\r\n  ctx.lineTo(x, y + h - radius.bottomLeft);\r\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\r\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\r\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\r\n  ctx.lineTo(x + w, y + radius.topRight);\r\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\r\n  ctx.lineTo(x + radius.topLeft, y);\r\n}\r\n\r\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\r\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\r\nfunction toLineHeight(value, size) {\r\n  const matches = ('' + value).match(LINE_HEIGHT);\r\n  if (!matches || matches[1] === 'normal') {\r\n    return size * 1.2;\r\n  }\r\n  value = +matches[2];\r\n  switch (matches[3]) {\r\n  case 'px':\r\n    return value;\r\n  case '%':\r\n    value /= 100;\r\n    break;\r\n  }\r\n  return size * value;\r\n}\r\nconst numberOrZero = v => +v || 0;\r\nfunction _readValueToProps(value, props) {\r\n  const ret = {};\r\n  const objProps = isObject(props);\r\n  const keys = objProps ? Object.keys(props) : props;\r\n  const read = isObject(value)\r\n    ? objProps\r\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\r\n      : prop => value[prop]\r\n    : () => value;\r\n  for (const prop of keys) {\r\n    ret[prop] = numberOrZero(read(prop));\r\n  }\r\n  return ret;\r\n}\r\nfunction toTRBL(value) {\r\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\r\n}\r\nfunction toTRBLCorners(value) {\r\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\r\n}\r\nfunction toPadding(value) {\r\n  const obj = toTRBL(value);\r\n  obj.width = obj.left + obj.right;\r\n  obj.height = obj.top + obj.bottom;\r\n  return obj;\r\n}\r\nfunction toFont(options, fallback) {\r\n  options = options || {};\r\n  fallback = fallback || defaults.font;\r\n  let size = valueOrDefault(options.size, fallback.size);\r\n  if (typeof size === 'string') {\r\n    size = parseInt(size, 10);\r\n  }\r\n  let style = valueOrDefault(options.style, fallback.style);\r\n  if (style && !('' + style).match(FONT_STYLE)) {\r\n    console.warn('Invalid font style specified: \"' + style + '\"');\r\n    style = '';\r\n  }\r\n  const font = {\r\n    family: valueOrDefault(options.family, fallback.family),\r\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\r\n    size,\r\n    style,\r\n    weight: valueOrDefault(options.weight, fallback.weight),\r\n    string: ''\r\n  };\r\n  font.string = toFontString(font);\r\n  return font;\r\n}\r\nfunction resolve(inputs, context, index, info) {\r\n  let cacheable = true;\r\n  let i, ilen, value;\r\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\r\n    value = inputs[i];\r\n    if (value === undefined) {\r\n      continue;\r\n    }\r\n    if (context !== undefined && typeof value === 'function') {\r\n      value = value(context);\r\n      cacheable = false;\r\n    }\r\n    if (index !== undefined && isArray(value)) {\r\n      value = value[index % value.length];\r\n      cacheable = false;\r\n    }\r\n    if (value !== undefined) {\r\n      if (info && !cacheable) {\r\n        info.cacheable = false;\r\n      }\r\n      return value;\r\n    }\r\n  }\r\n}\r\nfunction _addGrace(minmax, grace, beginAtZero) {\r\n  const {min, max} = minmax;\r\n  const change = toDimension(grace, (max - min) / 2);\r\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\r\n  return {\r\n    min: keepZero(min, -Math.abs(change)),\r\n    max: keepZero(max, change)\r\n  };\r\n}\r\nfunction createContext(parentContext, context) {\r\n  return Object.assign(Object.create(parentContext), context);\r\n}\r\n\r\nfunction _lookup(table, value, cmp) {\r\n  cmp = cmp || ((index) => table[index] < value);\r\n  let hi = table.length - 1;\r\n  let lo = 0;\r\n  let mid;\r\n  while (hi - lo > 1) {\r\n    mid = (lo + hi) >> 1;\r\n    if (cmp(mid)) {\r\n      lo = mid;\r\n    } else {\r\n      hi = mid;\r\n    }\r\n  }\r\n  return {lo, hi};\r\n}\r\nconst _lookupByKey = (table, key, value) =>\r\n  _lookup(table, value, index => table[index][key] < value);\r\nconst _rlookupByKey = (table, key, value) =>\r\n  _lookup(table, value, index => table[index][key] >= value);\r\nfunction _filterBetween(values, min, max) {\r\n  let start = 0;\r\n  let end = values.length;\r\n  while (start < end && values[start] < min) {\r\n    start++;\r\n  }\r\n  while (end > start && values[end - 1] > max) {\r\n    end--;\r\n  }\r\n  return start > 0 || end < values.length\r\n    ? values.slice(start, end)\r\n    : values;\r\n}\r\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\r\nfunction listenArrayEvents(array, listener) {\r\n  if (array._chartjs) {\r\n    array._chartjs.listeners.push(listener);\r\n    return;\r\n  }\r\n  Object.defineProperty(array, '_chartjs', {\r\n    configurable: true,\r\n    enumerable: false,\r\n    value: {\r\n      listeners: [listener]\r\n    }\r\n  });\r\n  arrayEvents.forEach((key) => {\r\n    const method = '_onData' + _capitalize(key);\r\n    const base = array[key];\r\n    Object.defineProperty(array, key, {\r\n      configurable: true,\r\n      enumerable: false,\r\n      value(...args) {\r\n        const res = base.apply(this, args);\r\n        array._chartjs.listeners.forEach((object) => {\r\n          if (typeof object[method] === 'function') {\r\n            object[method](...args);\r\n          }\r\n        });\r\n        return res;\r\n      }\r\n    });\r\n  });\r\n}\r\nfunction unlistenArrayEvents(array, listener) {\r\n  const stub = array._chartjs;\r\n  if (!stub) {\r\n    return;\r\n  }\r\n  const listeners = stub.listeners;\r\n  const index = listeners.indexOf(listener);\r\n  if (index !== -1) {\r\n    listeners.splice(index, 1);\r\n  }\r\n  if (listeners.length > 0) {\r\n    return;\r\n  }\r\n  arrayEvents.forEach((key) => {\r\n    delete array[key];\r\n  });\r\n  delete array._chartjs;\r\n}\r\nfunction _arrayUnique(items) {\r\n  const set = new Set();\r\n  let i, ilen;\r\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\r\n    set.add(items[i]);\r\n  }\r\n  if (set.size === ilen) {\r\n    return items;\r\n  }\r\n  return Array.from(set);\r\n}\r\n\r\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\r\n  if (!defined(fallback)) {\r\n    fallback = _resolve('_fallback', scopes);\r\n  }\r\n  const cache = {\r\n    [Symbol.toStringTag]: 'Object',\r\n    _cacheable: true,\r\n    _scopes: scopes,\r\n    _rootScopes: rootScopes,\r\n    _fallback: fallback,\r\n    _getTarget: getTarget,\r\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\r\n  };\r\n  return new Proxy(cache, {\r\n    deleteProperty(target, prop) {\r\n      delete target[prop];\r\n      delete target._keys;\r\n      delete scopes[0][prop];\r\n      return true;\r\n    },\r\n    get(target, prop) {\r\n      return _cached(target, prop,\r\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\r\n    },\r\n    getOwnPropertyDescriptor(target, prop) {\r\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\r\n    },\r\n    getPrototypeOf() {\r\n      return Reflect.getPrototypeOf(scopes[0]);\r\n    },\r\n    has(target, prop) {\r\n      return getKeysFromAllScopes(target).includes(prop);\r\n    },\r\n    ownKeys(target) {\r\n      return getKeysFromAllScopes(target);\r\n    },\r\n    set(target, prop, value) {\r\n      const storage = target._storage || (target._storage = getTarget());\r\n      target[prop] = storage[prop] = value;\r\n      delete target._keys;\r\n      return true;\r\n    }\r\n  });\r\n}\r\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\r\n  const cache = {\r\n    _cacheable: false,\r\n    _proxy: proxy,\r\n    _context: context,\r\n    _subProxy: subProxy,\r\n    _stack: new Set(),\r\n    _descriptors: _descriptors(proxy, descriptorDefaults),\r\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\r\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\r\n  };\r\n  return new Proxy(cache, {\r\n    deleteProperty(target, prop) {\r\n      delete target[prop];\r\n      delete proxy[prop];\r\n      return true;\r\n    },\r\n    get(target, prop, receiver) {\r\n      return _cached(target, prop,\r\n        () => _resolveWithContext(target, prop, receiver));\r\n    },\r\n    getOwnPropertyDescriptor(target, prop) {\r\n      return target._descriptors.allKeys\r\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\r\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\r\n    },\r\n    getPrototypeOf() {\r\n      return Reflect.getPrototypeOf(proxy);\r\n    },\r\n    has(target, prop) {\r\n      return Reflect.has(proxy, prop);\r\n    },\r\n    ownKeys() {\r\n      return Reflect.ownKeys(proxy);\r\n    },\r\n    set(target, prop, value) {\r\n      proxy[prop] = value;\r\n      delete target[prop];\r\n      return true;\r\n    }\r\n  });\r\n}\r\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\r\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\r\n  return {\r\n    allKeys: _allKeys,\r\n    scriptable: _scriptable,\r\n    indexable: _indexable,\r\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\r\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\r\n  };\r\n}\r\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\r\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\r\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\r\nfunction _cached(target, prop, resolve) {\r\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\r\n    return target[prop];\r\n  }\r\n  const value = resolve();\r\n  target[prop] = value;\r\n  return value;\r\n}\r\nfunction _resolveWithContext(target, prop, receiver) {\r\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\r\n  let value = _proxy[prop];\r\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\r\n    value = _resolveScriptable(prop, value, target, receiver);\r\n  }\r\n  if (isArray(value) && value.length) {\r\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\r\n  }\r\n  if (needsSubResolver(prop, value)) {\r\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\r\n  }\r\n  return value;\r\n}\r\nfunction _resolveScriptable(prop, value, target, receiver) {\r\n  const {_proxy, _context, _subProxy, _stack} = target;\r\n  if (_stack.has(prop)) {\r\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\r\n  }\r\n  _stack.add(prop);\r\n  value = value(_context, _subProxy || receiver);\r\n  _stack.delete(prop);\r\n  if (needsSubResolver(prop, value)) {\r\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\r\n  }\r\n  return value;\r\n}\r\nfunction _resolveArray(prop, value, target, isIndexable) {\r\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\r\n  if (defined(_context.index) && isIndexable(prop)) {\r\n    value = value[_context.index % value.length];\r\n  } else if (isObject(value[0])) {\r\n    const arr = value;\r\n    const scopes = _proxy._scopes.filter(s => s !== arr);\r\n    value = [];\r\n    for (const item of arr) {\r\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\r\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\r\n    }\r\n  }\r\n  return value;\r\n}\r\nfunction resolveFallback(fallback, prop, value) {\r\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\r\n}\r\nconst getScope = (key, parent) => key === true ? parent\r\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\r\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\r\n  for (const parent of parentScopes) {\r\n    const scope = getScope(key, parent);\r\n    if (scope) {\r\n      set.add(scope);\r\n      const fallback = resolveFallback(scope._fallback, key, value);\r\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\r\n        return fallback;\r\n      }\r\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\r\n      return null;\r\n    }\r\n  }\r\n  return false;\r\n}\r\nfunction createSubResolver(parentScopes, resolver, prop, value) {\r\n  const rootScopes = resolver._rootScopes;\r\n  const fallback = resolveFallback(resolver._fallback, prop, value);\r\n  const allScopes = [...parentScopes, ...rootScopes];\r\n  const set = new Set();\r\n  set.add(value);\r\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\r\n  if (key === null) {\r\n    return false;\r\n  }\r\n  if (defined(fallback) && fallback !== prop) {\r\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\r\n    if (key === null) {\r\n      return false;\r\n    }\r\n  }\r\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\r\n    () => subGetTarget(resolver, prop, value));\r\n}\r\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\r\n  while (key) {\r\n    key = addScopes(set, allScopes, key, fallback, item);\r\n  }\r\n  return key;\r\n}\r\nfunction subGetTarget(resolver, prop, value) {\r\n  const parent = resolver._getTarget();\r\n  if (!(prop in parent)) {\r\n    parent[prop] = {};\r\n  }\r\n  const target = parent[prop];\r\n  if (isArray(target) && isObject(value)) {\r\n    return value;\r\n  }\r\n  return target;\r\n}\r\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\r\n  let value;\r\n  for (const prefix of prefixes) {\r\n    value = _resolve(readKey(prefix, prop), scopes);\r\n    if (defined(value)) {\r\n      return needsSubResolver(prop, value)\r\n        ? createSubResolver(scopes, proxy, prop, value)\r\n        : value;\r\n    }\r\n  }\r\n}\r\nfunction _resolve(key, scopes) {\r\n  for (const scope of scopes) {\r\n    if (!scope) {\r\n      continue;\r\n    }\r\n    const value = scope[key];\r\n    if (defined(value)) {\r\n      return value;\r\n    }\r\n  }\r\n}\r\nfunction getKeysFromAllScopes(target) {\r\n  let keys = target._keys;\r\n  if (!keys) {\r\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\r\n  }\r\n  return keys;\r\n}\r\nfunction resolveKeysFromAllScopes(scopes) {\r\n  const set = new Set();\r\n  for (const scope of scopes) {\r\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\r\n      set.add(key);\r\n    }\r\n  }\r\n  return Array.from(set);\r\n}\r\n\r\nconst EPSILON = Number.EPSILON || 1e-14;\r\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\r\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\r\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\r\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\r\n  const current = middlePoint;\r\n  const next = afterPoint.skip ? middlePoint : afterPoint;\r\n  const d01 = distanceBetweenPoints(current, previous);\r\n  const d12 = distanceBetweenPoints(next, current);\r\n  let s01 = d01 / (d01 + d12);\r\n  let s12 = d12 / (d01 + d12);\r\n  s01 = isNaN(s01) ? 0 : s01;\r\n  s12 = isNaN(s12) ? 0 : s12;\r\n  const fa = t * s01;\r\n  const fb = t * s12;\r\n  return {\r\n    previous: {\r\n      x: current.x - fa * (next.x - previous.x),\r\n      y: current.y - fa * (next.y - previous.y)\r\n    },\r\n    next: {\r\n      x: current.x + fb * (next.x - previous.x),\r\n      y: current.y + fb * (next.y - previous.y)\r\n    }\r\n  };\r\n}\r\nfunction monotoneAdjust(points, deltaK, mK) {\r\n  const pointsLen = points.length;\r\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\r\n  let pointAfter = getPoint(points, 0);\r\n  for (let i = 0; i < pointsLen - 1; ++i) {\r\n    pointCurrent = pointAfter;\r\n    pointAfter = getPoint(points, i + 1);\r\n    if (!pointCurrent || !pointAfter) {\r\n      continue;\r\n    }\r\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\r\n      mK[i] = mK[i + 1] = 0;\r\n      continue;\r\n    }\r\n    alphaK = mK[i] / deltaK[i];\r\n    betaK = mK[i + 1] / deltaK[i];\r\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\r\n    if (squaredMagnitude <= 9) {\r\n      continue;\r\n    }\r\n    tauK = 3 / Math.sqrt(squaredMagnitude);\r\n    mK[i] = alphaK * tauK * deltaK[i];\r\n    mK[i + 1] = betaK * tauK * deltaK[i];\r\n  }\r\n}\r\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\r\n  const valueAxis = getValueAxis(indexAxis);\r\n  const pointsLen = points.length;\r\n  let delta, pointBefore, pointCurrent;\r\n  let pointAfter = getPoint(points, 0);\r\n  for (let i = 0; i < pointsLen; ++i) {\r\n    pointBefore = pointCurrent;\r\n    pointCurrent = pointAfter;\r\n    pointAfter = getPoint(points, i + 1);\r\n    if (!pointCurrent) {\r\n      continue;\r\n    }\r\n    const iPixel = pointCurrent[indexAxis];\r\n    const vPixel = pointCurrent[valueAxis];\r\n    if (pointBefore) {\r\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\r\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\r\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\r\n    }\r\n    if (pointAfter) {\r\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\r\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\r\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\r\n    }\r\n  }\r\n}\r\nfunction splineCurveMonotone(points, indexAxis = 'x') {\r\n  const valueAxis = getValueAxis(indexAxis);\r\n  const pointsLen = points.length;\r\n  const deltaK = Array(pointsLen).fill(0);\r\n  const mK = Array(pointsLen);\r\n  let i, pointBefore, pointCurrent;\r\n  let pointAfter = getPoint(points, 0);\r\n  for (i = 0; i < pointsLen; ++i) {\r\n    pointBefore = pointCurrent;\r\n    pointCurrent = pointAfter;\r\n    pointAfter = getPoint(points, i + 1);\r\n    if (!pointCurrent) {\r\n      continue;\r\n    }\r\n    if (pointAfter) {\r\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\r\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\r\n    }\r\n    mK[i] = !pointBefore ? deltaK[i]\r\n      : !pointAfter ? deltaK[i - 1]\r\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\r\n      : (deltaK[i - 1] + deltaK[i]) / 2;\r\n  }\r\n  monotoneAdjust(points, deltaK, mK);\r\n  monotoneCompute(points, mK, indexAxis);\r\n}\r\nfunction capControlPoint(pt, min, max) {\r\n  return Math.max(Math.min(pt, max), min);\r\n}\r\nfunction capBezierPoints(points, area) {\r\n  let i, ilen, point, inArea, inAreaPrev;\r\n  let inAreaNext = _isPointInArea(points[0], area);\r\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\r\n    inAreaPrev = inArea;\r\n    inArea = inAreaNext;\r\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\r\n    if (!inArea) {\r\n      continue;\r\n    }\r\n    point = points[i];\r\n    if (inAreaPrev) {\r\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\r\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\r\n    }\r\n    if (inAreaNext) {\r\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\r\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\r\n    }\r\n  }\r\n}\r\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\r\n  let i, ilen, point, controlPoints;\r\n  if (options.spanGaps) {\r\n    points = points.filter((pt) => !pt.skip);\r\n  }\r\n  if (options.cubicInterpolationMode === 'monotone') {\r\n    splineCurveMonotone(points, indexAxis);\r\n  } else {\r\n    let prev = loop ? points[points.length - 1] : points[0];\r\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\r\n      point = points[i];\r\n      controlPoints = splineCurve(\r\n        prev,\r\n        point,\r\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\r\n        options.tension\r\n      );\r\n      point.cp1x = controlPoints.previous.x;\r\n      point.cp1y = controlPoints.previous.y;\r\n      point.cp2x = controlPoints.next.x;\r\n      point.cp2y = controlPoints.next.y;\r\n      prev = point;\r\n    }\r\n  }\r\n  if (options.capBezierPoints) {\r\n    capBezierPoints(points, area);\r\n  }\r\n}\r\n\r\nfunction _isDomSupported() {\r\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\r\n}\r\nfunction _getParentNode(domNode) {\r\n  let parent = domNode.parentNode;\r\n  if (parent && parent.toString() === '[object ShadowRoot]') {\r\n    parent = parent.host;\r\n  }\r\n  return parent;\r\n}\r\nfunction parseMaxStyle(styleValue, node, parentProperty) {\r\n  let valueInPixels;\r\n  if (typeof styleValue === 'string') {\r\n    valueInPixels = parseInt(styleValue, 10);\r\n    if (styleValue.indexOf('%') !== -1) {\r\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\r\n    }\r\n  } else {\r\n    valueInPixels = styleValue;\r\n  }\r\n  return valueInPixels;\r\n}\r\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\r\nfunction getStyle(el, property) {\r\n  return getComputedStyle(el).getPropertyValue(property);\r\n}\r\nconst positions = ['top', 'right', 'bottom', 'left'];\r\nfunction getPositionedStyle(styles, style, suffix) {\r\n  const result = {};\r\n  suffix = suffix ? '-' + suffix : '';\r\n  for (let i = 0; i < 4; i++) {\r\n    const pos = positions[i];\r\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\r\n  }\r\n  result.width = result.left + result.right;\r\n  result.height = result.top + result.bottom;\r\n  return result;\r\n}\r\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\r\nfunction getCanvasPosition(evt, canvas) {\r\n  const e = evt.native || evt;\r\n  const touches = e.touches;\r\n  const source = touches && touches.length ? touches[0] : e;\r\n  const {offsetX, offsetY} = source;\r\n  let box = false;\r\n  let x, y;\r\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\r\n    x = offsetX;\r\n    y = offsetY;\r\n  } else {\r\n    const rect = canvas.getBoundingClientRect();\r\n    x = source.clientX - rect.left;\r\n    y = source.clientY - rect.top;\r\n    box = true;\r\n  }\r\n  return {x, y, box};\r\n}\r\nfunction getRelativePosition(evt, chart) {\r\n  const {canvas, currentDevicePixelRatio} = chart;\r\n  const style = getComputedStyle(canvas);\r\n  const borderBox = style.boxSizing === 'border-box';\r\n  const paddings = getPositionedStyle(style, 'padding');\r\n  const borders = getPositionedStyle(style, 'border', 'width');\r\n  const {x, y, box} = getCanvasPosition(evt, canvas);\r\n  const xOffset = paddings.left + (box && borders.left);\r\n  const yOffset = paddings.top + (box && borders.top);\r\n  let {width, height} = chart;\r\n  if (borderBox) {\r\n    width -= paddings.width + borders.width;\r\n    height -= paddings.height + borders.height;\r\n  }\r\n  return {\r\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\r\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\r\n  };\r\n}\r\nfunction getContainerSize(canvas, width, height) {\r\n  let maxWidth, maxHeight;\r\n  if (width === undefined || height === undefined) {\r\n    const container = _getParentNode(canvas);\r\n    if (!container) {\r\n      width = canvas.clientWidth;\r\n      height = canvas.clientHeight;\r\n    } else {\r\n      const rect = container.getBoundingClientRect();\r\n      const containerStyle = getComputedStyle(container);\r\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\r\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\r\n      width = rect.width - containerPadding.width - containerBorder.width;\r\n      height = rect.height - containerPadding.height - containerBorder.height;\r\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\r\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\r\n    }\r\n  }\r\n  return {\r\n    width,\r\n    height,\r\n    maxWidth: maxWidth || INFINITY,\r\n    maxHeight: maxHeight || INFINITY\r\n  };\r\n}\r\nconst round1 = v => Math.round(v * 10) / 10;\r\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\r\n  const style = getComputedStyle(canvas);\r\n  const margins = getPositionedStyle(style, 'margin');\r\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\r\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\r\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\r\n  let {width, height} = containerSize;\r\n  if (style.boxSizing === 'content-box') {\r\n    const borders = getPositionedStyle(style, 'border', 'width');\r\n    const paddings = getPositionedStyle(style, 'padding');\r\n    width -= paddings.width + borders.width;\r\n    height -= paddings.height + borders.height;\r\n  }\r\n  width = Math.max(0, width - margins.width);\r\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\r\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\r\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\r\n  if (width && !height) {\r\n    height = round1(width / 2);\r\n  }\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\nfunction retinaScale(chart, forceRatio, forceStyle) {\r\n  const pixelRatio = forceRatio || 1;\r\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\r\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\r\n  chart.height = deviceHeight / pixelRatio;\r\n  chart.width = deviceWidth / pixelRatio;\r\n  const canvas = chart.canvas;\r\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\r\n    canvas.style.height = `${chart.height}px`;\r\n    canvas.style.width = `${chart.width}px`;\r\n  }\r\n  if (chart.currentDevicePixelRatio !== pixelRatio\r\n      || canvas.height !== deviceHeight\r\n      || canvas.width !== deviceWidth) {\r\n    chart.currentDevicePixelRatio = pixelRatio;\r\n    canvas.height = deviceHeight;\r\n    canvas.width = deviceWidth;\r\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nconst supportsEventListenerOptions = (function() {\r\n  let passiveSupported = false;\r\n  try {\r\n    const options = {\r\n      get passive() {\r\n        passiveSupported = true;\r\n        return false;\r\n      }\r\n    };\r\n    window.addEventListener('test', null, options);\r\n    window.removeEventListener('test', null, options);\r\n  } catch (e) {\r\n  }\r\n  return passiveSupported;\r\n}());\r\nfunction readUsedSize(element, property) {\r\n  const value = getStyle(element, property);\r\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\r\n  return matches ? +matches[1] : undefined;\r\n}\r\n\r\nfunction _pointInLine(p1, p2, t, mode) {\r\n  return {\r\n    x: p1.x + t * (p2.x - p1.x),\r\n    y: p1.y + t * (p2.y - p1.y)\r\n  };\r\n}\r\nfunction _steppedInterpolation(p1, p2, t, mode) {\r\n  return {\r\n    x: p1.x + t * (p2.x - p1.x),\r\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\r\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\r\n    : t > 0 ? p2.y : p1.y\r\n  };\r\n}\r\nfunction _bezierInterpolation(p1, p2, t, mode) {\r\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\r\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\r\n  const a = _pointInLine(p1, cp1, t);\r\n  const b = _pointInLine(cp1, cp2, t);\r\n  const c = _pointInLine(cp2, p2, t);\r\n  const d = _pointInLine(a, b, t);\r\n  const e = _pointInLine(b, c, t);\r\n  return _pointInLine(d, e, t);\r\n}\r\n\r\nconst intlCache = new Map();\r\nfunction getNumberFormat(locale, options) {\r\n  options = options || {};\r\n  const cacheKey = locale + JSON.stringify(options);\r\n  let formatter = intlCache.get(cacheKey);\r\n  if (!formatter) {\r\n    formatter = new Intl.NumberFormat(locale, options);\r\n    intlCache.set(cacheKey, formatter);\r\n  }\r\n  return formatter;\r\n}\r\nfunction formatNumber(num, locale, options) {\r\n  return getNumberFormat(locale, options).format(num);\r\n}\r\n\r\nconst getRightToLeftAdapter = function(rectX, width) {\r\n  return {\r\n    x(x) {\r\n      return rectX + rectX + width - x;\r\n    },\r\n    setWidth(w) {\r\n      width = w;\r\n    },\r\n    textAlign(align) {\r\n      if (align === 'center') {\r\n        return align;\r\n      }\r\n      return align === 'right' ? 'left' : 'right';\r\n    },\r\n    xPlus(x, value) {\r\n      return x - value;\r\n    },\r\n    leftForLtr(x, itemWidth) {\r\n      return x - itemWidth;\r\n    },\r\n  };\r\n};\r\nconst getLeftToRightAdapter = function() {\r\n  return {\r\n    x(x) {\r\n      return x;\r\n    },\r\n    setWidth(w) {\r\n    },\r\n    textAlign(align) {\r\n      return align;\r\n    },\r\n    xPlus(x, value) {\r\n      return x + value;\r\n    },\r\n    leftForLtr(x, _itemWidth) {\r\n      return x;\r\n    },\r\n  };\r\n};\r\nfunction getRtlAdapter(rtl, rectX, width) {\r\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\r\n}\r\nfunction overrideTextDirection(ctx, direction) {\r\n  let style, original;\r\n  if (direction === 'ltr' || direction === 'rtl') {\r\n    style = ctx.canvas.style;\r\n    original = [\r\n      style.getPropertyValue('direction'),\r\n      style.getPropertyPriority('direction'),\r\n    ];\r\n    style.setProperty('direction', direction, 'important');\r\n    ctx.prevTextDirection = original;\r\n  }\r\n}\r\nfunction restoreTextDirection(ctx, original) {\r\n  if (original !== undefined) {\r\n    delete ctx.prevTextDirection;\r\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\r\n  }\r\n}\r\n\r\nfunction propertyFn(property) {\r\n  if (property === 'angle') {\r\n    return {\r\n      between: _angleBetween,\r\n      compare: _angleDiff,\r\n      normalize: _normalizeAngle,\r\n    };\r\n  }\r\n  return {\r\n    between: _isBetween,\r\n    compare: (a, b) => a - b,\r\n    normalize: x => x\r\n  };\r\n}\r\nfunction normalizeSegment({start, end, count, loop, style}) {\r\n  return {\r\n    start: start % count,\r\n    end: end % count,\r\n    loop: loop && (end - start + 1) % count === 0,\r\n    style\r\n  };\r\n}\r\nfunction getSegment(segment, points, bounds) {\r\n  const {property, start: startBound, end: endBound} = bounds;\r\n  const {between, normalize} = propertyFn(property);\r\n  const count = points.length;\r\n  let {start, end, loop} = segment;\r\n  let i, ilen;\r\n  if (loop) {\r\n    start += count;\r\n    end += count;\r\n    for (i = 0, ilen = count; i < ilen; ++i) {\r\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\r\n        break;\r\n      }\r\n      start--;\r\n      end--;\r\n    }\r\n    start %= count;\r\n    end %= count;\r\n  }\r\n  if (end < start) {\r\n    end += count;\r\n  }\r\n  return {start, end, loop, style: segment.style};\r\n}\r\nfunction _boundSegment(segment, points, bounds) {\r\n  if (!bounds) {\r\n    return [segment];\r\n  }\r\n  const {property, start: startBound, end: endBound} = bounds;\r\n  const count = points.length;\r\n  const {compare, between, normalize} = propertyFn(property);\r\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\r\n  const result = [];\r\n  let inside = false;\r\n  let subStart = null;\r\n  let value, point, prevValue;\r\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\r\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\r\n  const shouldStart = () => inside || startIsBefore();\r\n  const shouldStop = () => !inside || endIsBefore();\r\n  for (let i = start, prev = start; i <= end; ++i) {\r\n    point = points[i % count];\r\n    if (point.skip) {\r\n      continue;\r\n    }\r\n    value = normalize(point[property]);\r\n    if (value === prevValue) {\r\n      continue;\r\n    }\r\n    inside = between(value, startBound, endBound);\r\n    if (subStart === null && shouldStart()) {\r\n      subStart = compare(value, startBound) === 0 ? i : prev;\r\n    }\r\n    if (subStart !== null && shouldStop()) {\r\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\r\n      subStart = null;\r\n    }\r\n    prev = i;\r\n    prevValue = value;\r\n  }\r\n  if (subStart !== null) {\r\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\r\n  }\r\n  return result;\r\n}\r\nfunction _boundSegments(line, bounds) {\r\n  const result = [];\r\n  const segments = line.segments;\r\n  for (let i = 0; i < segments.length; i++) {\r\n    const sub = _boundSegment(segments[i], line.points, bounds);\r\n    if (sub.length) {\r\n      result.push(...sub);\r\n    }\r\n  }\r\n  return result;\r\n}\r\nfunction findStartAndEnd(points, count, loop, spanGaps) {\r\n  let start = 0;\r\n  let end = count - 1;\r\n  if (loop && !spanGaps) {\r\n    while (start < count && !points[start].skip) {\r\n      start++;\r\n    }\r\n  }\r\n  while (start < count && points[start].skip) {\r\n    start++;\r\n  }\r\n  start %= count;\r\n  if (loop) {\r\n    end += start;\r\n  }\r\n  while (end > start && points[end % count].skip) {\r\n    end--;\r\n  }\r\n  end %= count;\r\n  return {start, end};\r\n}\r\nfunction solidSegments(points, start, max, loop) {\r\n  const count = points.length;\r\n  const result = [];\r\n  let last = start;\r\n  let prev = points[start];\r\n  let end;\r\n  for (end = start + 1; end <= max; ++end) {\r\n    const cur = points[end % count];\r\n    if (cur.skip || cur.stop) {\r\n      if (!prev.skip) {\r\n        loop = false;\r\n        result.push({start: start % count, end: (end - 1) % count, loop});\r\n        start = last = cur.stop ? end : null;\r\n      }\r\n    } else {\r\n      last = end;\r\n      if (prev.skip) {\r\n        start = end;\r\n      }\r\n    }\r\n    prev = cur;\r\n  }\r\n  if (last !== null) {\r\n    result.push({start: start % count, end: last % count, loop});\r\n  }\r\n  return result;\r\n}\r\nfunction _computeSegments(line, segmentOptions) {\r\n  const points = line.points;\r\n  const spanGaps = line.options.spanGaps;\r\n  const count = points.length;\r\n  if (!count) {\r\n    return [];\r\n  }\r\n  const loop = !!line._loop;\r\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\r\n  if (spanGaps === true) {\r\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\r\n  }\r\n  const max = end < start ? end + count : end;\r\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\r\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\r\n}\r\nfunction splitByStyles(line, segments, points, segmentOptions) {\r\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\r\n    return segments;\r\n  }\r\n  return doSplitByStyles(line, segments, points, segmentOptions);\r\n}\r\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\r\n  const chartContext = line._chart.getContext();\r\n  const baseStyle = readStyle(line.options);\r\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\r\n  const count = points.length;\r\n  const result = [];\r\n  let prevStyle = baseStyle;\r\n  let start = segments[0].start;\r\n  let i = start;\r\n  function addStyle(s, e, l, st) {\r\n    const dir = spanGaps ? -1 : 1;\r\n    if (s === e) {\r\n      return;\r\n    }\r\n    s += count;\r\n    while (points[s % count].skip) {\r\n      s -= dir;\r\n    }\r\n    while (points[e % count].skip) {\r\n      e += dir;\r\n    }\r\n    if (s % count !== e % count) {\r\n      result.push({start: s % count, end: e % count, loop: l, style: st});\r\n      prevStyle = st;\r\n      start = e % count;\r\n    }\r\n  }\r\n  for (const segment of segments) {\r\n    start = spanGaps ? start : segment.start;\r\n    let prev = points[start % count];\r\n    let style;\r\n    for (i = start + 1; i <= segment.end; i++) {\r\n      const pt = points[i % count];\r\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\r\n        type: 'segment',\r\n        p0: prev,\r\n        p1: pt,\r\n        p0DataIndex: (i - 1) % count,\r\n        p1DataIndex: i % count,\r\n        datasetIndex\r\n      })));\r\n      if (styleChanged(style, prevStyle)) {\r\n        addStyle(start, i - 1, segment.loop, prevStyle);\r\n      }\r\n      prev = pt;\r\n      prevStyle = style;\r\n    }\r\n    if (start < i - 1) {\r\n      addStyle(start, i - 1, segment.loop, prevStyle);\r\n    }\r\n  }\r\n  return result;\r\n}\r\nfunction readStyle(options) {\r\n  return {\r\n    backgroundColor: options.backgroundColor,\r\n    borderCapStyle: options.borderCapStyle,\r\n    borderDash: options.borderDash,\r\n    borderDashOffset: options.borderDashOffset,\r\n    borderJoinStyle: options.borderJoinStyle,\r\n    borderWidth: options.borderWidth,\r\n    borderColor: options.borderColor\r\n  };\r\n}\r\nfunction styleChanged(style, prevStyle) {\r\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\r\n}\r\n\r\nexport { _toLeftRightCenter as $, _rlookupByKey as A, getAngleFromPoint as B, toPadding as C, each as D, getMaximumSize as E, _getParentNode as F, readUsedSize as G, HALF_PI as H, throttled as I, supportsEventListenerOptions as J, _isDomSupported as K, log10 as L, _factorize as M, finiteOrDefault as N, callback as O, PI as P, _addGrace as Q, toDegrees as R, _measureText as S, TAU as T, _int16Range as U, _alignPixel as V, clipArea as W, renderText as X, unclipArea as Y, toFont as Z, _arrayUnique as _, resolve as a, _angleDiff as a$, _alignStartEnd as a0, overrides as a1, merge as a2, _capitalize as a3, descriptors as a4, isFunction as a5, _attachContext as a6, _createResolver as a7, _descriptors as a8, mergeIf as a9, restoreTextDirection as aA, noop as aB, distanceBetweenPoints as aC, _setMinAndMaxByKey as aD, niceNum as aE, almostWhole as aF, almostEquals as aG, _decimalPlaces as aH, _longestText as aI, _filterBetween as aJ, _lookup as aK, getHoverColor as aL, clone$1 as aM, _merger as aN, _mergerIf as aO, _deprecated as aP, toFontString as aQ, splineCurve as aR, splineCurveMonotone as aS, getStyle as aT, fontString as aU, toLineHeight as aV, PITAU as aW, INFINITY as aX, RAD_PER_DEG as aY, QUARTER_PI as aZ, TWO_THIRDS_PI as a_, uid as aa, debounce as ab, retinaScale as ac, clearCanvas as ad, setsEqual as ae, _elementsEqual as af, _isClickEvent as ag, _isBetween as ah, _readValueToProps as ai, _updateBezierControlPoints as aj, _computeSegments as ak, _boundSegments as al, _steppedInterpolation as am, _bezierInterpolation as an, _pointInLine as ao, _steppedLineTo as ap, _bezierCurveTo as aq, drawPoint as ar, addRoundedRectPath as as, toTRBL as at, toTRBLCorners as au, _boundSegment as av, _normalizeAngle as aw, getRtlAdapter as ax, overrideTextDirection as ay, _textX as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, getRelativePosition as y, _isPointInArea as z };\r\n","/*!\r\n * Chart.js v3.7.1\r\n * https://www.chartjs.org\r\n * (c) 2022 Chart.js Contributors\r\n * Released under the MIT License\r\n */\r\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as getAngleFromPoint, C as toPadding, D as each, E as getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as _isDomSupported, L as log10, M as _factorize, N as finiteOrDefault, O as callback, Q as _addGrace, R as toDegrees, S as _measureText, U as _int16Range, V as _alignPixel, W as clipArea, X as renderText, Y as unclipArea, Z as toFont, $ as _toLeftRightCenter, a0 as _alignStartEnd, a1 as overrides, a2 as merge, a3 as _capitalize, a4 as descriptors, a5 as isFunction, a6 as _attachContext, a7 as _createResolver, a8 as _descriptors, a9 as mergeIf, aa as uid, ab as debounce, ac as retinaScale, ad as clearCanvas, ae as setsEqual, af as _elementsEqual, ag as _isClickEvent, ah as _isBetween, ai as _readValueToProps, aj as _updateBezierControlPoints, ak as _computeSegments, al as _boundSegments, am as _steppedInterpolation, an as _bezierInterpolation, ao as _pointInLine, ap as _steppedLineTo, aq as _bezierCurveTo, ar as drawPoint, as as addRoundedRectPath, at as toTRBL, au as toTRBLCorners, av as _boundSegment, aw as _normalizeAngle, ax as getRtlAdapter, ay as overrideTextDirection, az as _textX, aA as restoreTextDirection, aB as noop, aC as distanceBetweenPoints, aD as _setMinAndMaxByKey, aE as niceNum, aF as almostWhole, aG as almostEquals, aH as _decimalPlaces, aI as _longestText, aJ as _filterBetween, aK as _lookup } from './chunks/helpers.segment.js';\r\nexport { d as defaults } from './chunks/helpers.segment.js';\r\n\r\nclass Animator {\r\n  constructor() {\r\n    this._request = null;\r\n    this._charts = new Map();\r\n    this._running = false;\r\n    this._lastDate = undefined;\r\n  }\r\n  _notify(chart, anims, date, type) {\r\n    const callbacks = anims.listeners[type];\r\n    const numSteps = anims.duration;\r\n    callbacks.forEach(fn => fn({\r\n      chart,\r\n      initial: anims.initial,\r\n      numSteps,\r\n      currentStep: Math.min(date - anims.start, numSteps)\r\n    }));\r\n  }\r\n  _refresh() {\r\n    if (this._request) {\r\n      return;\r\n    }\r\n    this._running = true;\r\n    this._request = requestAnimFrame.call(window, () => {\r\n      this._update();\r\n      this._request = null;\r\n      if (this._running) {\r\n        this._refresh();\r\n      }\r\n    });\r\n  }\r\n  _update(date = Date.now()) {\r\n    let remaining = 0;\r\n    this._charts.forEach((anims, chart) => {\r\n      if (!anims.running || !anims.items.length) {\r\n        return;\r\n      }\r\n      const items = anims.items;\r\n      let i = items.length - 1;\r\n      let draw = false;\r\n      let item;\r\n      for (; i >= 0; --i) {\r\n        item = items[i];\r\n        if (item._active) {\r\n          if (item._total > anims.duration) {\r\n            anims.duration = item._total;\r\n          }\r\n          item.tick(date);\r\n          draw = true;\r\n        } else {\r\n          items[i] = items[items.length - 1];\r\n          items.pop();\r\n        }\r\n      }\r\n      if (draw) {\r\n        chart.draw();\r\n        this._notify(chart, anims, date, 'progress');\r\n      }\r\n      if (!items.length) {\r\n        anims.running = false;\r\n        this._notify(chart, anims, date, 'complete');\r\n        anims.initial = false;\r\n      }\r\n      remaining += items.length;\r\n    });\r\n    this._lastDate = date;\r\n    if (remaining === 0) {\r\n      this._running = false;\r\n    }\r\n  }\r\n  _getAnims(chart) {\r\n    const charts = this._charts;\r\n    let anims = charts.get(chart);\r\n    if (!anims) {\r\n      anims = {\r\n        running: false,\r\n        initial: true,\r\n        items: [],\r\n        listeners: {\r\n          complete: [],\r\n          progress: []\r\n        }\r\n      };\r\n      charts.set(chart, anims);\r\n    }\r\n    return anims;\r\n  }\r\n  listen(chart, event, cb) {\r\n    this._getAnims(chart).listeners[event].push(cb);\r\n  }\r\n  add(chart, items) {\r\n    if (!items || !items.length) {\r\n      return;\r\n    }\r\n    this._getAnims(chart).items.push(...items);\r\n  }\r\n  has(chart) {\r\n    return this._getAnims(chart).items.length > 0;\r\n  }\r\n  start(chart) {\r\n    const anims = this._charts.get(chart);\r\n    if (!anims) {\r\n      return;\r\n    }\r\n    anims.running = true;\r\n    anims.start = Date.now();\r\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\r\n    this._refresh();\r\n  }\r\n  running(chart) {\r\n    if (!this._running) {\r\n      return false;\r\n    }\r\n    const anims = this._charts.get(chart);\r\n    if (!anims || !anims.running || !anims.items.length) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  stop(chart) {\r\n    const anims = this._charts.get(chart);\r\n    if (!anims || !anims.items.length) {\r\n      return;\r\n    }\r\n    const items = anims.items;\r\n    let i = items.length - 1;\r\n    for (; i >= 0; --i) {\r\n      items[i].cancel();\r\n    }\r\n    anims.items = [];\r\n    this._notify(chart, anims, Date.now(), 'complete');\r\n  }\r\n  remove(chart) {\r\n    return this._charts.delete(chart);\r\n  }\r\n}\r\nvar animator = new Animator();\r\n\r\nconst transparent = 'transparent';\r\nconst interpolators = {\r\n  boolean(from, to, factor) {\r\n    return factor > 0.5 ? to : from;\r\n  },\r\n  color(from, to, factor) {\r\n    const c0 = color(from || transparent);\r\n    const c1 = c0.valid && color(to || transparent);\r\n    return c1 && c1.valid\r\n      ? c1.mix(c0, factor).hexString()\r\n      : to;\r\n  },\r\n  number(from, to, factor) {\r\n    return from + (to - from) * factor;\r\n  }\r\n};\r\nclass Animation {\r\n  constructor(cfg, target, prop, to) {\r\n    const currentValue = target[prop];\r\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\r\n    const from = resolve([cfg.from, currentValue, to]);\r\n    this._active = true;\r\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\r\n    this._easing = effects[cfg.easing] || effects.linear;\r\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\r\n    this._duration = this._total = Math.floor(cfg.duration);\r\n    this._loop = !!cfg.loop;\r\n    this._target = target;\r\n    this._prop = prop;\r\n    this._from = from;\r\n    this._to = to;\r\n    this._promises = undefined;\r\n  }\r\n  active() {\r\n    return this._active;\r\n  }\r\n  update(cfg, to, date) {\r\n    if (this._active) {\r\n      this._notify(false);\r\n      const currentValue = this._target[this._prop];\r\n      const elapsed = date - this._start;\r\n      const remain = this._duration - elapsed;\r\n      this._start = date;\r\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\r\n      this._total += elapsed;\r\n      this._loop = !!cfg.loop;\r\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\r\n      this._from = resolve([cfg.from, currentValue, to]);\r\n    }\r\n  }\r\n  cancel() {\r\n    if (this._active) {\r\n      this.tick(Date.now());\r\n      this._active = false;\r\n      this._notify(false);\r\n    }\r\n  }\r\n  tick(date) {\r\n    const elapsed = date - this._start;\r\n    const duration = this._duration;\r\n    const prop = this._prop;\r\n    const from = this._from;\r\n    const loop = this._loop;\r\n    const to = this._to;\r\n    let factor;\r\n    this._active = from !== to && (loop || (elapsed < duration));\r\n    if (!this._active) {\r\n      this._target[prop] = to;\r\n      this._notify(true);\r\n      return;\r\n    }\r\n    if (elapsed < 0) {\r\n      this._target[prop] = from;\r\n      return;\r\n    }\r\n    factor = (elapsed / duration) % 2;\r\n    factor = loop && factor > 1 ? 2 - factor : factor;\r\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\r\n    this._target[prop] = this._fn(from, to, factor);\r\n  }\r\n  wait() {\r\n    const promises = this._promises || (this._promises = []);\r\n    return new Promise((res, rej) => {\r\n      promises.push({res, rej});\r\n    });\r\n  }\r\n  _notify(resolved) {\r\n    const method = resolved ? 'res' : 'rej';\r\n    const promises = this._promises || [];\r\n    for (let i = 0; i < promises.length; i++) {\r\n      promises[i][method]();\r\n    }\r\n  }\r\n}\r\n\r\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\r\nconst colors = ['color', 'borderColor', 'backgroundColor'];\r\ndefaults.set('animation', {\r\n  delay: undefined,\r\n  duration: 1000,\r\n  easing: 'easeOutQuart',\r\n  fn: undefined,\r\n  from: undefined,\r\n  loop: undefined,\r\n  to: undefined,\r\n  type: undefined,\r\n});\r\nconst animationOptions = Object.keys(defaults.animation);\r\ndefaults.describe('animation', {\r\n  _fallback: false,\r\n  _indexable: false,\r\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\r\n});\r\ndefaults.set('animations', {\r\n  colors: {\r\n    type: 'color',\r\n    properties: colors\r\n  },\r\n  numbers: {\r\n    type: 'number',\r\n    properties: numbers\r\n  },\r\n});\r\ndefaults.describe('animations', {\r\n  _fallback: 'animation',\r\n});\r\ndefaults.set('transitions', {\r\n  active: {\r\n    animation: {\r\n      duration: 400\r\n    }\r\n  },\r\n  resize: {\r\n    animation: {\r\n      duration: 0\r\n    }\r\n  },\r\n  show: {\r\n    animations: {\r\n      colors: {\r\n        from: 'transparent'\r\n      },\r\n      visible: {\r\n        type: 'boolean',\r\n        duration: 0\r\n      },\r\n    }\r\n  },\r\n  hide: {\r\n    animations: {\r\n      colors: {\r\n        to: 'transparent'\r\n      },\r\n      visible: {\r\n        type: 'boolean',\r\n        easing: 'linear',\r\n        fn: v => v | 0\r\n      },\r\n    }\r\n  }\r\n});\r\nclass Animations {\r\n  constructor(chart, config) {\r\n    this._chart = chart;\r\n    this._properties = new Map();\r\n    this.configure(config);\r\n  }\r\n  configure(config) {\r\n    if (!isObject(config)) {\r\n      return;\r\n    }\r\n    const animatedProps = this._properties;\r\n    Object.getOwnPropertyNames(config).forEach(key => {\r\n      const cfg = config[key];\r\n      if (!isObject(cfg)) {\r\n        return;\r\n      }\r\n      const resolved = {};\r\n      for (const option of animationOptions) {\r\n        resolved[option] = cfg[option];\r\n      }\r\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\r\n        if (prop === key || !animatedProps.has(prop)) {\r\n          animatedProps.set(prop, resolved);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  _animateOptions(target, values) {\r\n    const newOptions = values.options;\r\n    const options = resolveTargetOptions(target, newOptions);\r\n    if (!options) {\r\n      return [];\r\n    }\r\n    const animations = this._createAnimations(options, newOptions);\r\n    if (newOptions.$shared) {\r\n      awaitAll(target.options.$animations, newOptions).then(() => {\r\n        target.options = newOptions;\r\n      }, () => {\r\n      });\r\n    }\r\n    return animations;\r\n  }\r\n  _createAnimations(target, values) {\r\n    const animatedProps = this._properties;\r\n    const animations = [];\r\n    const running = target.$animations || (target.$animations = {});\r\n    const props = Object.keys(values);\r\n    const date = Date.now();\r\n    let i;\r\n    for (i = props.length - 1; i >= 0; --i) {\r\n      const prop = props[i];\r\n      if (prop.charAt(0) === '$') {\r\n        continue;\r\n      }\r\n      if (prop === 'options') {\r\n        animations.push(...this._animateOptions(target, values));\r\n        continue;\r\n      }\r\n      const value = values[prop];\r\n      let animation = running[prop];\r\n      const cfg = animatedProps.get(prop);\r\n      if (animation) {\r\n        if (cfg && animation.active()) {\r\n          animation.update(cfg, value, date);\r\n          continue;\r\n        } else {\r\n          animation.cancel();\r\n        }\r\n      }\r\n      if (!cfg || !cfg.duration) {\r\n        target[prop] = value;\r\n        continue;\r\n      }\r\n      running[prop] = animation = new Animation(cfg, target, prop, value);\r\n      animations.push(animation);\r\n    }\r\n    return animations;\r\n  }\r\n  update(target, values) {\r\n    if (this._properties.size === 0) {\r\n      Object.assign(target, values);\r\n      return;\r\n    }\r\n    const animations = this._createAnimations(target, values);\r\n    if (animations.length) {\r\n      animator.add(this._chart, animations);\r\n      return true;\r\n    }\r\n  }\r\n}\r\nfunction awaitAll(animations, properties) {\r\n  const running = [];\r\n  const keys = Object.keys(properties);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const anim = animations[keys[i]];\r\n    if (anim && anim.active()) {\r\n      running.push(anim.wait());\r\n    }\r\n  }\r\n  return Promise.all(running);\r\n}\r\nfunction resolveTargetOptions(target, newOptions) {\r\n  if (!newOptions) {\r\n    return;\r\n  }\r\n  let options = target.options;\r\n  if (!options) {\r\n    target.options = newOptions;\r\n    return;\r\n  }\r\n  if (options.$shared) {\r\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\r\n  }\r\n  return options;\r\n}\r\n\r\nfunction scaleClip(scale, allowedOverflow) {\r\n  const opts = scale && scale.options || {};\r\n  const reverse = opts.reverse;\r\n  const min = opts.min === undefined ? allowedOverflow : 0;\r\n  const max = opts.max === undefined ? allowedOverflow : 0;\r\n  return {\r\n    start: reverse ? max : min,\r\n    end: reverse ? min : max\r\n  };\r\n}\r\nfunction defaultClip(xScale, yScale, allowedOverflow) {\r\n  if (allowedOverflow === false) {\r\n    return false;\r\n  }\r\n  const x = scaleClip(xScale, allowedOverflow);\r\n  const y = scaleClip(yScale, allowedOverflow);\r\n  return {\r\n    top: y.end,\r\n    right: x.end,\r\n    bottom: y.start,\r\n    left: x.start\r\n  };\r\n}\r\nfunction toClip(value) {\r\n  let t, r, b, l;\r\n  if (isObject(value)) {\r\n    t = value.top;\r\n    r = value.right;\r\n    b = value.bottom;\r\n    l = value.left;\r\n  } else {\r\n    t = r = b = l = value;\r\n  }\r\n  return {\r\n    top: t,\r\n    right: r,\r\n    bottom: b,\r\n    left: l,\r\n    disabled: value === false\r\n  };\r\n}\r\nfunction getSortedDatasetIndices(chart, filterVisible) {\r\n  const keys = [];\r\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\r\n  let i, ilen;\r\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n    keys.push(metasets[i].index);\r\n  }\r\n  return keys;\r\n}\r\nfunction applyStack(stack, value, dsIndex, options = {}) {\r\n  const keys = stack.keys;\r\n  const singleMode = options.mode === 'single';\r\n  let i, ilen, datasetIndex, otherValue;\r\n  if (value === null) {\r\n    return;\r\n  }\r\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n    datasetIndex = +keys[i];\r\n    if (datasetIndex === dsIndex) {\r\n      if (options.all) {\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n    otherValue = stack.values[datasetIndex];\r\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\r\n      value += otherValue;\r\n    }\r\n  }\r\n  return value;\r\n}\r\nfunction convertObjectDataToArray(data) {\r\n  const keys = Object.keys(data);\r\n  const adata = new Array(keys.length);\r\n  let i, ilen, key;\r\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n    key = keys[i];\r\n    adata[i] = {\r\n      x: key,\r\n      y: data[key]\r\n    };\r\n  }\r\n  return adata;\r\n}\r\nfunction isStacked(scale, meta) {\r\n  const stacked = scale && scale.options.stacked;\r\n  return stacked || (stacked === undefined && meta.stack !== undefined);\r\n}\r\nfunction getStackKey(indexScale, valueScale, meta) {\r\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\r\n}\r\nfunction getUserBounds(scale) {\r\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\r\n  return {\r\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\r\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\r\n  };\r\n}\r\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\r\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\r\n  return subStack[indexValue] || (subStack[indexValue] = {});\r\n}\r\nfunction getLastIndexInStack(stack, vScale, positive, type) {\r\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\r\n    const value = stack[meta.index];\r\n    if ((positive && value > 0) || (!positive && value < 0)) {\r\n      return meta.index;\r\n    }\r\n  }\r\n  return null;\r\n}\r\nfunction updateStacks(controller, parsed) {\r\n  const {chart, _cachedMeta: meta} = controller;\r\n  const stacks = chart._stacks || (chart._stacks = {});\r\n  const {iScale, vScale, index: datasetIndex} = meta;\r\n  const iAxis = iScale.axis;\r\n  const vAxis = vScale.axis;\r\n  const key = getStackKey(iScale, vScale, meta);\r\n  const ilen = parsed.length;\r\n  let stack;\r\n  for (let i = 0; i < ilen; ++i) {\r\n    const item = parsed[i];\r\n    const {[iAxis]: index, [vAxis]: value} = item;\r\n    const itemStacks = item._stacks || (item._stacks = {});\r\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\r\n    stack[datasetIndex] = value;\r\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\r\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\r\n  }\r\n}\r\nfunction getFirstScaleId(chart, axis) {\r\n  const scales = chart.scales;\r\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\r\n}\r\nfunction createDatasetContext(parent, index) {\r\n  return createContext(parent,\r\n    {\r\n      active: false,\r\n      dataset: undefined,\r\n      datasetIndex: index,\r\n      index,\r\n      mode: 'default',\r\n      type: 'dataset'\r\n    }\r\n  );\r\n}\r\nfunction createDataContext(parent, index, element) {\r\n  return createContext(parent, {\r\n    active: false,\r\n    dataIndex: index,\r\n    parsed: undefined,\r\n    raw: undefined,\r\n    element,\r\n    index,\r\n    mode: 'default',\r\n    type: 'data'\r\n  });\r\n}\r\nfunction clearStacks(meta, items) {\r\n  const datasetIndex = meta.controller.index;\r\n  const axis = meta.vScale && meta.vScale.axis;\r\n  if (!axis) {\r\n    return;\r\n  }\r\n  items = items || meta._parsed;\r\n  for (const parsed of items) {\r\n    const stacks = parsed._stacks;\r\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\r\n      return;\r\n    }\r\n    delete stacks[axis][datasetIndex];\r\n  }\r\n}\r\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\r\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\r\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\r\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\r\nclass DatasetController {\r\n  constructor(chart, datasetIndex) {\r\n    this.chart = chart;\r\n    this._ctx = chart.ctx;\r\n    this.index = datasetIndex;\r\n    this._cachedDataOpts = {};\r\n    this._cachedMeta = this.getMeta();\r\n    this._type = this._cachedMeta.type;\r\n    this.options = undefined;\r\n    this._parsing = false;\r\n    this._data = undefined;\r\n    this._objectData = undefined;\r\n    this._sharedOptions = undefined;\r\n    this._drawStart = undefined;\r\n    this._drawCount = undefined;\r\n    this.enableOptionSharing = false;\r\n    this.$context = undefined;\r\n    this._syncList = [];\r\n    this.initialize();\r\n  }\r\n  initialize() {\r\n    const meta = this._cachedMeta;\r\n    this.configure();\r\n    this.linkScales();\r\n    meta._stacked = isStacked(meta.vScale, meta);\r\n    this.addElements();\r\n  }\r\n  updateIndex(datasetIndex) {\r\n    if (this.index !== datasetIndex) {\r\n      clearStacks(this._cachedMeta);\r\n    }\r\n    this.index = datasetIndex;\r\n  }\r\n  linkScales() {\r\n    const chart = this.chart;\r\n    const meta = this._cachedMeta;\r\n    const dataset = this.getDataset();\r\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\r\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\r\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\r\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\r\n    const indexAxis = meta.indexAxis;\r\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\r\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\r\n    meta.xScale = this.getScaleForId(xid);\r\n    meta.yScale = this.getScaleForId(yid);\r\n    meta.rScale = this.getScaleForId(rid);\r\n    meta.iScale = this.getScaleForId(iid);\r\n    meta.vScale = this.getScaleForId(vid);\r\n  }\r\n  getDataset() {\r\n    return this.chart.data.datasets[this.index];\r\n  }\r\n  getMeta() {\r\n    return this.chart.getDatasetMeta(this.index);\r\n  }\r\n  getScaleForId(scaleID) {\r\n    return this.chart.scales[scaleID];\r\n  }\r\n  _getOtherScale(scale) {\r\n    const meta = this._cachedMeta;\r\n    return scale === meta.iScale\r\n      ? meta.vScale\r\n      : meta.iScale;\r\n  }\r\n  reset() {\r\n    this._update('reset');\r\n  }\r\n  _destroy() {\r\n    const meta = this._cachedMeta;\r\n    if (this._data) {\r\n      unlistenArrayEvents(this._data, this);\r\n    }\r\n    if (meta._stacked) {\r\n      clearStacks(meta);\r\n    }\r\n  }\r\n  _dataCheck() {\r\n    const dataset = this.getDataset();\r\n    const data = dataset.data || (dataset.data = []);\r\n    const _data = this._data;\r\n    if (isObject(data)) {\r\n      this._data = convertObjectDataToArray(data);\r\n    } else if (_data !== data) {\r\n      if (_data) {\r\n        unlistenArrayEvents(_data, this);\r\n        const meta = this._cachedMeta;\r\n        clearStacks(meta);\r\n        meta._parsed = [];\r\n      }\r\n      if (data && Object.isExtensible(data)) {\r\n        listenArrayEvents(data, this);\r\n      }\r\n      this._syncList = [];\r\n      this._data = data;\r\n    }\r\n  }\r\n  addElements() {\r\n    const meta = this._cachedMeta;\r\n    this._dataCheck();\r\n    if (this.datasetElementType) {\r\n      meta.dataset = new this.datasetElementType();\r\n    }\r\n  }\r\n  buildOrUpdateElements(resetNewElements) {\r\n    const meta = this._cachedMeta;\r\n    const dataset = this.getDataset();\r\n    let stackChanged = false;\r\n    this._dataCheck();\r\n    const oldStacked = meta._stacked;\r\n    meta._stacked = isStacked(meta.vScale, meta);\r\n    if (meta.stack !== dataset.stack) {\r\n      stackChanged = true;\r\n      clearStacks(meta);\r\n      meta.stack = dataset.stack;\r\n    }\r\n    this._resyncElements(resetNewElements);\r\n    if (stackChanged || oldStacked !== meta._stacked) {\r\n      updateStacks(this, meta._parsed);\r\n    }\r\n  }\r\n  configure() {\r\n    const config = this.chart.config;\r\n    const scopeKeys = config.datasetScopeKeys(this._type);\r\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\r\n    this.options = config.createResolver(scopes, this.getContext());\r\n    this._parsing = this.options.parsing;\r\n    this._cachedDataOpts = {};\r\n  }\r\n  parse(start, count) {\r\n    const {_cachedMeta: meta, _data: data} = this;\r\n    const {iScale, _stacked} = meta;\r\n    const iAxis = iScale.axis;\r\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\r\n    let prev = start > 0 && meta._parsed[start - 1];\r\n    let i, cur, parsed;\r\n    if (this._parsing === false) {\r\n      meta._parsed = data;\r\n      meta._sorted = true;\r\n      parsed = data;\r\n    } else {\r\n      if (isArray(data[start])) {\r\n        parsed = this.parseArrayData(meta, data, start, count);\r\n      } else if (isObject(data[start])) {\r\n        parsed = this.parseObjectData(meta, data, start, count);\r\n      } else {\r\n        parsed = this.parsePrimitiveData(meta, data, start, count);\r\n      }\r\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\r\n      for (i = 0; i < count; ++i) {\r\n        meta._parsed[i + start] = cur = parsed[i];\r\n        if (sorted) {\r\n          if (isNotInOrderComparedToPrev()) {\r\n            sorted = false;\r\n          }\r\n          prev = cur;\r\n        }\r\n      }\r\n      meta._sorted = sorted;\r\n    }\r\n    if (_stacked) {\r\n      updateStacks(this, parsed);\r\n    }\r\n  }\r\n  parsePrimitiveData(meta, data, start, count) {\r\n    const {iScale, vScale} = meta;\r\n    const iAxis = iScale.axis;\r\n    const vAxis = vScale.axis;\r\n    const labels = iScale.getLabels();\r\n    const singleScale = iScale === vScale;\r\n    const parsed = new Array(count);\r\n    let i, ilen, index;\r\n    for (i = 0, ilen = count; i < ilen; ++i) {\r\n      index = i + start;\r\n      parsed[i] = {\r\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\r\n        [vAxis]: vScale.parse(data[index], index)\r\n      };\r\n    }\r\n    return parsed;\r\n  }\r\n  parseArrayData(meta, data, start, count) {\r\n    const {xScale, yScale} = meta;\r\n    const parsed = new Array(count);\r\n    let i, ilen, index, item;\r\n    for (i = 0, ilen = count; i < ilen; ++i) {\r\n      index = i + start;\r\n      item = data[index];\r\n      parsed[i] = {\r\n        x: xScale.parse(item[0], index),\r\n        y: yScale.parse(item[1], index)\r\n      };\r\n    }\r\n    return parsed;\r\n  }\r\n  parseObjectData(meta, data, start, count) {\r\n    const {xScale, yScale} = meta;\r\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\r\n    const parsed = new Array(count);\r\n    let i, ilen, index, item;\r\n    for (i = 0, ilen = count; i < ilen; ++i) {\r\n      index = i + start;\r\n      item = data[index];\r\n      parsed[i] = {\r\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\r\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\r\n      };\r\n    }\r\n    return parsed;\r\n  }\r\n  getParsed(index) {\r\n    return this._cachedMeta._parsed[index];\r\n  }\r\n  getDataElement(index) {\r\n    return this._cachedMeta.data[index];\r\n  }\r\n  applyStack(scale, parsed, mode) {\r\n    const chart = this.chart;\r\n    const meta = this._cachedMeta;\r\n    const value = parsed[scale.axis];\r\n    const stack = {\r\n      keys: getSortedDatasetIndices(chart, true),\r\n      values: parsed._stacks[scale.axis]\r\n    };\r\n    return applyStack(stack, value, meta.index, {mode});\r\n  }\r\n  updateRangeFromParsed(range, scale, parsed, stack) {\r\n    const parsedValue = parsed[scale.axis];\r\n    let value = parsedValue === null ? NaN : parsedValue;\r\n    const values = stack && parsed._stacks[scale.axis];\r\n    if (stack && values) {\r\n      stack.values = values;\r\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\r\n    }\r\n    range.min = Math.min(range.min, value);\r\n    range.max = Math.max(range.max, value);\r\n  }\r\n  getMinMax(scale, canStack) {\r\n    const meta = this._cachedMeta;\r\n    const _parsed = meta._parsed;\r\n    const sorted = meta._sorted && scale === meta.iScale;\r\n    const ilen = _parsed.length;\r\n    const otherScale = this._getOtherScale(scale);\r\n    const stack = createStack(canStack, meta, this.chart);\r\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\r\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\r\n    let i, parsed;\r\n    function _skip() {\r\n      parsed = _parsed[i];\r\n      const otherValue = parsed[otherScale.axis];\r\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\r\n    }\r\n    for (i = 0; i < ilen; ++i) {\r\n      if (_skip()) {\r\n        continue;\r\n      }\r\n      this.updateRangeFromParsed(range, scale, parsed, stack);\r\n      if (sorted) {\r\n        break;\r\n      }\r\n    }\r\n    if (sorted) {\r\n      for (i = ilen - 1; i >= 0; --i) {\r\n        if (_skip()) {\r\n          continue;\r\n        }\r\n        this.updateRangeFromParsed(range, scale, parsed, stack);\r\n        break;\r\n      }\r\n    }\r\n    return range;\r\n  }\r\n  getAllParsedValues(scale) {\r\n    const parsed = this._cachedMeta._parsed;\r\n    const values = [];\r\n    let i, ilen, value;\r\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\r\n      value = parsed[i][scale.axis];\r\n      if (isNumberFinite(value)) {\r\n        values.push(value);\r\n      }\r\n    }\r\n    return values;\r\n  }\r\n  getMaxOverflow() {\r\n    return false;\r\n  }\r\n  getLabelAndValue(index) {\r\n    const meta = this._cachedMeta;\r\n    const iScale = meta.iScale;\r\n    const vScale = meta.vScale;\r\n    const parsed = this.getParsed(index);\r\n    return {\r\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\r\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\r\n    };\r\n  }\r\n  _update(mode) {\r\n    const meta = this._cachedMeta;\r\n    this.update(mode || 'default');\r\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\r\n  }\r\n  update(mode) {}\r\n  draw() {\r\n    const ctx = this._ctx;\r\n    const chart = this.chart;\r\n    const meta = this._cachedMeta;\r\n    const elements = meta.data || [];\r\n    const area = chart.chartArea;\r\n    const active = [];\r\n    const start = this._drawStart || 0;\r\n    const count = this._drawCount || (elements.length - start);\r\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\r\n    let i;\r\n    if (meta.dataset) {\r\n      meta.dataset.draw(ctx, area, start, count);\r\n    }\r\n    for (i = start; i < start + count; ++i) {\r\n      const element = elements[i];\r\n      if (element.hidden) {\r\n        continue;\r\n      }\r\n      if (element.active && drawActiveElementsOnTop) {\r\n        active.push(element);\r\n      } else {\r\n        element.draw(ctx, area);\r\n      }\r\n    }\r\n    for (i = 0; i < active.length; ++i) {\r\n      active[i].draw(ctx, area);\r\n    }\r\n  }\r\n  getStyle(index, active) {\r\n    const mode = active ? 'active' : 'default';\r\n    return index === undefined && this._cachedMeta.dataset\r\n      ? this.resolveDatasetElementOptions(mode)\r\n      : this.resolveDataElementOptions(index || 0, mode);\r\n  }\r\n  getContext(index, active, mode) {\r\n    const dataset = this.getDataset();\r\n    let context;\r\n    if (index >= 0 && index < this._cachedMeta.data.length) {\r\n      const element = this._cachedMeta.data[index];\r\n      context = element.$context ||\r\n        (element.$context = createDataContext(this.getContext(), index, element));\r\n      context.parsed = this.getParsed(index);\r\n      context.raw = dataset.data[index];\r\n      context.index = context.dataIndex = index;\r\n    } else {\r\n      context = this.$context ||\r\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\r\n      context.dataset = dataset;\r\n      context.index = context.datasetIndex = this.index;\r\n    }\r\n    context.active = !!active;\r\n    context.mode = mode;\r\n    return context;\r\n  }\r\n  resolveDatasetElementOptions(mode) {\r\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\r\n  }\r\n  resolveDataElementOptions(index, mode) {\r\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\r\n  }\r\n  _resolveElementOptions(elementType, mode = 'default', index) {\r\n    const active = mode === 'active';\r\n    const cache = this._cachedDataOpts;\r\n    const cacheKey = elementType + '-' + mode;\r\n    const cached = cache[cacheKey];\r\n    const sharing = this.enableOptionSharing && defined(index);\r\n    if (cached) {\r\n      return cloneIfNotShared(cached, sharing);\r\n    }\r\n    const config = this.chart.config;\r\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\r\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\r\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\r\n    const names = Object.keys(defaults.elements[elementType]);\r\n    const context = () => this.getContext(index, active);\r\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\r\n    if (values.$shared) {\r\n      values.$shared = sharing;\r\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\r\n    }\r\n    return values;\r\n  }\r\n  _resolveAnimations(index, transition, active) {\r\n    const chart = this.chart;\r\n    const cache = this._cachedDataOpts;\r\n    const cacheKey = `animation-${transition}`;\r\n    const cached = cache[cacheKey];\r\n    if (cached) {\r\n      return cached;\r\n    }\r\n    let options;\r\n    if (chart.options.animation !== false) {\r\n      const config = this.chart.config;\r\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\r\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\r\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\r\n    }\r\n    const animations = new Animations(chart, options && options.animations);\r\n    if (options && options._cacheable) {\r\n      cache[cacheKey] = Object.freeze(animations);\r\n    }\r\n    return animations;\r\n  }\r\n  getSharedOptions(options) {\r\n    if (!options.$shared) {\r\n      return;\r\n    }\r\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\r\n  }\r\n  includeOptions(mode, sharedOptions) {\r\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\r\n  }\r\n  updateElement(element, index, properties, mode) {\r\n    if (isDirectUpdateMode(mode)) {\r\n      Object.assign(element, properties);\r\n    } else {\r\n      this._resolveAnimations(index, mode).update(element, properties);\r\n    }\r\n  }\r\n  updateSharedOptions(sharedOptions, mode, newOptions) {\r\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\r\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\r\n    }\r\n  }\r\n  _setStyle(element, index, mode, active) {\r\n    element.active = active;\r\n    const options = this.getStyle(index, active);\r\n    this._resolveAnimations(index, mode, active).update(element, {\r\n      options: (!active && this.getSharedOptions(options)) || options\r\n    });\r\n  }\r\n  removeHoverStyle(element, datasetIndex, index) {\r\n    this._setStyle(element, index, 'active', false);\r\n  }\r\n  setHoverStyle(element, datasetIndex, index) {\r\n    this._setStyle(element, index, 'active', true);\r\n  }\r\n  _removeDatasetHoverStyle() {\r\n    const element = this._cachedMeta.dataset;\r\n    if (element) {\r\n      this._setStyle(element, undefined, 'active', false);\r\n    }\r\n  }\r\n  _setDatasetHoverStyle() {\r\n    const element = this._cachedMeta.dataset;\r\n    if (element) {\r\n      this._setStyle(element, undefined, 'active', true);\r\n    }\r\n  }\r\n  _resyncElements(resetNewElements) {\r\n    const data = this._data;\r\n    const elements = this._cachedMeta.data;\r\n    for (const [method, arg1, arg2] of this._syncList) {\r\n      this[method](arg1, arg2);\r\n    }\r\n    this._syncList = [];\r\n    const numMeta = elements.length;\r\n    const numData = data.length;\r\n    const count = Math.min(numData, numMeta);\r\n    if (count) {\r\n      this.parse(0, count);\r\n    }\r\n    if (numData > numMeta) {\r\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\r\n    } else if (numData < numMeta) {\r\n      this._removeElements(numData, numMeta - numData);\r\n    }\r\n  }\r\n  _insertElements(start, count, resetNewElements = true) {\r\n    const meta = this._cachedMeta;\r\n    const data = meta.data;\r\n    const end = start + count;\r\n    let i;\r\n    const move = (arr) => {\r\n      arr.length += count;\r\n      for (i = arr.length - 1; i >= end; i--) {\r\n        arr[i] = arr[i - count];\r\n      }\r\n    };\r\n    move(data);\r\n    for (i = start; i < end; ++i) {\r\n      data[i] = new this.dataElementType();\r\n    }\r\n    if (this._parsing) {\r\n      move(meta._parsed);\r\n    }\r\n    this.parse(start, count);\r\n    if (resetNewElements) {\r\n      this.updateElements(data, start, count, 'reset');\r\n    }\r\n  }\r\n  updateElements(element, start, count, mode) {}\r\n  _removeElements(start, count) {\r\n    const meta = this._cachedMeta;\r\n    if (this._parsing) {\r\n      const removed = meta._parsed.splice(start, count);\r\n      if (meta._stacked) {\r\n        clearStacks(meta, removed);\r\n      }\r\n    }\r\n    meta.data.splice(start, count);\r\n  }\r\n  _sync(args) {\r\n    if (this._parsing) {\r\n      this._syncList.push(args);\r\n    } else {\r\n      const [method, arg1, arg2] = args;\r\n      this[method](arg1, arg2);\r\n    }\r\n    this.chart._dataChanges.push([this.index, ...args]);\r\n  }\r\n  _onDataPush() {\r\n    const count = arguments.length;\r\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\r\n  }\r\n  _onDataPop() {\r\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\r\n  }\r\n  _onDataShift() {\r\n    this._sync(['_removeElements', 0, 1]);\r\n  }\r\n  _onDataSplice(start, count) {\r\n    if (count) {\r\n      this._sync(['_removeElements', start, count]);\r\n    }\r\n    const newCount = arguments.length - 2;\r\n    if (newCount) {\r\n      this._sync(['_insertElements', start, newCount]);\r\n    }\r\n  }\r\n  _onDataUnshift() {\r\n    this._sync(['_insertElements', 0, arguments.length]);\r\n  }\r\n}\r\nDatasetController.defaults = {};\r\nDatasetController.prototype.datasetElementType = null;\r\nDatasetController.prototype.dataElementType = null;\r\n\r\nfunction getAllScaleValues(scale, type) {\r\n  if (!scale._cache.$bar) {\r\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\r\n    let values = [];\r\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\r\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\r\n    }\r\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\r\n  }\r\n  return scale._cache.$bar;\r\n}\r\nfunction computeMinSampleSize(meta) {\r\n  const scale = meta.iScale;\r\n  const values = getAllScaleValues(scale, meta.type);\r\n  let min = scale._length;\r\n  let i, ilen, curr, prev;\r\n  const updateMinAndPrev = () => {\r\n    if (curr === 32767 || curr === -32768) {\r\n      return;\r\n    }\r\n    if (defined(prev)) {\r\n      min = Math.min(min, Math.abs(curr - prev) || min);\r\n    }\r\n    prev = curr;\r\n  };\r\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\r\n    curr = scale.getPixelForValue(values[i]);\r\n    updateMinAndPrev();\r\n  }\r\n  prev = undefined;\r\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\r\n    curr = scale.getPixelForTick(i);\r\n    updateMinAndPrev();\r\n  }\r\n  return min;\r\n}\r\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\r\n  const thickness = options.barThickness;\r\n  let size, ratio;\r\n  if (isNullOrUndef(thickness)) {\r\n    size = ruler.min * options.categoryPercentage;\r\n    ratio = options.barPercentage;\r\n  } else {\r\n    size = thickness * stackCount;\r\n    ratio = 1;\r\n  }\r\n  return {\r\n    chunk: size / stackCount,\r\n    ratio,\r\n    start: ruler.pixels[index] - (size / 2)\r\n  };\r\n}\r\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\r\n  const pixels = ruler.pixels;\r\n  const curr = pixels[index];\r\n  let prev = index > 0 ? pixels[index - 1] : null;\r\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\r\n  const percent = options.categoryPercentage;\r\n  if (prev === null) {\r\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\r\n  }\r\n  if (next === null) {\r\n    next = curr + curr - prev;\r\n  }\r\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\r\n  const size = Math.abs(next - prev) / 2 * percent;\r\n  return {\r\n    chunk: size / stackCount,\r\n    ratio: options.barPercentage,\r\n    start\r\n  };\r\n}\r\nfunction parseFloatBar(entry, item, vScale, i) {\r\n  const startValue = vScale.parse(entry[0], i);\r\n  const endValue = vScale.parse(entry[1], i);\r\n  const min = Math.min(startValue, endValue);\r\n  const max = Math.max(startValue, endValue);\r\n  let barStart = min;\r\n  let barEnd = max;\r\n  if (Math.abs(min) > Math.abs(max)) {\r\n    barStart = max;\r\n    barEnd = min;\r\n  }\r\n  item[vScale.axis] = barEnd;\r\n  item._custom = {\r\n    barStart,\r\n    barEnd,\r\n    start: startValue,\r\n    end: endValue,\r\n    min,\r\n    max\r\n  };\r\n}\r\nfunction parseValue(entry, item, vScale, i) {\r\n  if (isArray(entry)) {\r\n    parseFloatBar(entry, item, vScale, i);\r\n  } else {\r\n    item[vScale.axis] = vScale.parse(entry, i);\r\n  }\r\n  return item;\r\n}\r\nfunction parseArrayOrPrimitive(meta, data, start, count) {\r\n  const iScale = meta.iScale;\r\n  const vScale = meta.vScale;\r\n  const labels = iScale.getLabels();\r\n  const singleScale = iScale === vScale;\r\n  const parsed = [];\r\n  let i, ilen, item, entry;\r\n  for (i = start, ilen = start + count; i < ilen; ++i) {\r\n    entry = data[i];\r\n    item = {};\r\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\r\n    parsed.push(parseValue(entry, item, vScale, i));\r\n  }\r\n  return parsed;\r\n}\r\nfunction isFloatBar(custom) {\r\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\r\n}\r\nfunction barSign(size, vScale, actualBase) {\r\n  if (size !== 0) {\r\n    return sign(size);\r\n  }\r\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\r\n}\r\nfunction borderProps(properties) {\r\n  let reverse, start, end, top, bottom;\r\n  if (properties.horizontal) {\r\n    reverse = properties.base > properties.x;\r\n    start = 'left';\r\n    end = 'right';\r\n  } else {\r\n    reverse = properties.base < properties.y;\r\n    start = 'bottom';\r\n    end = 'top';\r\n  }\r\n  if (reverse) {\r\n    top = 'end';\r\n    bottom = 'start';\r\n  } else {\r\n    top = 'start';\r\n    bottom = 'end';\r\n  }\r\n  return {start, end, reverse, top, bottom};\r\n}\r\nfunction setBorderSkipped(properties, options, stack, index) {\r\n  let edge = options.borderSkipped;\r\n  const res = {};\r\n  if (!edge) {\r\n    properties.borderSkipped = res;\r\n    return;\r\n  }\r\n  const {start, end, reverse, top, bottom} = borderProps(properties);\r\n  if (edge === 'middle' && stack) {\r\n    properties.enableBorderRadius = true;\r\n    if ((stack._top || 0) === index) {\r\n      edge = top;\r\n    } else if ((stack._bottom || 0) === index) {\r\n      edge = bottom;\r\n    } else {\r\n      res[parseEdge(bottom, start, end, reverse)] = true;\r\n      edge = top;\r\n    }\r\n  }\r\n  res[parseEdge(edge, start, end, reverse)] = true;\r\n  properties.borderSkipped = res;\r\n}\r\nfunction parseEdge(edge, a, b, reverse) {\r\n  if (reverse) {\r\n    edge = swap(edge, a, b);\r\n    edge = startEnd(edge, b, a);\r\n  } else {\r\n    edge = startEnd(edge, a, b);\r\n  }\r\n  return edge;\r\n}\r\nfunction swap(orig, v1, v2) {\r\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\r\n}\r\nfunction startEnd(v, start, end) {\r\n  return v === 'start' ? start : v === 'end' ? end : v;\r\n}\r\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\r\n  properties.inflateAmount = inflateAmount === 'auto'\r\n    ? ratio === 1 ? 0.33 : 0\r\n    : inflateAmount;\r\n}\r\nclass BarController extends DatasetController {\r\n  parsePrimitiveData(meta, data, start, count) {\r\n    return parseArrayOrPrimitive(meta, data, start, count);\r\n  }\r\n  parseArrayData(meta, data, start, count) {\r\n    return parseArrayOrPrimitive(meta, data, start, count);\r\n  }\r\n  parseObjectData(meta, data, start, count) {\r\n    const {iScale, vScale} = meta;\r\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\r\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\r\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\r\n    const parsed = [];\r\n    let i, ilen, item, obj;\r\n    for (i = start, ilen = start + count; i < ilen; ++i) {\r\n      obj = data[i];\r\n      item = {};\r\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\r\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\r\n    }\r\n    return parsed;\r\n  }\r\n  updateRangeFromParsed(range, scale, parsed, stack) {\r\n    super.updateRangeFromParsed(range, scale, parsed, stack);\r\n    const custom = parsed._custom;\r\n    if (custom && scale === this._cachedMeta.vScale) {\r\n      range.min = Math.min(range.min, custom.min);\r\n      range.max = Math.max(range.max, custom.max);\r\n    }\r\n  }\r\n  getMaxOverflow() {\r\n    return 0;\r\n  }\r\n  getLabelAndValue(index) {\r\n    const meta = this._cachedMeta;\r\n    const {iScale, vScale} = meta;\r\n    const parsed = this.getParsed(index);\r\n    const custom = parsed._custom;\r\n    const value = isFloatBar(custom)\r\n      ? '[' + custom.start + ', ' + custom.end + ']'\r\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\r\n    return {\r\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\r\n      value\r\n    };\r\n  }\r\n  initialize() {\r\n    this.enableOptionSharing = true;\r\n    super.initialize();\r\n    const meta = this._cachedMeta;\r\n    meta.stack = this.getDataset().stack;\r\n  }\r\n  update(mode) {\r\n    const meta = this._cachedMeta;\r\n    this.updateElements(meta.data, 0, meta.data.length, mode);\r\n  }\r\n  updateElements(bars, start, count, mode) {\r\n    const reset = mode === 'reset';\r\n    const {index, _cachedMeta: {vScale}} = this;\r\n    const base = vScale.getBasePixel();\r\n    const horizontal = vScale.isHorizontal();\r\n    const ruler = this._getRuler();\r\n    const firstOpts = this.resolveDataElementOptions(start, mode);\r\n    const sharedOptions = this.getSharedOptions(firstOpts);\r\n    const includeOptions = this.includeOptions(mode, sharedOptions);\r\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\r\n    for (let i = start; i < start + count; i++) {\r\n      const parsed = this.getParsed(i);\r\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\r\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\r\n      const stack = (parsed._stacks || {})[vScale.axis];\r\n      const properties = {\r\n        horizontal,\r\n        base: vpixels.base,\r\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\r\n        x: horizontal ? vpixels.head : ipixels.center,\r\n        y: horizontal ? ipixels.center : vpixels.head,\r\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\r\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\r\n      };\r\n      if (includeOptions) {\r\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\r\n      }\r\n      const options = properties.options || bars[i].options;\r\n      setBorderSkipped(properties, options, stack, index);\r\n      setInflateAmount(properties, options, ruler.ratio);\r\n      this.updateElement(bars[i], i, properties, mode);\r\n    }\r\n  }\r\n  _getStacks(last, dataIndex) {\r\n    const meta = this._cachedMeta;\r\n    const iScale = meta.iScale;\r\n    const metasets = iScale.getMatchingVisibleMetas(this._type);\r\n    const stacked = iScale.options.stacked;\r\n    const ilen = metasets.length;\r\n    const stacks = [];\r\n    let i, item;\r\n    for (i = 0; i < ilen; ++i) {\r\n      item = metasets[i];\r\n      if (!item.controller.options.grouped) {\r\n        continue;\r\n      }\r\n      if (typeof dataIndex !== 'undefined') {\r\n        const val = item.controller.getParsed(dataIndex)[\r\n          item.controller._cachedMeta.vScale.axis\r\n        ];\r\n        if (isNullOrUndef(val) || isNaN(val)) {\r\n          continue;\r\n        }\r\n      }\r\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\r\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\r\n        stacks.push(item.stack);\r\n      }\r\n      if (item.index === last) {\r\n        break;\r\n      }\r\n    }\r\n    if (!stacks.length) {\r\n      stacks.push(undefined);\r\n    }\r\n    return stacks;\r\n  }\r\n  _getStackCount(index) {\r\n    return this._getStacks(undefined, index).length;\r\n  }\r\n  _getStackIndex(datasetIndex, name, dataIndex) {\r\n    const stacks = this._getStacks(datasetIndex, dataIndex);\r\n    const index = (name !== undefined)\r\n      ? stacks.indexOf(name)\r\n      : -1;\r\n    return (index === -1)\r\n      ? stacks.length - 1\r\n      : index;\r\n  }\r\n  _getRuler() {\r\n    const opts = this.options;\r\n    const meta = this._cachedMeta;\r\n    const iScale = meta.iScale;\r\n    const pixels = [];\r\n    let i, ilen;\r\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\r\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\r\n    }\r\n    const barThickness = opts.barThickness;\r\n    const min = barThickness || computeMinSampleSize(meta);\r\n    return {\r\n      min,\r\n      pixels,\r\n      start: iScale._startPixel,\r\n      end: iScale._endPixel,\r\n      stackCount: this._getStackCount(),\r\n      scale: iScale,\r\n      grouped: opts.grouped,\r\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\r\n    };\r\n  }\r\n  _calculateBarValuePixels(index) {\r\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\r\n    const actualBase = baseValue || 0;\r\n    const parsed = this.getParsed(index);\r\n    const custom = parsed._custom;\r\n    const floating = isFloatBar(custom);\r\n    let value = parsed[vScale.axis];\r\n    let start = 0;\r\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\r\n    let head, size;\r\n    if (length !== value) {\r\n      start = length - value;\r\n      length = value;\r\n    }\r\n    if (floating) {\r\n      value = custom.barStart;\r\n      length = custom.barEnd - custom.barStart;\r\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\r\n        start = 0;\r\n      }\r\n      start += value;\r\n    }\r\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\r\n    let base = vScale.getPixelForValue(startValue);\r\n    if (this.chart.getDataVisibility(index)) {\r\n      head = vScale.getPixelForValue(start + length);\r\n    } else {\r\n      head = base;\r\n    }\r\n    size = head - base;\r\n    if (Math.abs(size) < minBarLength) {\r\n      size = barSign(size, vScale, actualBase) * minBarLength;\r\n      if (value === actualBase) {\r\n        base -= size / 2;\r\n      }\r\n      head = base + size;\r\n    }\r\n    if (base === vScale.getPixelForValue(actualBase)) {\r\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\r\n      base += halfGrid;\r\n      size -= halfGrid;\r\n    }\r\n    return {\r\n      size,\r\n      base,\r\n      head,\r\n      center: head + size / 2\r\n    };\r\n  }\r\n  _calculateBarIndexPixels(index, ruler) {\r\n    const scale = ruler.scale;\r\n    const options = this.options;\r\n    const skipNull = options.skipNull;\r\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\r\n    let center, size;\r\n    if (ruler.grouped) {\r\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\r\n      const range = options.barThickness === 'flex'\r\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\r\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\r\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\r\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\r\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\r\n    } else {\r\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\r\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\r\n    }\r\n    return {\r\n      base: center - size / 2,\r\n      head: center + size / 2,\r\n      center,\r\n      size\r\n    };\r\n  }\r\n  draw() {\r\n    const meta = this._cachedMeta;\r\n    const vScale = meta.vScale;\r\n    const rects = meta.data;\r\n    const ilen = rects.length;\r\n    let i = 0;\r\n    for (; i < ilen; ++i) {\r\n      if (this.getParsed(i)[vScale.axis] !== null) {\r\n        rects[i].draw(this._ctx);\r\n      }\r\n    }\r\n  }\r\n}\r\nBarController.id = 'bar';\r\nBarController.defaults = {\r\n  datasetElementType: false,\r\n  dataElementType: 'bar',\r\n  categoryPercentage: 0.8,\r\n  barPercentage: 0.9,\r\n  grouped: true,\r\n  animations: {\r\n    numbers: {\r\n      type: 'number',\r\n      properties: ['x', 'y', 'base', 'width', 'height']\r\n    }\r\n  }\r\n};\r\nBarController.overrides = {\r\n  scales: {\r\n    _index_: {\r\n      type: 'category',\r\n      offset: true,\r\n      grid: {\r\n        offset: true\r\n      }\r\n    },\r\n    _value_: {\r\n      type: 'linear',\r\n      beginAtZero: true,\r\n    }\r\n  }\r\n};\r\n\r\nclass BubbleController extends DatasetController {\r\n  initialize() {\r\n    this.enableOptionSharing = true;\r\n    super.initialize();\r\n  }\r\n  parsePrimitiveData(meta, data, start, count) {\r\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\r\n    for (let i = 0; i < parsed.length; i++) {\r\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\r\n    }\r\n    return parsed;\r\n  }\r\n  parseArrayData(meta, data, start, count) {\r\n    const parsed = super.parseArrayData(meta, data, start, count);\r\n    for (let i = 0; i < parsed.length; i++) {\r\n      const item = data[start + i];\r\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\r\n    }\r\n    return parsed;\r\n  }\r\n  parseObjectData(meta, data, start, count) {\r\n    const parsed = super.parseObjectData(meta, data, start, count);\r\n    for (let i = 0; i < parsed.length; i++) {\r\n      const item = data[start + i];\r\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\r\n    }\r\n    return parsed;\r\n  }\r\n  getMaxOverflow() {\r\n    const data = this._cachedMeta.data;\r\n    let max = 0;\r\n    for (let i = data.length - 1; i >= 0; --i) {\r\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\r\n    }\r\n    return max > 0 && max;\r\n  }\r\n  getLabelAndValue(index) {\r\n    const meta = this._cachedMeta;\r\n    const {xScale, yScale} = meta;\r\n    const parsed = this.getParsed(index);\r\n    const x = xScale.getLabelForValue(parsed.x);\r\n    const y = yScale.getLabelForValue(parsed.y);\r\n    const r = parsed._custom;\r\n    return {\r\n      label: meta.label,\r\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\r\n    };\r\n  }\r\n  update(mode) {\r\n    const points = this._cachedMeta.data;\r\n    this.updateElements(points, 0, points.length, mode);\r\n  }\r\n  updateElements(points, start, count, mode) {\r\n    const reset = mode === 'reset';\r\n    const {iScale, vScale} = this._cachedMeta;\r\n    const firstOpts = this.resolveDataElementOptions(start, mode);\r\n    const sharedOptions = this.getSharedOptions(firstOpts);\r\n    const includeOptions = this.includeOptions(mode, sharedOptions);\r\n    const iAxis = iScale.axis;\r\n    const vAxis = vScale.axis;\r\n    for (let i = start; i < start + count; i++) {\r\n      const point = points[i];\r\n      const parsed = !reset && this.getParsed(i);\r\n      const properties = {};\r\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\r\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\r\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\r\n      if (includeOptions) {\r\n        properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\r\n        if (reset) {\r\n          properties.options.radius = 0;\r\n        }\r\n      }\r\n      this.updateElement(point, i, properties, mode);\r\n    }\r\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\r\n  }\r\n  resolveDataElementOptions(index, mode) {\r\n    const parsed = this.getParsed(index);\r\n    let values = super.resolveDataElementOptions(index, mode);\r\n    if (values.$shared) {\r\n      values = Object.assign({}, values, {$shared: false});\r\n    }\r\n    const radius = values.radius;\r\n    if (mode !== 'active') {\r\n      values.radius = 0;\r\n    }\r\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\r\n    return values;\r\n  }\r\n}\r\nBubbleController.id = 'bubble';\r\nBubbleController.defaults = {\r\n  datasetElementType: false,\r\n  dataElementType: 'point',\r\n  animations: {\r\n    numbers: {\r\n      type: 'number',\r\n      properties: ['x', 'y', 'borderWidth', 'radius']\r\n    }\r\n  }\r\n};\r\nBubbleController.overrides = {\r\n  scales: {\r\n    x: {\r\n      type: 'linear'\r\n    },\r\n    y: {\r\n      type: 'linear'\r\n    }\r\n  },\r\n  plugins: {\r\n    tooltip: {\r\n      callbacks: {\r\n        title() {\r\n          return '';\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction getRatioAndOffset(rotation, circumference, cutout) {\r\n  let ratioX = 1;\r\n  let ratioY = 1;\r\n  let offsetX = 0;\r\n  let offsetY = 0;\r\n  if (circumference < TAU) {\r\n    const startAngle = rotation;\r\n    const endAngle = startAngle + circumference;\r\n    const startX = Math.cos(startAngle);\r\n    const startY = Math.sin(startAngle);\r\n    const endX = Math.cos(endAngle);\r\n    const endY = Math.sin(endAngle);\r\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\r\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\r\n    const maxX = calcMax(0, startX, endX);\r\n    const maxY = calcMax(HALF_PI, startY, endY);\r\n    const minX = calcMin(PI, startX, endX);\r\n    const minY = calcMin(PI + HALF_PI, startY, endY);\r\n    ratioX = (maxX - minX) / 2;\r\n    ratioY = (maxY - minY) / 2;\r\n    offsetX = -(maxX + minX) / 2;\r\n    offsetY = -(maxY + minY) / 2;\r\n  }\r\n  return {ratioX, ratioY, offsetX, offsetY};\r\n}\r\nclass DoughnutController extends DatasetController {\r\n  constructor(chart, datasetIndex) {\r\n    super(chart, datasetIndex);\r\n    this.enableOptionSharing = true;\r\n    this.innerRadius = undefined;\r\n    this.outerRadius = undefined;\r\n    this.offsetX = undefined;\r\n    this.offsetY = undefined;\r\n  }\r\n  linkScales() {}\r\n  parse(start, count) {\r\n    const data = this.getDataset().data;\r\n    const meta = this._cachedMeta;\r\n    if (this._parsing === false) {\r\n      meta._parsed = data;\r\n    } else {\r\n      let getter = (i) => +data[i];\r\n      if (isObject(data[start])) {\r\n        const {key = 'value'} = this._parsing;\r\n        getter = (i) => +resolveObjectKey(data[i], key);\r\n      }\r\n      let i, ilen;\r\n      for (i = start, ilen = start + count; i < ilen; ++i) {\r\n        meta._parsed[i] = getter(i);\r\n      }\r\n    }\r\n  }\r\n  _getRotation() {\r\n    return toRadians(this.options.rotation - 90);\r\n  }\r\n  _getCircumference() {\r\n    return toRadians(this.options.circumference);\r\n  }\r\n  _getRotationExtents() {\r\n    let min = TAU;\r\n    let max = -TAU;\r\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\r\n      if (this.chart.isDatasetVisible(i)) {\r\n        const controller = this.chart.getDatasetMeta(i).controller;\r\n        const rotation = controller._getRotation();\r\n        const circumference = controller._getCircumference();\r\n        min = Math.min(min, rotation);\r\n        max = Math.max(max, rotation + circumference);\r\n      }\r\n    }\r\n    return {\r\n      rotation: min,\r\n      circumference: max - min,\r\n    };\r\n  }\r\n  update(mode) {\r\n    const chart = this.chart;\r\n    const {chartArea} = chart;\r\n    const meta = this._cachedMeta;\r\n    const arcs = meta.data;\r\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\r\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\r\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\r\n    const chartWeight = this._getRingWeight(this.index);\r\n    const {circumference, rotation} = this._getRotationExtents();\r\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\r\n    const maxWidth = (chartArea.width - spacing) / ratioX;\r\n    const maxHeight = (chartArea.height - spacing) / ratioY;\r\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\r\n    const outerRadius = toDimension(this.options.radius, maxRadius);\r\n    const innerRadius = Math.max(outerRadius * cutout, 0);\r\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\r\n    this.offsetX = offsetX * outerRadius;\r\n    this.offsetY = offsetY * outerRadius;\r\n    meta.total = this.calculateTotal();\r\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\r\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\r\n    this.updateElements(arcs, 0, arcs.length, mode);\r\n  }\r\n  _circumference(i, reset) {\r\n    const opts = this.options;\r\n    const meta = this._cachedMeta;\r\n    const circumference = this._getCircumference();\r\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\r\n      return 0;\r\n    }\r\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\r\n  }\r\n  updateElements(arcs, start, count, mode) {\r\n    const reset = mode === 'reset';\r\n    const chart = this.chart;\r\n    const chartArea = chart.chartArea;\r\n    const opts = chart.options;\r\n    const animationOpts = opts.animation;\r\n    const centerX = (chartArea.left + chartArea.right) / 2;\r\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\r\n    const animateScale = reset && animationOpts.animateScale;\r\n    const innerRadius = animateScale ? 0 : this.innerRadius;\r\n    const outerRadius = animateScale ? 0 : this.outerRadius;\r\n    const firstOpts = this.resolveDataElementOptions(start, mode);\r\n    const sharedOptions = this.getSharedOptions(firstOpts);\r\n    const includeOptions = this.includeOptions(mode, sharedOptions);\r\n    let startAngle = this._getRotation();\r\n    let i;\r\n    for (i = 0; i < start; ++i) {\r\n      startAngle += this._circumference(i, reset);\r\n    }\r\n    for (i = start; i < start + count; ++i) {\r\n      const circumference = this._circumference(i, reset);\r\n      const arc = arcs[i];\r\n      const properties = {\r\n        x: centerX + this.offsetX,\r\n        y: centerY + this.offsetY,\r\n        startAngle,\r\n        endAngle: startAngle + circumference,\r\n        circumference,\r\n        outerRadius,\r\n        innerRadius\r\n      };\r\n      if (includeOptions) {\r\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\r\n      }\r\n      startAngle += circumference;\r\n      this.updateElement(arc, i, properties, mode);\r\n    }\r\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\r\n  }\r\n  calculateTotal() {\r\n    const meta = this._cachedMeta;\r\n    const metaData = meta.data;\r\n    let total = 0;\r\n    let i;\r\n    for (i = 0; i < metaData.length; i++) {\r\n      const value = meta._parsed[i];\r\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\r\n        total += Math.abs(value);\r\n      }\r\n    }\r\n    return total;\r\n  }\r\n  calculateCircumference(value) {\r\n    const total = this._cachedMeta.total;\r\n    if (total > 0 && !isNaN(value)) {\r\n      return TAU * (Math.abs(value) / total);\r\n    }\r\n    return 0;\r\n  }\r\n  getLabelAndValue(index) {\r\n    const meta = this._cachedMeta;\r\n    const chart = this.chart;\r\n    const labels = chart.data.labels || [];\r\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\r\n    return {\r\n      label: labels[index] || '',\r\n      value,\r\n    };\r\n  }\r\n  getMaxBorderWidth(arcs) {\r\n    let max = 0;\r\n    const chart = this.chart;\r\n    let i, ilen, meta, controller, options;\r\n    if (!arcs) {\r\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n        if (chart.isDatasetVisible(i)) {\r\n          meta = chart.getDatasetMeta(i);\r\n          arcs = meta.data;\r\n          controller = meta.controller;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (!arcs) {\r\n      return 0;\r\n    }\r\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n      options = controller.resolveDataElementOptions(i);\r\n      if (options.borderAlign !== 'inner') {\r\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\r\n      }\r\n    }\r\n    return max;\r\n  }\r\n  getMaxOffset(arcs) {\r\n    let max = 0;\r\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n      const options = this.resolveDataElementOptions(i);\r\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\r\n    }\r\n    return max;\r\n  }\r\n  _getRingWeightOffset(datasetIndex) {\r\n    let ringWeightOffset = 0;\r\n    for (let i = 0; i < datasetIndex; ++i) {\r\n      if (this.chart.isDatasetVisible(i)) {\r\n        ringWeightOffset += this._getRingWeight(i);\r\n      }\r\n    }\r\n    return ringWeightOffset;\r\n  }\r\n  _getRingWeight(datasetIndex) {\r\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\r\n  }\r\n  _getVisibleDatasetWeightTotal() {\r\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\r\n  }\r\n}\r\nDoughnutController.id = 'doughnut';\r\nDoughnutController.defaults = {\r\n  datasetElementType: false,\r\n  dataElementType: 'arc',\r\n  animation: {\r\n    animateRotate: true,\r\n    animateScale: false\r\n  },\r\n  animations: {\r\n    numbers: {\r\n      type: 'number',\r\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\r\n    },\r\n  },\r\n  cutout: '50%',\r\n  rotation: 0,\r\n  circumference: 360,\r\n  radius: '100%',\r\n  spacing: 0,\r\n  indexAxis: 'r',\r\n};\r\nDoughnutController.descriptors = {\r\n  _scriptable: (name) => name !== 'spacing',\r\n  _indexable: (name) => name !== 'spacing',\r\n};\r\nDoughnutController.overrides = {\r\n  aspectRatio: 1,\r\n  plugins: {\r\n    legend: {\r\n      labels: {\r\n        generateLabels(chart) {\r\n          const data = chart.data;\r\n          if (data.labels.length && data.datasets.length) {\r\n            const {labels: {pointStyle}} = chart.legend.options;\r\n            return data.labels.map((label, i) => {\r\n              const meta = chart.getDatasetMeta(0);\r\n              const style = meta.controller.getStyle(i);\r\n              return {\r\n                text: label,\r\n                fillStyle: style.backgroundColor,\r\n                strokeStyle: style.borderColor,\r\n                lineWidth: style.borderWidth,\r\n                pointStyle: pointStyle,\r\n                hidden: !chart.getDataVisibility(i),\r\n                index: i\r\n              };\r\n            });\r\n          }\r\n          return [];\r\n        }\r\n      },\r\n      onClick(e, legendItem, legend) {\r\n        legend.chart.toggleDataVisibility(legendItem.index);\r\n        legend.chart.update();\r\n      }\r\n    },\r\n    tooltip: {\r\n      callbacks: {\r\n        title() {\r\n          return '';\r\n        },\r\n        label(tooltipItem) {\r\n          let dataLabel = tooltipItem.label;\r\n          const value = ': ' + tooltipItem.formattedValue;\r\n          if (isArray(dataLabel)) {\r\n            dataLabel = dataLabel.slice();\r\n            dataLabel[0] += value;\r\n          } else {\r\n            dataLabel += value;\r\n          }\r\n          return dataLabel;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nclass LineController extends DatasetController {\r\n  initialize() {\r\n    this.enableOptionSharing = true;\r\n    super.initialize();\r\n  }\r\n  update(mode) {\r\n    const meta = this._cachedMeta;\r\n    const {dataset: line, data: points = [], _dataset} = meta;\r\n    const animationsDisabled = this.chart._animationsDisabled;\r\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\r\n    this._drawStart = start;\r\n    this._drawCount = count;\r\n    if (scaleRangesChanged(meta)) {\r\n      start = 0;\r\n      count = points.length;\r\n    }\r\n    line._chart = this.chart;\r\n    line._datasetIndex = this.index;\r\n    line._decimated = !!_dataset._decimated;\r\n    line.points = points;\r\n    const options = this.resolveDatasetElementOptions(mode);\r\n    if (!this.options.showLine) {\r\n      options.borderWidth = 0;\r\n    }\r\n    options.segment = this.options.segment;\r\n    this.updateElement(line, undefined, {\r\n      animated: !animationsDisabled,\r\n      options\r\n    }, mode);\r\n    this.updateElements(points, start, count, mode);\r\n  }\r\n  updateElements(points, start, count, mode) {\r\n    const reset = mode === 'reset';\r\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\r\n    const firstOpts = this.resolveDataElementOptions(start, mode);\r\n    const sharedOptions = this.getSharedOptions(firstOpts);\r\n    const includeOptions = this.includeOptions(mode, sharedOptions);\r\n    const iAxis = iScale.axis;\r\n    const vAxis = vScale.axis;\r\n    const {spanGaps, segment} = this.options;\r\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\r\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\r\n    let prevParsed = start > 0 && this.getParsed(start - 1);\r\n    for (let i = start; i < start + count; ++i) {\r\n      const point = points[i];\r\n      const parsed = this.getParsed(i);\r\n      const properties = directUpdate ? point : {};\r\n      const nullData = isNullOrUndef(parsed[vAxis]);\r\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\r\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\r\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\r\n      properties.stop = i > 0 && (parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\r\n      if (segment) {\r\n        properties.parsed = parsed;\r\n        properties.raw = _dataset.data[i];\r\n      }\r\n      if (includeOptions) {\r\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\r\n      }\r\n      if (!directUpdate) {\r\n        this.updateElement(point, i, properties, mode);\r\n      }\r\n      prevParsed = parsed;\r\n    }\r\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\r\n  }\r\n  getMaxOverflow() {\r\n    const meta = this._cachedMeta;\r\n    const dataset = meta.dataset;\r\n    const border = dataset.options && dataset.options.borderWidth || 0;\r\n    const data = meta.data || [];\r\n    if (!data.length) {\r\n      return border;\r\n    }\r\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\r\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\r\n    return Math.max(border, firstPoint, lastPoint) / 2;\r\n  }\r\n  draw() {\r\n    const meta = this._cachedMeta;\r\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\r\n    super.draw();\r\n  }\r\n}\r\nLineController.id = 'line';\r\nLineController.defaults = {\r\n  datasetElementType: 'line',\r\n  dataElementType: 'point',\r\n  showLine: true,\r\n  spanGaps: false,\r\n};\r\nLineController.overrides = {\r\n  scales: {\r\n    _index_: {\r\n      type: 'category',\r\n    },\r\n    _value_: {\r\n      type: 'linear',\r\n    },\r\n  }\r\n};\r\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\r\n  const pointCount = points.length;\r\n  let start = 0;\r\n  let count = pointCount;\r\n  if (meta._sorted) {\r\n    const {iScale, _parsed} = meta;\r\n    const axis = iScale.axis;\r\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\r\n    if (minDefined) {\r\n      start = _limitValue(Math.min(\r\n        _lookupByKey(_parsed, iScale.axis, min).lo,\r\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\r\n      0, pointCount - 1);\r\n    }\r\n    if (maxDefined) {\r\n      count = _limitValue(Math.max(\r\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\r\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\r\n      start, pointCount) - start;\r\n    } else {\r\n      count = pointCount - start;\r\n    }\r\n  }\r\n  return {start, count};\r\n}\r\nfunction scaleRangesChanged(meta) {\r\n  const {xScale, yScale, _scaleRanges} = meta;\r\n  const newRanges = {\r\n    xmin: xScale.min,\r\n    xmax: xScale.max,\r\n    ymin: yScale.min,\r\n    ymax: yScale.max\r\n  };\r\n  if (!_scaleRanges) {\r\n    meta._scaleRanges = newRanges;\r\n    return true;\r\n  }\r\n  const changed = _scaleRanges.xmin !== xScale.min\r\n\t\t|| _scaleRanges.xmax !== xScale.max\r\n\t\t|| _scaleRanges.ymin !== yScale.min\r\n\t\t|| _scaleRanges.ymax !== yScale.max;\r\n  Object.assign(_scaleRanges, newRanges);\r\n  return changed;\r\n}\r\n\r\nclass PolarAreaController extends DatasetController {\r\n  constructor(chart, datasetIndex) {\r\n    super(chart, datasetIndex);\r\n    this.innerRadius = undefined;\r\n    this.outerRadius = undefined;\r\n  }\r\n  getLabelAndValue(index) {\r\n    const meta = this._cachedMeta;\r\n    const chart = this.chart;\r\n    const labels = chart.data.labels || [];\r\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\r\n    return {\r\n      label: labels[index] || '',\r\n      value,\r\n    };\r\n  }\r\n  update(mode) {\r\n    const arcs = this._cachedMeta.data;\r\n    this._updateRadius();\r\n    this.updateElements(arcs, 0, arcs.length, mode);\r\n  }\r\n  _updateRadius() {\r\n    const chart = this.chart;\r\n    const chartArea = chart.chartArea;\r\n    const opts = chart.options;\r\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\r\n    const outerRadius = Math.max(minSize / 2, 0);\r\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\r\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\r\n    this.outerRadius = outerRadius - (radiusLength * this.index);\r\n    this.innerRadius = this.outerRadius - radiusLength;\r\n  }\r\n  updateElements(arcs, start, count, mode) {\r\n    const reset = mode === 'reset';\r\n    const chart = this.chart;\r\n    const dataset = this.getDataset();\r\n    const opts = chart.options;\r\n    const animationOpts = opts.animation;\r\n    const scale = this._cachedMeta.rScale;\r\n    const centerX = scale.xCenter;\r\n    const centerY = scale.yCenter;\r\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\r\n    let angle = datasetStartAngle;\r\n    let i;\r\n    const defaultAngle = 360 / this.countVisibleElements();\r\n    for (i = 0; i < start; ++i) {\r\n      angle += this._computeAngle(i, mode, defaultAngle);\r\n    }\r\n    for (i = start; i < start + count; i++) {\r\n      const arc = arcs[i];\r\n      let startAngle = angle;\r\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\r\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\r\n      angle = endAngle;\r\n      if (reset) {\r\n        if (animationOpts.animateScale) {\r\n          outerRadius = 0;\r\n        }\r\n        if (animationOpts.animateRotate) {\r\n          startAngle = endAngle = datasetStartAngle;\r\n        }\r\n      }\r\n      const properties = {\r\n        x: centerX,\r\n        y: centerY,\r\n        innerRadius: 0,\r\n        outerRadius,\r\n        startAngle,\r\n        endAngle,\r\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\r\n      };\r\n      this.updateElement(arc, i, properties, mode);\r\n    }\r\n  }\r\n  countVisibleElements() {\r\n    const dataset = this.getDataset();\r\n    const meta = this._cachedMeta;\r\n    let count = 0;\r\n    meta.data.forEach((element, index) => {\r\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\r\n        count++;\r\n      }\r\n    });\r\n    return count;\r\n  }\r\n  _computeAngle(index, mode, defaultAngle) {\r\n    return this.chart.getDataVisibility(index)\r\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\r\n      : 0;\r\n  }\r\n}\r\nPolarAreaController.id = 'polarArea';\r\nPolarAreaController.defaults = {\r\n  dataElementType: 'arc',\r\n  animation: {\r\n    animateRotate: true,\r\n    animateScale: true\r\n  },\r\n  animations: {\r\n    numbers: {\r\n      type: 'number',\r\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\r\n    },\r\n  },\r\n  indexAxis: 'r',\r\n  startAngle: 0,\r\n};\r\nPolarAreaController.overrides = {\r\n  aspectRatio: 1,\r\n  plugins: {\r\n    legend: {\r\n      labels: {\r\n        generateLabels(chart) {\r\n          const data = chart.data;\r\n          if (data.labels.length && data.datasets.length) {\r\n            const {labels: {pointStyle}} = chart.legend.options;\r\n            return data.labels.map((label, i) => {\r\n              const meta = chart.getDatasetMeta(0);\r\n              const style = meta.controller.getStyle(i);\r\n              return {\r\n                text: label,\r\n                fillStyle: style.backgroundColor,\r\n                strokeStyle: style.borderColor,\r\n                lineWidth: style.borderWidth,\r\n                pointStyle: pointStyle,\r\n                hidden: !chart.getDataVisibility(i),\r\n                index: i\r\n              };\r\n            });\r\n          }\r\n          return [];\r\n        }\r\n      },\r\n      onClick(e, legendItem, legend) {\r\n        legend.chart.toggleDataVisibility(legendItem.index);\r\n        legend.chart.update();\r\n      }\r\n    },\r\n    tooltip: {\r\n      callbacks: {\r\n        title() {\r\n          return '';\r\n        },\r\n        label(context) {\r\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  scales: {\r\n    r: {\r\n      type: 'radialLinear',\r\n      angleLines: {\r\n        display: false\r\n      },\r\n      beginAtZero: true,\r\n      grid: {\r\n        circular: true\r\n      },\r\n      pointLabels: {\r\n        display: false\r\n      },\r\n      startAngle: 0\r\n    }\r\n  }\r\n};\r\n\r\nclass PieController extends DoughnutController {\r\n}\r\nPieController.id = 'pie';\r\nPieController.defaults = {\r\n  cutout: 0,\r\n  rotation: 0,\r\n  circumference: 360,\r\n  radius: '100%'\r\n};\r\n\r\nclass RadarController extends DatasetController {\r\n  getLabelAndValue(index) {\r\n    const vScale = this._cachedMeta.vScale;\r\n    const parsed = this.getParsed(index);\r\n    return {\r\n      label: vScale.getLabels()[index],\r\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\r\n    };\r\n  }\r\n  update(mode) {\r\n    const meta = this._cachedMeta;\r\n    const line = meta.dataset;\r\n    const points = meta.data || [];\r\n    const labels = meta.iScale.getLabels();\r\n    line.points = points;\r\n    if (mode !== 'resize') {\r\n      const options = this.resolveDatasetElementOptions(mode);\r\n      if (!this.options.showLine) {\r\n        options.borderWidth = 0;\r\n      }\r\n      const properties = {\r\n        _loop: true,\r\n        _fullLoop: labels.length === points.length,\r\n        options\r\n      };\r\n      this.updateElement(line, undefined, properties, mode);\r\n    }\r\n    this.updateElements(points, 0, points.length, mode);\r\n  }\r\n  updateElements(points, start, count, mode) {\r\n    const dataset = this.getDataset();\r\n    const scale = this._cachedMeta.rScale;\r\n    const reset = mode === 'reset';\r\n    for (let i = start; i < start + count; i++) {\r\n      const point = points[i];\r\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\r\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\r\n      const x = reset ? scale.xCenter : pointPosition.x;\r\n      const y = reset ? scale.yCenter : pointPosition.y;\r\n      const properties = {\r\n        x,\r\n        y,\r\n        angle: pointPosition.angle,\r\n        skip: isNaN(x) || isNaN(y),\r\n        options\r\n      };\r\n      this.updateElement(point, i, properties, mode);\r\n    }\r\n  }\r\n}\r\nRadarController.id = 'radar';\r\nRadarController.defaults = {\r\n  datasetElementType: 'line',\r\n  dataElementType: 'point',\r\n  indexAxis: 'r',\r\n  showLine: true,\r\n  elements: {\r\n    line: {\r\n      fill: 'start'\r\n    }\r\n  },\r\n};\r\nRadarController.overrides = {\r\n  aspectRatio: 1,\r\n  scales: {\r\n    r: {\r\n      type: 'radialLinear',\r\n    }\r\n  }\r\n};\r\n\r\nclass ScatterController extends LineController {\r\n}\r\nScatterController.id = 'scatter';\r\nScatterController.defaults = {\r\n  showLine: false,\r\n  fill: false\r\n};\r\nScatterController.overrides = {\r\n  interaction: {\r\n    mode: 'point'\r\n  },\r\n  plugins: {\r\n    tooltip: {\r\n      callbacks: {\r\n        title() {\r\n          return '';\r\n        },\r\n        label(item) {\r\n          return '(' + item.label + ', ' + item.formattedValue + ')';\r\n        }\r\n      }\r\n    }\r\n  },\r\n  scales: {\r\n    x: {\r\n      type: 'linear'\r\n    },\r\n    y: {\r\n      type: 'linear'\r\n    }\r\n  }\r\n};\r\n\r\nvar controllers = /*#__PURE__*/Object.freeze({\r\n__proto__: null,\r\nBarController: BarController,\r\nBubbleController: BubbleController,\r\nDoughnutController: DoughnutController,\r\nLineController: LineController,\r\nPolarAreaController: PolarAreaController,\r\nPieController: PieController,\r\nRadarController: RadarController,\r\nScatterController: ScatterController\r\n});\r\n\r\nfunction abstract() {\r\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\r\n}\r\nclass DateAdapter {\r\n  constructor(options) {\r\n    this.options = options || {};\r\n  }\r\n  formats() {\r\n    return abstract();\r\n  }\r\n  parse(value, format) {\r\n    return abstract();\r\n  }\r\n  format(timestamp, format) {\r\n    return abstract();\r\n  }\r\n  add(timestamp, amount, unit) {\r\n    return abstract();\r\n  }\r\n  diff(a, b, unit) {\r\n    return abstract();\r\n  }\r\n  startOf(timestamp, unit, weekday) {\r\n    return abstract();\r\n  }\r\n  endOf(timestamp, unit) {\r\n    return abstract();\r\n  }\r\n}\r\nDateAdapter.override = function(members) {\r\n  Object.assign(DateAdapter.prototype, members);\r\n};\r\nvar adapters = {\r\n  _date: DateAdapter\r\n};\r\n\r\nfunction getRelativePosition(e, chart) {\r\n  if ('native' in e) {\r\n    return {\r\n      x: e.x,\r\n      y: e.y\r\n    };\r\n  }\r\n  return getRelativePosition$1(e, chart);\r\n}\r\nfunction evaluateAllVisibleItems(chart, handler) {\r\n  const metasets = chart.getSortedVisibleDatasetMetas();\r\n  let index, data, element;\r\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n    ({index, data} = metasets[i]);\r\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\r\n      element = data[j];\r\n      if (!element.skip) {\r\n        handler(element, index, j);\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction binarySearch(metaset, axis, value, intersect) {\r\n  const {controller, data, _sorted} = metaset;\r\n  const iScale = controller._cachedMeta.iScale;\r\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\r\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\r\n    if (!intersect) {\r\n      return lookupMethod(data, axis, value);\r\n    } else if (controller._sharedOptions) {\r\n      const el = data[0];\r\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\r\n      if (range) {\r\n        const start = lookupMethod(data, axis, value - range);\r\n        const end = lookupMethod(data, axis, value + range);\r\n        return {lo: start.lo, hi: end.hi};\r\n      }\r\n    }\r\n  }\r\n  return {lo: 0, hi: data.length - 1};\r\n}\r\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\r\n  const metasets = chart.getSortedVisibleDatasetMetas();\r\n  const value = position[axis];\r\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n    const {index, data} = metasets[i];\r\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\r\n    for (let j = lo; j <= hi; ++j) {\r\n      const element = data[j];\r\n      if (!element.skip) {\r\n        handler(element, index, j);\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction getDistanceMetricForAxis(axis) {\r\n  const useX = axis.indexOf('x') !== -1;\r\n  const useY = axis.indexOf('y') !== -1;\r\n  return function(pt1, pt2) {\r\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\r\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\r\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n  };\r\n}\r\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\r\n  const items = [];\r\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\r\n    return items;\r\n  }\r\n  const evaluationFunc = function(element, datasetIndex, index) {\r\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\r\n      items.push({element, datasetIndex, index});\r\n    }\r\n  };\r\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\r\n  return items;\r\n}\r\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\r\n  let items = [];\r\n  function evaluationFunc(element, datasetIndex, index) {\r\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\r\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\r\n    if (_angleBetween(angle, startAngle, endAngle)) {\r\n      items.push({element, datasetIndex, index});\r\n    }\r\n  }\r\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\r\n  return items;\r\n}\r\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition) {\r\n  let items = [];\r\n  const distanceMetric = getDistanceMetricForAxis(axis);\r\n  let minDistance = Number.POSITIVE_INFINITY;\r\n  function evaluationFunc(element, datasetIndex, index) {\r\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\r\n    if (intersect && !inRange) {\r\n      return;\r\n    }\r\n    const center = element.getCenterPoint(useFinalPosition);\r\n    const pointInArea = _isPointInArea(center, chart.chartArea, chart._minPadding);\r\n    if (!pointInArea && !inRange) {\r\n      return;\r\n    }\r\n    const distance = distanceMetric(position, center);\r\n    if (distance < minDistance) {\r\n      items = [{element, datasetIndex, index}];\r\n      minDistance = distance;\r\n    } else if (distance === minDistance) {\r\n      items.push({element, datasetIndex, index});\r\n    }\r\n  }\r\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\r\n  return items;\r\n}\r\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\r\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\r\n    return [];\r\n  }\r\n  return axis === 'r' && !intersect\r\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\r\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition);\r\n}\r\nfunction getAxisItems(chart, e, options, useFinalPosition) {\r\n  const position = getRelativePosition(e, chart);\r\n  const items = [];\r\n  const axis = options.axis;\r\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\r\n  let intersectsItem = false;\r\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\r\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\r\n      items.push({element, datasetIndex, index});\r\n    }\r\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\r\n      intersectsItem = true;\r\n    }\r\n  });\r\n  if (options.intersect && !intersectsItem) {\r\n    return [];\r\n  }\r\n  return items;\r\n}\r\nvar Interaction = {\r\n  modes: {\r\n    index(chart, e, options, useFinalPosition) {\r\n      const position = getRelativePosition(e, chart);\r\n      const axis = options.axis || 'x';\r\n      const items = options.intersect\r\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\r\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\r\n      const elements = [];\r\n      if (!items.length) {\r\n        return [];\r\n      }\r\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\r\n        const index = items[0].index;\r\n        const element = meta.data[index];\r\n        if (element && !element.skip) {\r\n          elements.push({element, datasetIndex: meta.index, index});\r\n        }\r\n      });\r\n      return elements;\r\n    },\r\n    dataset(chart, e, options, useFinalPosition) {\r\n      const position = getRelativePosition(e, chart);\r\n      const axis = options.axis || 'xy';\r\n      let items = options.intersect\r\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\r\n        getNearestItems(chart, position, axis, false, useFinalPosition);\r\n      if (items.length > 0) {\r\n        const datasetIndex = items[0].datasetIndex;\r\n        const data = chart.getDatasetMeta(datasetIndex).data;\r\n        items = [];\r\n        for (let i = 0; i < data.length; ++i) {\r\n          items.push({element: data[i], datasetIndex, index: i});\r\n        }\r\n      }\r\n      return items;\r\n    },\r\n    point(chart, e, options, useFinalPosition) {\r\n      const position = getRelativePosition(e, chart);\r\n      const axis = options.axis || 'xy';\r\n      return getIntersectItems(chart, position, axis, useFinalPosition);\r\n    },\r\n    nearest(chart, e, options, useFinalPosition) {\r\n      const position = getRelativePosition(e, chart);\r\n      const axis = options.axis || 'xy';\r\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\r\n    },\r\n    x(chart, e, options, useFinalPosition) {\r\n      return getAxisItems(chart, e, {axis: 'x', intersect: options.intersect}, useFinalPosition);\r\n    },\r\n    y(chart, e, options, useFinalPosition) {\r\n      return getAxisItems(chart, e, {axis: 'y', intersect: options.intersect}, useFinalPosition);\r\n    }\r\n  }\r\n};\r\n\r\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\r\nfunction filterByPosition(array, position) {\r\n  return array.filter(v => v.pos === position);\r\n}\r\nfunction filterDynamicPositionByAxis(array, axis) {\r\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\r\n}\r\nfunction sortByWeight(array, reverse) {\r\n  return array.sort((a, b) => {\r\n    const v0 = reverse ? b : a;\r\n    const v1 = reverse ? a : b;\r\n    return v0.weight === v1.weight ?\r\n      v0.index - v1.index :\r\n      v0.weight - v1.weight;\r\n  });\r\n}\r\nfunction wrapBoxes(boxes) {\r\n  const layoutBoxes = [];\r\n  let i, ilen, box, pos, stack, stackWeight;\r\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\r\n    box = boxes[i];\r\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\r\n    layoutBoxes.push({\r\n      index: i,\r\n      box,\r\n      pos,\r\n      horizontal: box.isHorizontal(),\r\n      weight: box.weight,\r\n      stack: stack && (pos + stack),\r\n      stackWeight\r\n    });\r\n  }\r\n  return layoutBoxes;\r\n}\r\nfunction buildStacks(layouts) {\r\n  const stacks = {};\r\n  for (const wrap of layouts) {\r\n    const {stack, pos, stackWeight} = wrap;\r\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\r\n      continue;\r\n    }\r\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\r\n    _stack.count++;\r\n    _stack.weight += stackWeight;\r\n  }\r\n  return stacks;\r\n}\r\nfunction setLayoutDims(layouts, params) {\r\n  const stacks = buildStacks(layouts);\r\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\r\n  let i, ilen, layout;\r\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\r\n    layout = layouts[i];\r\n    const {fullSize} = layout.box;\r\n    const stack = stacks[layout.stack];\r\n    const factor = stack && layout.stackWeight / stack.weight;\r\n    if (layout.horizontal) {\r\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\r\n      layout.height = hBoxMaxHeight;\r\n    } else {\r\n      layout.width = vBoxMaxWidth;\r\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\r\n    }\r\n  }\r\n  return stacks;\r\n}\r\nfunction buildLayoutBoxes(boxes) {\r\n  const layoutBoxes = wrapBoxes(boxes);\r\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\r\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\r\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\r\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\r\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\r\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\r\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\r\n  return {\r\n    fullSize,\r\n    leftAndTop: left.concat(top),\r\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\r\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\r\n    vertical: left.concat(right).concat(centerVertical),\r\n    horizontal: top.concat(bottom).concat(centerHorizontal)\r\n  };\r\n}\r\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\r\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\r\n}\r\nfunction updateMaxPadding(maxPadding, boxPadding) {\r\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\r\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\r\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\r\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\r\n}\r\nfunction updateDims(chartArea, params, layout, stacks) {\r\n  const {pos, box} = layout;\r\n  const maxPadding = chartArea.maxPadding;\r\n  if (!isObject(pos)) {\r\n    if (layout.size) {\r\n      chartArea[pos] -= layout.size;\r\n    }\r\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\r\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\r\n    layout.size = stack.size / stack.count;\r\n    chartArea[pos] += layout.size;\r\n  }\r\n  if (box.getPadding) {\r\n    updateMaxPadding(maxPadding, box.getPadding());\r\n  }\r\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\r\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\r\n  const widthChanged = newWidth !== chartArea.w;\r\n  const heightChanged = newHeight !== chartArea.h;\r\n  chartArea.w = newWidth;\r\n  chartArea.h = newHeight;\r\n  return layout.horizontal\r\n    ? {same: widthChanged, other: heightChanged}\r\n    : {same: heightChanged, other: widthChanged};\r\n}\r\nfunction handleMaxPadding(chartArea) {\r\n  const maxPadding = chartArea.maxPadding;\r\n  function updatePos(pos) {\r\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\r\n    chartArea[pos] += change;\r\n    return change;\r\n  }\r\n  chartArea.y += updatePos('top');\r\n  chartArea.x += updatePos('left');\r\n  updatePos('right');\r\n  updatePos('bottom');\r\n}\r\nfunction getMargins(horizontal, chartArea) {\r\n  const maxPadding = chartArea.maxPadding;\r\n  function marginForPositions(positions) {\r\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\r\n    positions.forEach((pos) => {\r\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\r\n    });\r\n    return margin;\r\n  }\r\n  return horizontal\r\n    ? marginForPositions(['left', 'right'])\r\n    : marginForPositions(['top', 'bottom']);\r\n}\r\nfunction fitBoxes(boxes, chartArea, params, stacks) {\r\n  const refitBoxes = [];\r\n  let i, ilen, layout, box, refit, changed;\r\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\r\n    layout = boxes[i];\r\n    box = layout.box;\r\n    box.update(\r\n      layout.width || chartArea.w,\r\n      layout.height || chartArea.h,\r\n      getMargins(layout.horizontal, chartArea)\r\n    );\r\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\r\n    refit |= same && refitBoxes.length;\r\n    changed = changed || other;\r\n    if (!box.fullSize) {\r\n      refitBoxes.push(layout);\r\n    }\r\n  }\r\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\r\n}\r\nfunction setBoxDims(box, left, top, width, height) {\r\n  box.top = top;\r\n  box.left = left;\r\n  box.right = left + width;\r\n  box.bottom = top + height;\r\n  box.width = width;\r\n  box.height = height;\r\n}\r\nfunction placeBoxes(boxes, chartArea, params, stacks) {\r\n  const userPadding = params.padding;\r\n  let {x, y} = chartArea;\r\n  for (const layout of boxes) {\r\n    const box = layout.box;\r\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\r\n    const weight = (layout.stackWeight / stack.weight) || 1;\r\n    if (layout.horizontal) {\r\n      const width = chartArea.w * weight;\r\n      const height = stack.size || box.height;\r\n      if (defined(stack.start)) {\r\n        y = stack.start;\r\n      }\r\n      if (box.fullSize) {\r\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\r\n      } else {\r\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\r\n      }\r\n      stack.start = y;\r\n      stack.placed += width;\r\n      y = box.bottom;\r\n    } else {\r\n      const height = chartArea.h * weight;\r\n      const width = stack.size || box.width;\r\n      if (defined(stack.start)) {\r\n        x = stack.start;\r\n      }\r\n      if (box.fullSize) {\r\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\r\n      } else {\r\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\r\n      }\r\n      stack.start = x;\r\n      stack.placed += height;\r\n      x = box.right;\r\n    }\r\n  }\r\n  chartArea.x = x;\r\n  chartArea.y = y;\r\n}\r\ndefaults.set('layout', {\r\n  autoPadding: true,\r\n  padding: {\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0\r\n  }\r\n});\r\nvar layouts = {\r\n  addBox(chart, item) {\r\n    if (!chart.boxes) {\r\n      chart.boxes = [];\r\n    }\r\n    item.fullSize = item.fullSize || false;\r\n    item.position = item.position || 'top';\r\n    item.weight = item.weight || 0;\r\n    item._layers = item._layers || function() {\r\n      return [{\r\n        z: 0,\r\n        draw(chartArea) {\r\n          item.draw(chartArea);\r\n        }\r\n      }];\r\n    };\r\n    chart.boxes.push(item);\r\n  },\r\n  removeBox(chart, layoutItem) {\r\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\r\n    if (index !== -1) {\r\n      chart.boxes.splice(index, 1);\r\n    }\r\n  },\r\n  configure(chart, item, options) {\r\n    item.fullSize = options.fullSize;\r\n    item.position = options.position;\r\n    item.weight = options.weight;\r\n  },\r\n  update(chart, width, height, minPadding) {\r\n    if (!chart) {\r\n      return;\r\n    }\r\n    const padding = toPadding(chart.options.layout.padding);\r\n    const availableWidth = Math.max(width - padding.width, 0);\r\n    const availableHeight = Math.max(height - padding.height, 0);\r\n    const boxes = buildLayoutBoxes(chart.boxes);\r\n    const verticalBoxes = boxes.vertical;\r\n    const horizontalBoxes = boxes.horizontal;\r\n    each(chart.boxes, box => {\r\n      if (typeof box.beforeLayout === 'function') {\r\n        box.beforeLayout();\r\n      }\r\n    });\r\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\r\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\r\n    const params = Object.freeze({\r\n      outerWidth: width,\r\n      outerHeight: height,\r\n      padding,\r\n      availableWidth,\r\n      availableHeight,\r\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\r\n      hBoxMaxHeight: availableHeight / 2\r\n    });\r\n    const maxPadding = Object.assign({}, padding);\r\n    updateMaxPadding(maxPadding, toPadding(minPadding));\r\n    const chartArea = Object.assign({\r\n      maxPadding,\r\n      w: availableWidth,\r\n      h: availableHeight,\r\n      x: padding.left,\r\n      y: padding.top\r\n    }, padding);\r\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\r\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\r\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\r\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\r\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\r\n    }\r\n    handleMaxPadding(chartArea);\r\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\r\n    chartArea.x += chartArea.w;\r\n    chartArea.y += chartArea.h;\r\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\r\n    chart.chartArea = {\r\n      left: chartArea.left,\r\n      top: chartArea.top,\r\n      right: chartArea.left + chartArea.w,\r\n      bottom: chartArea.top + chartArea.h,\r\n      height: chartArea.h,\r\n      width: chartArea.w,\r\n    };\r\n    each(boxes.chartArea, (layout) => {\r\n      const box = layout.box;\r\n      Object.assign(box, chart.chartArea);\r\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\r\n    });\r\n  }\r\n};\r\n\r\nclass BasePlatform {\r\n  acquireContext(canvas, aspectRatio) {}\r\n  releaseContext(context) {\r\n    return false;\r\n  }\r\n  addEventListener(chart, type, listener) {}\r\n  removeEventListener(chart, type, listener) {}\r\n  getDevicePixelRatio() {\r\n    return 1;\r\n  }\r\n  getMaximumSize(element, width, height, aspectRatio) {\r\n    width = Math.max(0, width || element.width);\r\n    height = height || element.height;\r\n    return {\r\n      width,\r\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\r\n    };\r\n  }\r\n  isAttached(canvas) {\r\n    return true;\r\n  }\r\n  updateConfig(config) {\r\n  }\r\n}\r\n\r\nclass BasicPlatform extends BasePlatform {\r\n  acquireContext(item) {\r\n    return item && item.getContext && item.getContext('2d') || null;\r\n  }\r\n  updateConfig(config) {\r\n    config.options.animation = false;\r\n  }\r\n}\r\n\r\nconst EXPANDO_KEY = '$chartjs';\r\nconst EVENT_TYPES = {\r\n  touchstart: 'mousedown',\r\n  touchmove: 'mousemove',\r\n  touchend: 'mouseup',\r\n  pointerenter: 'mouseenter',\r\n  pointerdown: 'mousedown',\r\n  pointermove: 'mousemove',\r\n  pointerup: 'mouseup',\r\n  pointerleave: 'mouseout',\r\n  pointerout: 'mouseout'\r\n};\r\nconst isNullOrEmpty = value => value === null || value === '';\r\nfunction initCanvas(canvas, aspectRatio) {\r\n  const style = canvas.style;\r\n  const renderHeight = canvas.getAttribute('height');\r\n  const renderWidth = canvas.getAttribute('width');\r\n  canvas[EXPANDO_KEY] = {\r\n    initial: {\r\n      height: renderHeight,\r\n      width: renderWidth,\r\n      style: {\r\n        display: style.display,\r\n        height: style.height,\r\n        width: style.width\r\n      }\r\n    }\r\n  };\r\n  style.display = style.display || 'block';\r\n  style.boxSizing = style.boxSizing || 'border-box';\r\n  if (isNullOrEmpty(renderWidth)) {\r\n    const displayWidth = readUsedSize(canvas, 'width');\r\n    if (displayWidth !== undefined) {\r\n      canvas.width = displayWidth;\r\n    }\r\n  }\r\n  if (isNullOrEmpty(renderHeight)) {\r\n    if (canvas.style.height === '') {\r\n      canvas.height = canvas.width / (aspectRatio || 2);\r\n    } else {\r\n      const displayHeight = readUsedSize(canvas, 'height');\r\n      if (displayHeight !== undefined) {\r\n        canvas.height = displayHeight;\r\n      }\r\n    }\r\n  }\r\n  return canvas;\r\n}\r\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\r\nfunction addListener(node, type, listener) {\r\n  node.addEventListener(type, listener, eventListenerOptions);\r\n}\r\nfunction removeListener(chart, type, listener) {\r\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\r\n}\r\nfunction fromNativeEvent(event, chart) {\r\n  const type = EVENT_TYPES[event.type] || event.type;\r\n  const {x, y} = getRelativePosition$1(event, chart);\r\n  return {\r\n    type,\r\n    chart,\r\n    native: event,\r\n    x: x !== undefined ? x : null,\r\n    y: y !== undefined ? y : null,\r\n  };\r\n}\r\nfunction nodeListContains(nodeList, canvas) {\r\n  for (const node of nodeList) {\r\n    if (node === canvas || node.contains(canvas)) {\r\n      return true;\r\n    }\r\n  }\r\n}\r\nfunction createAttachObserver(chart, type, listener) {\r\n  const canvas = chart.canvas;\r\n  const observer = new MutationObserver(entries => {\r\n    let trigger = false;\r\n    for (const entry of entries) {\r\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\r\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\r\n    }\r\n    if (trigger) {\r\n      listener();\r\n    }\r\n  });\r\n  observer.observe(document, {childList: true, subtree: true});\r\n  return observer;\r\n}\r\nfunction createDetachObserver(chart, type, listener) {\r\n  const canvas = chart.canvas;\r\n  const observer = new MutationObserver(entries => {\r\n    let trigger = false;\r\n    for (const entry of entries) {\r\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\r\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\r\n    }\r\n    if (trigger) {\r\n      listener();\r\n    }\r\n  });\r\n  observer.observe(document, {childList: true, subtree: true});\r\n  return observer;\r\n}\r\nconst drpListeningCharts = new Map();\r\nlet oldDevicePixelRatio = 0;\r\nfunction onWindowResize() {\r\n  const dpr = window.devicePixelRatio;\r\n  if (dpr === oldDevicePixelRatio) {\r\n    return;\r\n  }\r\n  oldDevicePixelRatio = dpr;\r\n  drpListeningCharts.forEach((resize, chart) => {\r\n    if (chart.currentDevicePixelRatio !== dpr) {\r\n      resize();\r\n    }\r\n  });\r\n}\r\nfunction listenDevicePixelRatioChanges(chart, resize) {\r\n  if (!drpListeningCharts.size) {\r\n    window.addEventListener('resize', onWindowResize);\r\n  }\r\n  drpListeningCharts.set(chart, resize);\r\n}\r\nfunction unlistenDevicePixelRatioChanges(chart) {\r\n  drpListeningCharts.delete(chart);\r\n  if (!drpListeningCharts.size) {\r\n    window.removeEventListener('resize', onWindowResize);\r\n  }\r\n}\r\nfunction createResizeObserver(chart, type, listener) {\r\n  const canvas = chart.canvas;\r\n  const container = canvas && _getParentNode(canvas);\r\n  if (!container) {\r\n    return;\r\n  }\r\n  const resize = throttled((width, height) => {\r\n    const w = container.clientWidth;\r\n    listener(width, height);\r\n    if (w < container.clientWidth) {\r\n      listener();\r\n    }\r\n  }, window);\r\n  const observer = new ResizeObserver(entries => {\r\n    const entry = entries[0];\r\n    const width = entry.contentRect.width;\r\n    const height = entry.contentRect.height;\r\n    if (width === 0 && height === 0) {\r\n      return;\r\n    }\r\n    resize(width, height);\r\n  });\r\n  observer.observe(container);\r\n  listenDevicePixelRatioChanges(chart, resize);\r\n  return observer;\r\n}\r\nfunction releaseObserver(chart, type, observer) {\r\n  if (observer) {\r\n    observer.disconnect();\r\n  }\r\n  if (type === 'resize') {\r\n    unlistenDevicePixelRatioChanges(chart);\r\n  }\r\n}\r\nfunction createProxyAndListen(chart, type, listener) {\r\n  const canvas = chart.canvas;\r\n  const proxy = throttled((event) => {\r\n    if (chart.ctx !== null) {\r\n      listener(fromNativeEvent(event, chart));\r\n    }\r\n  }, chart, (args) => {\r\n    const event = args[0];\r\n    return [event, event.offsetX, event.offsetY];\r\n  });\r\n  addListener(canvas, type, proxy);\r\n  return proxy;\r\n}\r\nclass DomPlatform extends BasePlatform {\r\n  acquireContext(canvas, aspectRatio) {\r\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\r\n    if (context && context.canvas === canvas) {\r\n      initCanvas(canvas, aspectRatio);\r\n      return context;\r\n    }\r\n    return null;\r\n  }\r\n  releaseContext(context) {\r\n    const canvas = context.canvas;\r\n    if (!canvas[EXPANDO_KEY]) {\r\n      return false;\r\n    }\r\n    const initial = canvas[EXPANDO_KEY].initial;\r\n    ['height', 'width'].forEach((prop) => {\r\n      const value = initial[prop];\r\n      if (isNullOrUndef(value)) {\r\n        canvas.removeAttribute(prop);\r\n      } else {\r\n        canvas.setAttribute(prop, value);\r\n      }\r\n    });\r\n    const style = initial.style || {};\r\n    Object.keys(style).forEach((key) => {\r\n      canvas.style[key] = style[key];\r\n    });\r\n    canvas.width = canvas.width;\r\n    delete canvas[EXPANDO_KEY];\r\n    return true;\r\n  }\r\n  addEventListener(chart, type, listener) {\r\n    this.removeEventListener(chart, type);\r\n    const proxies = chart.$proxies || (chart.$proxies = {});\r\n    const handlers = {\r\n      attach: createAttachObserver,\r\n      detach: createDetachObserver,\r\n      resize: createResizeObserver\r\n    };\r\n    const handler = handlers[type] || createProxyAndListen;\r\n    proxies[type] = handler(chart, type, listener);\r\n  }\r\n  removeEventListener(chart, type) {\r\n    const proxies = chart.$proxies || (chart.$proxies = {});\r\n    const proxy = proxies[type];\r\n    if (!proxy) {\r\n      return;\r\n    }\r\n    const handlers = {\r\n      attach: releaseObserver,\r\n      detach: releaseObserver,\r\n      resize: releaseObserver\r\n    };\r\n    const handler = handlers[type] || removeListener;\r\n    handler(chart, type, proxy);\r\n    proxies[type] = undefined;\r\n  }\r\n  getDevicePixelRatio() {\r\n    return window.devicePixelRatio;\r\n  }\r\n  getMaximumSize(canvas, width, height, aspectRatio) {\r\n    return getMaximumSize(canvas, width, height, aspectRatio);\r\n  }\r\n  isAttached(canvas) {\r\n    const container = _getParentNode(canvas);\r\n    return !!(container && container.isConnected);\r\n  }\r\n}\r\n\r\nfunction _detectPlatform(canvas) {\r\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\r\n    return BasicPlatform;\r\n  }\r\n  return DomPlatform;\r\n}\r\n\r\nclass Element {\r\n  constructor() {\r\n    this.x = undefined;\r\n    this.y = undefined;\r\n    this.active = false;\r\n    this.options = undefined;\r\n    this.$animations = undefined;\r\n  }\r\n  tooltipPosition(useFinalPosition) {\r\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\r\n    return {x, y};\r\n  }\r\n  hasValue() {\r\n    return isNumber(this.x) && isNumber(this.y);\r\n  }\r\n  getProps(props, final) {\r\n    const anims = this.$animations;\r\n    if (!final || !anims) {\r\n      return this;\r\n    }\r\n    const ret = {};\r\n    props.forEach(prop => {\r\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\r\n    });\r\n    return ret;\r\n  }\r\n}\r\nElement.defaults = {};\r\nElement.defaultRoutes = undefined;\r\n\r\nconst formatters = {\r\n  values(value) {\r\n    return isArray(value) ? value : '' + value;\r\n  },\r\n  numeric(tickValue, index, ticks) {\r\n    if (tickValue === 0) {\r\n      return '0';\r\n    }\r\n    const locale = this.chart.options.locale;\r\n    let notation;\r\n    let delta = tickValue;\r\n    if (ticks.length > 1) {\r\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\r\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\r\n        notation = 'scientific';\r\n      }\r\n      delta = calculateDelta(tickValue, ticks);\r\n    }\r\n    const logDelta = log10(Math.abs(delta));\r\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\r\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\r\n    Object.assign(options, this.options.ticks.format);\r\n    return formatNumber(tickValue, locale, options);\r\n  },\r\n  logarithmic(tickValue, index, ticks) {\r\n    if (tickValue === 0) {\r\n      return '0';\r\n    }\r\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\r\n    if (remain === 1 || remain === 2 || remain === 5) {\r\n      return formatters.numeric.call(this, tickValue, index, ticks);\r\n    }\r\n    return '';\r\n  }\r\n};\r\nfunction calculateDelta(tickValue, ticks) {\r\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\r\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\r\n    delta = tickValue - Math.floor(tickValue);\r\n  }\r\n  return delta;\r\n}\r\nvar Ticks = {formatters};\r\n\r\ndefaults.set('scale', {\r\n  display: true,\r\n  offset: false,\r\n  reverse: false,\r\n  beginAtZero: false,\r\n  bounds: 'ticks',\r\n  grace: 0,\r\n  grid: {\r\n    display: true,\r\n    lineWidth: 1,\r\n    drawBorder: true,\r\n    drawOnChartArea: true,\r\n    drawTicks: true,\r\n    tickLength: 8,\r\n    tickWidth: (_ctx, options) => options.lineWidth,\r\n    tickColor: (_ctx, options) => options.color,\r\n    offset: false,\r\n    borderDash: [],\r\n    borderDashOffset: 0.0,\r\n    borderWidth: 1\r\n  },\r\n  title: {\r\n    display: false,\r\n    text: '',\r\n    padding: {\r\n      top: 4,\r\n      bottom: 4\r\n    }\r\n  },\r\n  ticks: {\r\n    minRotation: 0,\r\n    maxRotation: 50,\r\n    mirror: false,\r\n    textStrokeWidth: 0,\r\n    textStrokeColor: '',\r\n    padding: 3,\r\n    display: true,\r\n    autoSkip: true,\r\n    autoSkipPadding: 3,\r\n    labelOffset: 0,\r\n    callback: Ticks.formatters.values,\r\n    minor: {},\r\n    major: {},\r\n    align: 'center',\r\n    crossAlign: 'near',\r\n    showLabelBackdrop: false,\r\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\r\n    backdropPadding: 2,\r\n  }\r\n});\r\ndefaults.route('scale.ticks', 'color', '', 'color');\r\ndefaults.route('scale.grid', 'color', '', 'borderColor');\r\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\r\ndefaults.route('scale.title', 'color', '', 'color');\r\ndefaults.describe('scale', {\r\n  _fallback: false,\r\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\r\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\r\n});\r\ndefaults.describe('scales', {\r\n  _fallback: 'scale',\r\n});\r\ndefaults.describe('scale.ticks', {\r\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\r\n  _indexable: (name) => name !== 'backdropPadding',\r\n});\r\n\r\nfunction autoSkip(scale, ticks) {\r\n  const tickOpts = scale.options.ticks;\r\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\r\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\r\n  const numMajorIndices = majorIndices.length;\r\n  const first = majorIndices[0];\r\n  const last = majorIndices[numMajorIndices - 1];\r\n  const newTicks = [];\r\n  if (numMajorIndices > ticksLimit) {\r\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\r\n    return newTicks;\r\n  }\r\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\r\n  if (numMajorIndices > 0) {\r\n    let i, ilen;\r\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\r\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\r\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\r\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\r\n    }\r\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\r\n    return newTicks;\r\n  }\r\n  skip(ticks, newTicks, spacing);\r\n  return newTicks;\r\n}\r\nfunction determineMaxTicks(scale) {\r\n  const offset = scale.options.offset;\r\n  const tickLength = scale._tickSize();\r\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\r\n  const maxChart = scale._maxLength / tickLength;\r\n  return Math.floor(Math.min(maxScale, maxChart));\r\n}\r\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\r\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\r\n  const spacing = ticks.length / ticksLimit;\r\n  if (!evenMajorSpacing) {\r\n    return Math.max(spacing, 1);\r\n  }\r\n  const factors = _factorize(evenMajorSpacing);\r\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\r\n    const factor = factors[i];\r\n    if (factor > spacing) {\r\n      return factor;\r\n    }\r\n  }\r\n  return Math.max(spacing, 1);\r\n}\r\nfunction getMajorIndices(ticks) {\r\n  const result = [];\r\n  let i, ilen;\r\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\r\n    if (ticks[i].major) {\r\n      result.push(i);\r\n    }\r\n  }\r\n  return result;\r\n}\r\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\r\n  let count = 0;\r\n  let next = majorIndices[0];\r\n  let i;\r\n  spacing = Math.ceil(spacing);\r\n  for (i = 0; i < ticks.length; i++) {\r\n    if (i === next) {\r\n      newTicks.push(ticks[i]);\r\n      count++;\r\n      next = majorIndices[count * spacing];\r\n    }\r\n  }\r\n}\r\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\r\n  const start = valueOrDefault(majorStart, 0);\r\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\r\n  let count = 0;\r\n  let length, i, next;\r\n  spacing = Math.ceil(spacing);\r\n  if (majorEnd) {\r\n    length = majorEnd - majorStart;\r\n    spacing = length / Math.floor(length / spacing);\r\n  }\r\n  next = start;\r\n  while (next < 0) {\r\n    count++;\r\n    next = Math.round(start + count * spacing);\r\n  }\r\n  for (i = Math.max(start, 0); i < end; i++) {\r\n    if (i === next) {\r\n      newTicks.push(ticks[i]);\r\n      count++;\r\n      next = Math.round(start + count * spacing);\r\n    }\r\n  }\r\n}\r\nfunction getEvenSpacing(arr) {\r\n  const len = arr.length;\r\n  let i, diff;\r\n  if (len < 2) {\r\n    return false;\r\n  }\r\n  for (diff = arr[0], i = 1; i < len; ++i) {\r\n    if (arr[i] - arr[i - 1] !== diff) {\r\n      return false;\r\n    }\r\n  }\r\n  return diff;\r\n}\r\n\r\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\r\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\r\nfunction sample(arr, numItems) {\r\n  const result = [];\r\n  const increment = arr.length / numItems;\r\n  const len = arr.length;\r\n  let i = 0;\r\n  for (; i < len; i += increment) {\r\n    result.push(arr[Math.floor(i)]);\r\n  }\r\n  return result;\r\n}\r\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\r\n  const length = scale.ticks.length;\r\n  const validIndex = Math.min(index, length - 1);\r\n  const start = scale._startPixel;\r\n  const end = scale._endPixel;\r\n  const epsilon = 1e-6;\r\n  let lineValue = scale.getPixelForTick(validIndex);\r\n  let offset;\r\n  if (offsetGridLines) {\r\n    if (length === 1) {\r\n      offset = Math.max(lineValue - start, end - lineValue);\r\n    } else if (index === 0) {\r\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\r\n    } else {\r\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\r\n    }\r\n    lineValue += validIndex < index ? offset : -offset;\r\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\r\n      return;\r\n    }\r\n  }\r\n  return lineValue;\r\n}\r\nfunction garbageCollect(caches, length) {\r\n  each(caches, (cache) => {\r\n    const gc = cache.gc;\r\n    const gcLen = gc.length / 2;\r\n    let i;\r\n    if (gcLen > length) {\r\n      for (i = 0; i < gcLen; ++i) {\r\n        delete cache.data[gc[i]];\r\n      }\r\n      gc.splice(0, gcLen);\r\n    }\r\n  });\r\n}\r\nfunction getTickMarkLength(options) {\r\n  return options.drawTicks ? options.tickLength : 0;\r\n}\r\nfunction getTitleHeight(options, fallback) {\r\n  if (!options.display) {\r\n    return 0;\r\n  }\r\n  const font = toFont(options.font, fallback);\r\n  const padding = toPadding(options.padding);\r\n  const lines = isArray(options.text) ? options.text.length : 1;\r\n  return (lines * font.lineHeight) + padding.height;\r\n}\r\nfunction createScaleContext(parent, scale) {\r\n  return createContext(parent, {\r\n    scale,\r\n    type: 'scale'\r\n  });\r\n}\r\nfunction createTickContext(parent, index, tick) {\r\n  return createContext(parent, {\r\n    tick,\r\n    index,\r\n    type: 'tick'\r\n  });\r\n}\r\nfunction titleAlign(align, position, reverse) {\r\n  let ret = _toLeftRightCenter(align);\r\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\r\n    ret = reverseAlign(ret);\r\n  }\r\n  return ret;\r\n}\r\nfunction titleArgs(scale, offset, position, align) {\r\n  const {top, left, bottom, right, chart} = scale;\r\n  const {chartArea, scales} = chart;\r\n  let rotation = 0;\r\n  let maxWidth, titleX, titleY;\r\n  const height = bottom - top;\r\n  const width = right - left;\r\n  if (scale.isHorizontal()) {\r\n    titleX = _alignStartEnd(align, left, right);\r\n    if (isObject(position)) {\r\n      const positionAxisID = Object.keys(position)[0];\r\n      const value = position[positionAxisID];\r\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\r\n    } else if (position === 'center') {\r\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\r\n    } else {\r\n      titleY = offsetFromEdge(scale, position, offset);\r\n    }\r\n    maxWidth = right - left;\r\n  } else {\r\n    if (isObject(position)) {\r\n      const positionAxisID = Object.keys(position)[0];\r\n      const value = position[positionAxisID];\r\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\r\n    } else if (position === 'center') {\r\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\r\n    } else {\r\n      titleX = offsetFromEdge(scale, position, offset);\r\n    }\r\n    titleY = _alignStartEnd(align, bottom, top);\r\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\r\n  }\r\n  return {titleX, titleY, maxWidth, rotation};\r\n}\r\nclass Scale extends Element {\r\n  constructor(cfg) {\r\n    super();\r\n    this.id = cfg.id;\r\n    this.type = cfg.type;\r\n    this.options = undefined;\r\n    this.ctx = cfg.ctx;\r\n    this.chart = cfg.chart;\r\n    this.top = undefined;\r\n    this.bottom = undefined;\r\n    this.left = undefined;\r\n    this.right = undefined;\r\n    this.width = undefined;\r\n    this.height = undefined;\r\n    this._margins = {\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: 0\r\n    };\r\n    this.maxWidth = undefined;\r\n    this.maxHeight = undefined;\r\n    this.paddingTop = undefined;\r\n    this.paddingBottom = undefined;\r\n    this.paddingLeft = undefined;\r\n    this.paddingRight = undefined;\r\n    this.axis = undefined;\r\n    this.labelRotation = undefined;\r\n    this.min = undefined;\r\n    this.max = undefined;\r\n    this._range = undefined;\r\n    this.ticks = [];\r\n    this._gridLineItems = null;\r\n    this._labelItems = null;\r\n    this._labelSizes = null;\r\n    this._length = 0;\r\n    this._maxLength = 0;\r\n    this._longestTextCache = {};\r\n    this._startPixel = undefined;\r\n    this._endPixel = undefined;\r\n    this._reversePixels = false;\r\n    this._userMax = undefined;\r\n    this._userMin = undefined;\r\n    this._suggestedMax = undefined;\r\n    this._suggestedMin = undefined;\r\n    this._ticksLength = 0;\r\n    this._borderValue = 0;\r\n    this._cache = {};\r\n    this._dataLimitsCached = false;\r\n    this.$context = undefined;\r\n  }\r\n  init(options) {\r\n    this.options = options.setContext(this.getContext());\r\n    this.axis = options.axis;\r\n    this._userMin = this.parse(options.min);\r\n    this._userMax = this.parse(options.max);\r\n    this._suggestedMin = this.parse(options.suggestedMin);\r\n    this._suggestedMax = this.parse(options.suggestedMax);\r\n  }\r\n  parse(raw, index) {\r\n    return raw;\r\n  }\r\n  getUserBounds() {\r\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\r\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\r\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\r\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\r\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\r\n    return {\r\n      min: finiteOrDefault(_userMin, _suggestedMin),\r\n      max: finiteOrDefault(_userMax, _suggestedMax),\r\n      minDefined: isNumberFinite(_userMin),\r\n      maxDefined: isNumberFinite(_userMax)\r\n    };\r\n  }\r\n  getMinMax(canStack) {\r\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\r\n    let range;\r\n    if (minDefined && maxDefined) {\r\n      return {min, max};\r\n    }\r\n    const metas = this.getMatchingVisibleMetas();\r\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\r\n      range = metas[i].controller.getMinMax(this, canStack);\r\n      if (!minDefined) {\r\n        min = Math.min(min, range.min);\r\n      }\r\n      if (!maxDefined) {\r\n        max = Math.max(max, range.max);\r\n      }\r\n    }\r\n    min = maxDefined && min > max ? max : min;\r\n    max = minDefined && min > max ? min : max;\r\n    return {\r\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\r\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\r\n    };\r\n  }\r\n  getPadding() {\r\n    return {\r\n      left: this.paddingLeft || 0,\r\n      top: this.paddingTop || 0,\r\n      right: this.paddingRight || 0,\r\n      bottom: this.paddingBottom || 0\r\n    };\r\n  }\r\n  getTicks() {\r\n    return this.ticks;\r\n  }\r\n  getLabels() {\r\n    const data = this.chart.data;\r\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\r\n  }\r\n  beforeLayout() {\r\n    this._cache = {};\r\n    this._dataLimitsCached = false;\r\n  }\r\n  beforeUpdate() {\r\n    callback(this.options.beforeUpdate, [this]);\r\n  }\r\n  update(maxWidth, maxHeight, margins) {\r\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\r\n    const sampleSize = tickOpts.sampleSize;\r\n    this.beforeUpdate();\r\n    this.maxWidth = maxWidth;\r\n    this.maxHeight = maxHeight;\r\n    this._margins = margins = Object.assign({\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: 0\r\n    }, margins);\r\n    this.ticks = null;\r\n    this._labelSizes = null;\r\n    this._gridLineItems = null;\r\n    this._labelItems = null;\r\n    this.beforeSetDimensions();\r\n    this.setDimensions();\r\n    this.afterSetDimensions();\r\n    this._maxLength = this.isHorizontal()\r\n      ? this.width + margins.left + margins.right\r\n      : this.height + margins.top + margins.bottom;\r\n    if (!this._dataLimitsCached) {\r\n      this.beforeDataLimits();\r\n      this.determineDataLimits();\r\n      this.afterDataLimits();\r\n      this._range = _addGrace(this, grace, beginAtZero);\r\n      this._dataLimitsCached = true;\r\n    }\r\n    this.beforeBuildTicks();\r\n    this.ticks = this.buildTicks() || [];\r\n    this.afterBuildTicks();\r\n    const samplingEnabled = sampleSize < this.ticks.length;\r\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\r\n    this.configure();\r\n    this.beforeCalculateLabelRotation();\r\n    this.calculateLabelRotation();\r\n    this.afterCalculateLabelRotation();\r\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\r\n      this.ticks = autoSkip(this, this.ticks);\r\n      this._labelSizes = null;\r\n    }\r\n    if (samplingEnabled) {\r\n      this._convertTicksToLabels(this.ticks);\r\n    }\r\n    this.beforeFit();\r\n    this.fit();\r\n    this.afterFit();\r\n    this.afterUpdate();\r\n  }\r\n  configure() {\r\n    let reversePixels = this.options.reverse;\r\n    let startPixel, endPixel;\r\n    if (this.isHorizontal()) {\r\n      startPixel = this.left;\r\n      endPixel = this.right;\r\n    } else {\r\n      startPixel = this.top;\r\n      endPixel = this.bottom;\r\n      reversePixels = !reversePixels;\r\n    }\r\n    this._startPixel = startPixel;\r\n    this._endPixel = endPixel;\r\n    this._reversePixels = reversePixels;\r\n    this._length = endPixel - startPixel;\r\n    this._alignToPixels = this.options.alignToPixels;\r\n  }\r\n  afterUpdate() {\r\n    callback(this.options.afterUpdate, [this]);\r\n  }\r\n  beforeSetDimensions() {\r\n    callback(this.options.beforeSetDimensions, [this]);\r\n  }\r\n  setDimensions() {\r\n    if (this.isHorizontal()) {\r\n      this.width = this.maxWidth;\r\n      this.left = 0;\r\n      this.right = this.width;\r\n    } else {\r\n      this.height = this.maxHeight;\r\n      this.top = 0;\r\n      this.bottom = this.height;\r\n    }\r\n    this.paddingLeft = 0;\r\n    this.paddingTop = 0;\r\n    this.paddingRight = 0;\r\n    this.paddingBottom = 0;\r\n  }\r\n  afterSetDimensions() {\r\n    callback(this.options.afterSetDimensions, [this]);\r\n  }\r\n  _callHooks(name) {\r\n    this.chart.notifyPlugins(name, this.getContext());\r\n    callback(this.options[name], [this]);\r\n  }\r\n  beforeDataLimits() {\r\n    this._callHooks('beforeDataLimits');\r\n  }\r\n  determineDataLimits() {}\r\n  afterDataLimits() {\r\n    this._callHooks('afterDataLimits');\r\n  }\r\n  beforeBuildTicks() {\r\n    this._callHooks('beforeBuildTicks');\r\n  }\r\n  buildTicks() {\r\n    return [];\r\n  }\r\n  afterBuildTicks() {\r\n    this._callHooks('afterBuildTicks');\r\n  }\r\n  beforeTickToLabelConversion() {\r\n    callback(this.options.beforeTickToLabelConversion, [this]);\r\n  }\r\n  generateTickLabels(ticks) {\r\n    const tickOpts = this.options.ticks;\r\n    let i, ilen, tick;\r\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\r\n      tick = ticks[i];\r\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\r\n    }\r\n  }\r\n  afterTickToLabelConversion() {\r\n    callback(this.options.afterTickToLabelConversion, [this]);\r\n  }\r\n  beforeCalculateLabelRotation() {\r\n    callback(this.options.beforeCalculateLabelRotation, [this]);\r\n  }\r\n  calculateLabelRotation() {\r\n    const options = this.options;\r\n    const tickOpts = options.ticks;\r\n    const numTicks = this.ticks.length;\r\n    const minRotation = tickOpts.minRotation || 0;\r\n    const maxRotation = tickOpts.maxRotation;\r\n    let labelRotation = minRotation;\r\n    let tickWidth, maxHeight, maxLabelDiagonal;\r\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\r\n      this.labelRotation = minRotation;\r\n      return;\r\n    }\r\n    const labelSizes = this._getLabelSizes();\r\n    const maxLabelWidth = labelSizes.widest.width;\r\n    const maxLabelHeight = labelSizes.highest.height;\r\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\r\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\r\n    if (maxLabelWidth + 6 > tickWidth) {\r\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\r\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\r\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\r\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\r\n      labelRotation = toDegrees(Math.min(\r\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\r\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\r\n      ));\r\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\r\n    }\r\n    this.labelRotation = labelRotation;\r\n  }\r\n  afterCalculateLabelRotation() {\r\n    callback(this.options.afterCalculateLabelRotation, [this]);\r\n  }\r\n  beforeFit() {\r\n    callback(this.options.beforeFit, [this]);\r\n  }\r\n  fit() {\r\n    const minSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\r\n    const display = this._isVisible();\r\n    const isHorizontal = this.isHorizontal();\r\n    if (display) {\r\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\r\n      if (isHorizontal) {\r\n        minSize.width = this.maxWidth;\r\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\r\n      } else {\r\n        minSize.height = this.maxHeight;\r\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\r\n      }\r\n      if (tickOpts.display && this.ticks.length) {\r\n        const {first, last, widest, highest} = this._getLabelSizes();\r\n        const tickPadding = tickOpts.padding * 2;\r\n        const angleRadians = toRadians(this.labelRotation);\r\n        const cos = Math.cos(angleRadians);\r\n        const sin = Math.sin(angleRadians);\r\n        if (isHorizontal) {\r\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\r\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\r\n        } else {\r\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\r\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\r\n        }\r\n        this._calculatePadding(first, last, sin, cos);\r\n      }\r\n    }\r\n    this._handleMargins();\r\n    if (isHorizontal) {\r\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\r\n      this.height = minSize.height;\r\n    } else {\r\n      this.width = minSize.width;\r\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\r\n    }\r\n  }\r\n  _calculatePadding(first, last, sin, cos) {\r\n    const {ticks: {align, padding}, position} = this.options;\r\n    const isRotated = this.labelRotation !== 0;\r\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\r\n    if (this.isHorizontal()) {\r\n      const offsetLeft = this.getPixelForTick(0) - this.left;\r\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\r\n      let paddingLeft = 0;\r\n      let paddingRight = 0;\r\n      if (isRotated) {\r\n        if (labelsBelowTicks) {\r\n          paddingLeft = cos * first.width;\r\n          paddingRight = sin * last.height;\r\n        } else {\r\n          paddingLeft = sin * first.height;\r\n          paddingRight = cos * last.width;\r\n        }\r\n      } else if (align === 'start') {\r\n        paddingRight = last.width;\r\n      } else if (align === 'end') {\r\n        paddingLeft = first.width;\r\n      } else {\r\n        paddingLeft = first.width / 2;\r\n        paddingRight = last.width / 2;\r\n      }\r\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\r\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\r\n    } else {\r\n      let paddingTop = last.height / 2;\r\n      let paddingBottom = first.height / 2;\r\n      if (align === 'start') {\r\n        paddingTop = 0;\r\n        paddingBottom = first.height;\r\n      } else if (align === 'end') {\r\n        paddingTop = last.height;\r\n        paddingBottom = 0;\r\n      }\r\n      this.paddingTop = paddingTop + padding;\r\n      this.paddingBottom = paddingBottom + padding;\r\n    }\r\n  }\r\n  _handleMargins() {\r\n    if (this._margins) {\r\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\r\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\r\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\r\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\r\n    }\r\n  }\r\n  afterFit() {\r\n    callback(this.options.afterFit, [this]);\r\n  }\r\n  isHorizontal() {\r\n    const {axis, position} = this.options;\r\n    return position === 'top' || position === 'bottom' || axis === 'x';\r\n  }\r\n  isFullSize() {\r\n    return this.options.fullSize;\r\n  }\r\n  _convertTicksToLabels(ticks) {\r\n    this.beforeTickToLabelConversion();\r\n    this.generateTickLabels(ticks);\r\n    let i, ilen;\r\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\r\n      if (isNullOrUndef(ticks[i].label)) {\r\n        ticks.splice(i, 1);\r\n        ilen--;\r\n        i--;\r\n      }\r\n    }\r\n    this.afterTickToLabelConversion();\r\n  }\r\n  _getLabelSizes() {\r\n    let labelSizes = this._labelSizes;\r\n    if (!labelSizes) {\r\n      const sampleSize = this.options.ticks.sampleSize;\r\n      let ticks = this.ticks;\r\n      if (sampleSize < ticks.length) {\r\n        ticks = sample(ticks, sampleSize);\r\n      }\r\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\r\n    }\r\n    return labelSizes;\r\n  }\r\n  _computeLabelSizes(ticks, length) {\r\n    const {ctx, _longestTextCache: caches} = this;\r\n    const widths = [];\r\n    const heights = [];\r\n    let widestLabelSize = 0;\r\n    let highestLabelSize = 0;\r\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\r\n    for (i = 0; i < length; ++i) {\r\n      label = ticks[i].label;\r\n      tickFont = this._resolveTickFontOptions(i);\r\n      ctx.font = fontString = tickFont.string;\r\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\r\n      lineHeight = tickFont.lineHeight;\r\n      width = height = 0;\r\n      if (!isNullOrUndef(label) && !isArray(label)) {\r\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\r\n        height = lineHeight;\r\n      } else if (isArray(label)) {\r\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\r\n          nestedLabel = label[j];\r\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\r\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\r\n            height += lineHeight;\r\n          }\r\n        }\r\n      }\r\n      widths.push(width);\r\n      heights.push(height);\r\n      widestLabelSize = Math.max(width, widestLabelSize);\r\n      highestLabelSize = Math.max(height, highestLabelSize);\r\n    }\r\n    garbageCollect(caches, length);\r\n    const widest = widths.indexOf(widestLabelSize);\r\n    const highest = heights.indexOf(highestLabelSize);\r\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\r\n    return {\r\n      first: valueAt(0),\r\n      last: valueAt(length - 1),\r\n      widest: valueAt(widest),\r\n      highest: valueAt(highest),\r\n      widths,\r\n      heights,\r\n    };\r\n  }\r\n  getLabelForValue(value) {\r\n    return value;\r\n  }\r\n  getPixelForValue(value, index) {\r\n    return NaN;\r\n  }\r\n  getValueForPixel(pixel) {}\r\n  getPixelForTick(index) {\r\n    const ticks = this.ticks;\r\n    if (index < 0 || index > ticks.length - 1) {\r\n      return null;\r\n    }\r\n    return this.getPixelForValue(ticks[index].value);\r\n  }\r\n  getPixelForDecimal(decimal) {\r\n    if (this._reversePixels) {\r\n      decimal = 1 - decimal;\r\n    }\r\n    const pixel = this._startPixel + decimal * this._length;\r\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\r\n  }\r\n  getDecimalForPixel(pixel) {\r\n    const decimal = (pixel - this._startPixel) / this._length;\r\n    return this._reversePixels ? 1 - decimal : decimal;\r\n  }\r\n  getBasePixel() {\r\n    return this.getPixelForValue(this.getBaseValue());\r\n  }\r\n  getBaseValue() {\r\n    const {min, max} = this;\r\n    return min < 0 && max < 0 ? max :\r\n      min > 0 && max > 0 ? min :\r\n      0;\r\n  }\r\n  getContext(index) {\r\n    const ticks = this.ticks || [];\r\n    if (index >= 0 && index < ticks.length) {\r\n      const tick = ticks[index];\r\n      return tick.$context ||\r\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\r\n    }\r\n    return this.$context ||\r\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\r\n  }\r\n  _tickSize() {\r\n    const optionTicks = this.options.ticks;\r\n    const rot = toRadians(this.labelRotation);\r\n    const cos = Math.abs(Math.cos(rot));\r\n    const sin = Math.abs(Math.sin(rot));\r\n    const labelSizes = this._getLabelSizes();\r\n    const padding = optionTicks.autoSkipPadding || 0;\r\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\r\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\r\n    return this.isHorizontal()\r\n      ? h * cos > w * sin ? w / cos : h / sin\r\n      : h * sin < w * cos ? h / cos : w / sin;\r\n  }\r\n  _isVisible() {\r\n    const display = this.options.display;\r\n    if (display !== 'auto') {\r\n      return !!display;\r\n    }\r\n    return this.getMatchingVisibleMetas().length > 0;\r\n  }\r\n  _computeGridLineItems(chartArea) {\r\n    const axis = this.axis;\r\n    const chart = this.chart;\r\n    const options = this.options;\r\n    const {grid, position} = options;\r\n    const offset = grid.offset;\r\n    const isHorizontal = this.isHorizontal();\r\n    const ticks = this.ticks;\r\n    const ticksLength = ticks.length + (offset ? 1 : 0);\r\n    const tl = getTickMarkLength(grid);\r\n    const items = [];\r\n    const borderOpts = grid.setContext(this.getContext());\r\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\r\n    const axisHalfWidth = axisWidth / 2;\r\n    const alignBorderValue = function(pixel) {\r\n      return _alignPixel(chart, pixel, axisWidth);\r\n    };\r\n    let borderValue, i, lineValue, alignedLineValue;\r\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\r\n    if (position === 'top') {\r\n      borderValue = alignBorderValue(this.bottom);\r\n      ty1 = this.bottom - tl;\r\n      ty2 = borderValue - axisHalfWidth;\r\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\r\n      y2 = chartArea.bottom;\r\n    } else if (position === 'bottom') {\r\n      borderValue = alignBorderValue(this.top);\r\n      y1 = chartArea.top;\r\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\r\n      ty1 = borderValue + axisHalfWidth;\r\n      ty2 = this.top + tl;\r\n    } else if (position === 'left') {\r\n      borderValue = alignBorderValue(this.right);\r\n      tx1 = this.right - tl;\r\n      tx2 = borderValue - axisHalfWidth;\r\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\r\n      x2 = chartArea.right;\r\n    } else if (position === 'right') {\r\n      borderValue = alignBorderValue(this.left);\r\n      x1 = chartArea.left;\r\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\r\n      tx1 = borderValue + axisHalfWidth;\r\n      tx2 = this.left + tl;\r\n    } else if (axis === 'x') {\r\n      if (position === 'center') {\r\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\r\n      } else if (isObject(position)) {\r\n        const positionAxisID = Object.keys(position)[0];\r\n        const value = position[positionAxisID];\r\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\r\n      }\r\n      y1 = chartArea.top;\r\n      y2 = chartArea.bottom;\r\n      ty1 = borderValue + axisHalfWidth;\r\n      ty2 = ty1 + tl;\r\n    } else if (axis === 'y') {\r\n      if (position === 'center') {\r\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\r\n      } else if (isObject(position)) {\r\n        const positionAxisID = Object.keys(position)[0];\r\n        const value = position[positionAxisID];\r\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\r\n      }\r\n      tx1 = borderValue - axisHalfWidth;\r\n      tx2 = tx1 - tl;\r\n      x1 = chartArea.left;\r\n      x2 = chartArea.right;\r\n    }\r\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\r\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\r\n    for (i = 0; i < ticksLength; i += step) {\r\n      const optsAtIndex = grid.setContext(this.getContext(i));\r\n      const lineWidth = optsAtIndex.lineWidth;\r\n      const lineColor = optsAtIndex.color;\r\n      const borderDash = grid.borderDash || [];\r\n      const borderDashOffset = optsAtIndex.borderDashOffset;\r\n      const tickWidth = optsAtIndex.tickWidth;\r\n      const tickColor = optsAtIndex.tickColor;\r\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\r\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\r\n      lineValue = getPixelForGridLine(this, i, offset);\r\n      if (lineValue === undefined) {\r\n        continue;\r\n      }\r\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\r\n      if (isHorizontal) {\r\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\r\n      } else {\r\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\r\n      }\r\n      items.push({\r\n        tx1,\r\n        ty1,\r\n        tx2,\r\n        ty2,\r\n        x1,\r\n        y1,\r\n        x2,\r\n        y2,\r\n        width: lineWidth,\r\n        color: lineColor,\r\n        borderDash,\r\n        borderDashOffset,\r\n        tickWidth,\r\n        tickColor,\r\n        tickBorderDash,\r\n        tickBorderDashOffset,\r\n      });\r\n    }\r\n    this._ticksLength = ticksLength;\r\n    this._borderValue = borderValue;\r\n    return items;\r\n  }\r\n  _computeLabelItems(chartArea) {\r\n    const axis = this.axis;\r\n    const options = this.options;\r\n    const {position, ticks: optionTicks} = options;\r\n    const isHorizontal = this.isHorizontal();\r\n    const ticks = this.ticks;\r\n    const {align, crossAlign, padding, mirror} = optionTicks;\r\n    const tl = getTickMarkLength(options.grid);\r\n    const tickAndPadding = tl + padding;\r\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\r\n    const rotation = -toRadians(this.labelRotation);\r\n    const items = [];\r\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\r\n    let textBaseline = 'middle';\r\n    if (position === 'top') {\r\n      y = this.bottom - hTickAndPadding;\r\n      textAlign = this._getXAxisLabelAlignment();\r\n    } else if (position === 'bottom') {\r\n      y = this.top + hTickAndPadding;\r\n      textAlign = this._getXAxisLabelAlignment();\r\n    } else if (position === 'left') {\r\n      const ret = this._getYAxisLabelAlignment(tl);\r\n      textAlign = ret.textAlign;\r\n      x = ret.x;\r\n    } else if (position === 'right') {\r\n      const ret = this._getYAxisLabelAlignment(tl);\r\n      textAlign = ret.textAlign;\r\n      x = ret.x;\r\n    } else if (axis === 'x') {\r\n      if (position === 'center') {\r\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\r\n      } else if (isObject(position)) {\r\n        const positionAxisID = Object.keys(position)[0];\r\n        const value = position[positionAxisID];\r\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\r\n      }\r\n      textAlign = this._getXAxisLabelAlignment();\r\n    } else if (axis === 'y') {\r\n      if (position === 'center') {\r\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\r\n      } else if (isObject(position)) {\r\n        const positionAxisID = Object.keys(position)[0];\r\n        const value = position[positionAxisID];\r\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\r\n      }\r\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\r\n    }\r\n    if (axis === 'y') {\r\n      if (align === 'start') {\r\n        textBaseline = 'top';\r\n      } else if (align === 'end') {\r\n        textBaseline = 'bottom';\r\n      }\r\n    }\r\n    const labelSizes = this._getLabelSizes();\r\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n      tick = ticks[i];\r\n      label = tick.label;\r\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\r\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\r\n      font = this._resolveTickFontOptions(i);\r\n      lineHeight = font.lineHeight;\r\n      lineCount = isArray(label) ? label.length : 1;\r\n      const halfCount = lineCount / 2;\r\n      const color = optsAtIndex.color;\r\n      const strokeColor = optsAtIndex.textStrokeColor;\r\n      const strokeWidth = optsAtIndex.textStrokeWidth;\r\n      if (isHorizontal) {\r\n        x = pixel;\r\n        if (position === 'top') {\r\n          if (crossAlign === 'near' || rotation !== 0) {\r\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\r\n          } else if (crossAlign === 'center') {\r\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\r\n          } else {\r\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\r\n          }\r\n        } else {\r\n          if (crossAlign === 'near' || rotation !== 0) {\r\n            textOffset = lineHeight / 2;\r\n          } else if (crossAlign === 'center') {\r\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\r\n          } else {\r\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\r\n          }\r\n        }\r\n        if (mirror) {\r\n          textOffset *= -1;\r\n        }\r\n      } else {\r\n        y = pixel;\r\n        textOffset = (1 - lineCount) * lineHeight / 2;\r\n      }\r\n      let backdrop;\r\n      if (optsAtIndex.showLabelBackdrop) {\r\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\r\n        const height = labelSizes.heights[i];\r\n        const width = labelSizes.widths[i];\r\n        let top = y + textOffset - labelPadding.top;\r\n        let left = x - labelPadding.left;\r\n        switch (textBaseline) {\r\n        case 'middle':\r\n          top -= height / 2;\r\n          break;\r\n        case 'bottom':\r\n          top -= height;\r\n          break;\r\n        }\r\n        switch (textAlign) {\r\n        case 'center':\r\n          left -= width / 2;\r\n          break;\r\n        case 'right':\r\n          left -= width;\r\n          break;\r\n        }\r\n        backdrop = {\r\n          left,\r\n          top,\r\n          width: width + labelPadding.width,\r\n          height: height + labelPadding.height,\r\n          color: optsAtIndex.backdropColor,\r\n        };\r\n      }\r\n      items.push({\r\n        rotation,\r\n        label,\r\n        font,\r\n        color,\r\n        strokeColor,\r\n        strokeWidth,\r\n        textOffset,\r\n        textAlign,\r\n        textBaseline,\r\n        translation: [x, y],\r\n        backdrop,\r\n      });\r\n    }\r\n    return items;\r\n  }\r\n  _getXAxisLabelAlignment() {\r\n    const {position, ticks} = this.options;\r\n    const rotation = -toRadians(this.labelRotation);\r\n    if (rotation) {\r\n      return position === 'top' ? 'left' : 'right';\r\n    }\r\n    let align = 'center';\r\n    if (ticks.align === 'start') {\r\n      align = 'left';\r\n    } else if (ticks.align === 'end') {\r\n      align = 'right';\r\n    }\r\n    return align;\r\n  }\r\n  _getYAxisLabelAlignment(tl) {\r\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\r\n    const labelSizes = this._getLabelSizes();\r\n    const tickAndPadding = tl + padding;\r\n    const widest = labelSizes.widest.width;\r\n    let textAlign;\r\n    let x;\r\n    if (position === 'left') {\r\n      if (mirror) {\r\n        x = this.right + padding;\r\n        if (crossAlign === 'near') {\r\n          textAlign = 'left';\r\n        } else if (crossAlign === 'center') {\r\n          textAlign = 'center';\r\n          x += (widest / 2);\r\n        } else {\r\n          textAlign = 'right';\r\n          x += widest;\r\n        }\r\n      } else {\r\n        x = this.right - tickAndPadding;\r\n        if (crossAlign === 'near') {\r\n          textAlign = 'right';\r\n        } else if (crossAlign === 'center') {\r\n          textAlign = 'center';\r\n          x -= (widest / 2);\r\n        } else {\r\n          textAlign = 'left';\r\n          x = this.left;\r\n        }\r\n      }\r\n    } else if (position === 'right') {\r\n      if (mirror) {\r\n        x = this.left + padding;\r\n        if (crossAlign === 'near') {\r\n          textAlign = 'right';\r\n        } else if (crossAlign === 'center') {\r\n          textAlign = 'center';\r\n          x -= (widest / 2);\r\n        } else {\r\n          textAlign = 'left';\r\n          x -= widest;\r\n        }\r\n      } else {\r\n        x = this.left + tickAndPadding;\r\n        if (crossAlign === 'near') {\r\n          textAlign = 'left';\r\n        } else if (crossAlign === 'center') {\r\n          textAlign = 'center';\r\n          x += widest / 2;\r\n        } else {\r\n          textAlign = 'right';\r\n          x = this.right;\r\n        }\r\n      }\r\n    } else {\r\n      textAlign = 'right';\r\n    }\r\n    return {textAlign, x};\r\n  }\r\n  _computeLabelArea() {\r\n    if (this.options.ticks.mirror) {\r\n      return;\r\n    }\r\n    const chart = this.chart;\r\n    const position = this.options.position;\r\n    if (position === 'left' || position === 'right') {\r\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\r\n    } if (position === 'top' || position === 'bottom') {\r\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\r\n    }\r\n  }\r\n  drawBackground() {\r\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\r\n    if (backgroundColor) {\r\n      ctx.save();\r\n      ctx.fillStyle = backgroundColor;\r\n      ctx.fillRect(left, top, width, height);\r\n      ctx.restore();\r\n    }\r\n  }\r\n  getLineWidthForValue(value) {\r\n    const grid = this.options.grid;\r\n    if (!this._isVisible() || !grid.display) {\r\n      return 0;\r\n    }\r\n    const ticks = this.ticks;\r\n    const index = ticks.findIndex(t => t.value === value);\r\n    if (index >= 0) {\r\n      const opts = grid.setContext(this.getContext(index));\r\n      return opts.lineWidth;\r\n    }\r\n    return 0;\r\n  }\r\n  drawGrid(chartArea) {\r\n    const grid = this.options.grid;\r\n    const ctx = this.ctx;\r\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\r\n    let i, ilen;\r\n    const drawLine = (p1, p2, style) => {\r\n      if (!style.width || !style.color) {\r\n        return;\r\n      }\r\n      ctx.save();\r\n      ctx.lineWidth = style.width;\r\n      ctx.strokeStyle = style.color;\r\n      ctx.setLineDash(style.borderDash || []);\r\n      ctx.lineDashOffset = style.borderDashOffset;\r\n      ctx.beginPath();\r\n      ctx.moveTo(p1.x, p1.y);\r\n      ctx.lineTo(p2.x, p2.y);\r\n      ctx.stroke();\r\n      ctx.restore();\r\n    };\r\n    if (grid.display) {\r\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\r\n        const item = items[i];\r\n        if (grid.drawOnChartArea) {\r\n          drawLine(\r\n            {x: item.x1, y: item.y1},\r\n            {x: item.x2, y: item.y2},\r\n            item\r\n          );\r\n        }\r\n        if (grid.drawTicks) {\r\n          drawLine(\r\n            {x: item.tx1, y: item.ty1},\r\n            {x: item.tx2, y: item.ty2},\r\n            {\r\n              color: item.tickColor,\r\n              width: item.tickWidth,\r\n              borderDash: item.tickBorderDash,\r\n              borderDashOffset: item.tickBorderDashOffset\r\n            }\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n  drawBorder() {\r\n    const {chart, ctx, options: {grid}} = this;\r\n    const borderOpts = grid.setContext(this.getContext());\r\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\r\n    if (!axisWidth) {\r\n      return;\r\n    }\r\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\r\n    const borderValue = this._borderValue;\r\n    let x1, x2, y1, y2;\r\n    if (this.isHorizontal()) {\r\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\r\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\r\n      y1 = y2 = borderValue;\r\n    } else {\r\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\r\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\r\n      x1 = x2 = borderValue;\r\n    }\r\n    ctx.save();\r\n    ctx.lineWidth = borderOpts.borderWidth;\r\n    ctx.strokeStyle = borderOpts.borderColor;\r\n    ctx.beginPath();\r\n    ctx.moveTo(x1, y1);\r\n    ctx.lineTo(x2, y2);\r\n    ctx.stroke();\r\n    ctx.restore();\r\n  }\r\n  drawLabels(chartArea) {\r\n    const optionTicks = this.options.ticks;\r\n    if (!optionTicks.display) {\r\n      return;\r\n    }\r\n    const ctx = this.ctx;\r\n    const area = this._computeLabelArea();\r\n    if (area) {\r\n      clipArea(ctx, area);\r\n    }\r\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\r\n    let i, ilen;\r\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\r\n      const item = items[i];\r\n      const tickFont = item.font;\r\n      const label = item.label;\r\n      if (item.backdrop) {\r\n        ctx.fillStyle = item.backdrop.color;\r\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\r\n      }\r\n      let y = item.textOffset;\r\n      renderText(ctx, label, 0, y, tickFont, item);\r\n    }\r\n    if (area) {\r\n      unclipArea(ctx);\r\n    }\r\n  }\r\n  drawTitle() {\r\n    const {ctx, options: {position, title, reverse}} = this;\r\n    if (!title.display) {\r\n      return;\r\n    }\r\n    const font = toFont(title.font);\r\n    const padding = toPadding(title.padding);\r\n    const align = title.align;\r\n    let offset = font.lineHeight / 2;\r\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\r\n      offset += padding.bottom;\r\n      if (isArray(title.text)) {\r\n        offset += font.lineHeight * (title.text.length - 1);\r\n      }\r\n    } else {\r\n      offset += padding.top;\r\n    }\r\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\r\n    renderText(ctx, title.text, 0, 0, font, {\r\n      color: title.color,\r\n      maxWidth,\r\n      rotation,\r\n      textAlign: titleAlign(align, position, reverse),\r\n      textBaseline: 'middle',\r\n      translation: [titleX, titleY],\r\n    });\r\n  }\r\n  draw(chartArea) {\r\n    if (!this._isVisible()) {\r\n      return;\r\n    }\r\n    this.drawBackground();\r\n    this.drawGrid(chartArea);\r\n    this.drawBorder();\r\n    this.drawTitle();\r\n    this.drawLabels(chartArea);\r\n  }\r\n  _layers() {\r\n    const opts = this.options;\r\n    const tz = opts.ticks && opts.ticks.z || 0;\r\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\r\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\r\n      return [{\r\n        z: tz,\r\n        draw: (chartArea) => {\r\n          this.draw(chartArea);\r\n        }\r\n      }];\r\n    }\r\n    return [{\r\n      z: gz,\r\n      draw: (chartArea) => {\r\n        this.drawBackground();\r\n        this.drawGrid(chartArea);\r\n        this.drawTitle();\r\n      }\r\n    }, {\r\n      z: gz + 1,\r\n      draw: () => {\r\n        this.drawBorder();\r\n      }\r\n    }, {\r\n      z: tz,\r\n      draw: (chartArea) => {\r\n        this.drawLabels(chartArea);\r\n      }\r\n    }];\r\n  }\r\n  getMatchingVisibleMetas(type) {\r\n    const metas = this.chart.getSortedVisibleDatasetMetas();\r\n    const axisID = this.axis + 'AxisID';\r\n    const result = [];\r\n    let i, ilen;\r\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\r\n      const meta = metas[i];\r\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\r\n        result.push(meta);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  _resolveTickFontOptions(index) {\r\n    const opts = this.options.ticks.setContext(this.getContext(index));\r\n    return toFont(opts.font);\r\n  }\r\n  _maxDigits() {\r\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\r\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\r\n  }\r\n}\r\n\r\nclass TypedRegistry {\r\n  constructor(type, scope, override) {\r\n    this.type = type;\r\n    this.scope = scope;\r\n    this.override = override;\r\n    this.items = Object.create(null);\r\n  }\r\n  isForType(type) {\r\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\r\n  }\r\n  register(item) {\r\n    const proto = Object.getPrototypeOf(item);\r\n    let parentScope;\r\n    if (isIChartComponent(proto)) {\r\n      parentScope = this.register(proto);\r\n    }\r\n    const items = this.items;\r\n    const id = item.id;\r\n    const scope = this.scope + '.' + id;\r\n    if (!id) {\r\n      throw new Error('class does not have id: ' + item);\r\n    }\r\n    if (id in items) {\r\n      return scope;\r\n    }\r\n    items[id] = item;\r\n    registerDefaults(item, scope, parentScope);\r\n    if (this.override) {\r\n      defaults.override(item.id, item.overrides);\r\n    }\r\n    return scope;\r\n  }\r\n  get(id) {\r\n    return this.items[id];\r\n  }\r\n  unregister(item) {\r\n    const items = this.items;\r\n    const id = item.id;\r\n    const scope = this.scope;\r\n    if (id in items) {\r\n      delete items[id];\r\n    }\r\n    if (scope && id in defaults[scope]) {\r\n      delete defaults[scope][id];\r\n      if (this.override) {\r\n        delete overrides[id];\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction registerDefaults(item, scope, parentScope) {\r\n  const itemDefaults = merge(Object.create(null), [\r\n    parentScope ? defaults.get(parentScope) : {},\r\n    defaults.get(scope),\r\n    item.defaults\r\n  ]);\r\n  defaults.set(scope, itemDefaults);\r\n  if (item.defaultRoutes) {\r\n    routeDefaults(scope, item.defaultRoutes);\r\n  }\r\n  if (item.descriptors) {\r\n    defaults.describe(scope, item.descriptors);\r\n  }\r\n}\r\nfunction routeDefaults(scope, routes) {\r\n  Object.keys(routes).forEach(property => {\r\n    const propertyParts = property.split('.');\r\n    const sourceName = propertyParts.pop();\r\n    const sourceScope = [scope].concat(propertyParts).join('.');\r\n    const parts = routes[property].split('.');\r\n    const targetName = parts.pop();\r\n    const targetScope = parts.join('.');\r\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\r\n  });\r\n}\r\nfunction isIChartComponent(proto) {\r\n  return 'id' in proto && 'defaults' in proto;\r\n}\r\n\r\nclass Registry {\r\n  constructor() {\r\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\r\n    this.elements = new TypedRegistry(Element, 'elements');\r\n    this.plugins = new TypedRegistry(Object, 'plugins');\r\n    this.scales = new TypedRegistry(Scale, 'scales');\r\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\r\n  }\r\n  add(...args) {\r\n    this._each('register', args);\r\n  }\r\n  remove(...args) {\r\n    this._each('unregister', args);\r\n  }\r\n  addControllers(...args) {\r\n    this._each('register', args, this.controllers);\r\n  }\r\n  addElements(...args) {\r\n    this._each('register', args, this.elements);\r\n  }\r\n  addPlugins(...args) {\r\n    this._each('register', args, this.plugins);\r\n  }\r\n  addScales(...args) {\r\n    this._each('register', args, this.scales);\r\n  }\r\n  getController(id) {\r\n    return this._get(id, this.controllers, 'controller');\r\n  }\r\n  getElement(id) {\r\n    return this._get(id, this.elements, 'element');\r\n  }\r\n  getPlugin(id) {\r\n    return this._get(id, this.plugins, 'plugin');\r\n  }\r\n  getScale(id) {\r\n    return this._get(id, this.scales, 'scale');\r\n  }\r\n  removeControllers(...args) {\r\n    this._each('unregister', args, this.controllers);\r\n  }\r\n  removeElements(...args) {\r\n    this._each('unregister', args, this.elements);\r\n  }\r\n  removePlugins(...args) {\r\n    this._each('unregister', args, this.plugins);\r\n  }\r\n  removeScales(...args) {\r\n    this._each('unregister', args, this.scales);\r\n  }\r\n  _each(method, args, typedRegistry) {\r\n    [...args].forEach(arg => {\r\n      const reg = typedRegistry || this._getRegistryForType(arg);\r\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\r\n        this._exec(method, reg, arg);\r\n      } else {\r\n        each(arg, item => {\r\n          const itemReg = typedRegistry || this._getRegistryForType(item);\r\n          this._exec(method, itemReg, item);\r\n        });\r\n      }\r\n    });\r\n  }\r\n  _exec(method, registry, component) {\r\n    const camelMethod = _capitalize(method);\r\n    callback(component['before' + camelMethod], [], component);\r\n    registry[method](component);\r\n    callback(component['after' + camelMethod], [], component);\r\n  }\r\n  _getRegistryForType(type) {\r\n    for (let i = 0; i < this._typedRegistries.length; i++) {\r\n      const reg = this._typedRegistries[i];\r\n      if (reg.isForType(type)) {\r\n        return reg;\r\n      }\r\n    }\r\n    return this.plugins;\r\n  }\r\n  _get(id, typedRegistry, type) {\r\n    const item = typedRegistry.get(id);\r\n    if (item === undefined) {\r\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\r\n    }\r\n    return item;\r\n  }\r\n}\r\nvar registry = new Registry();\r\n\r\nclass PluginService {\r\n  constructor() {\r\n    this._init = [];\r\n  }\r\n  notify(chart, hook, args, filter) {\r\n    if (hook === 'beforeInit') {\r\n      this._init = this._createDescriptors(chart, true);\r\n      this._notify(this._init, chart, 'install');\r\n    }\r\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\r\n    const result = this._notify(descriptors, chart, hook, args);\r\n    if (hook === 'afterDestroy') {\r\n      this._notify(descriptors, chart, 'stop');\r\n      this._notify(this._init, chart, 'uninstall');\r\n    }\r\n    return result;\r\n  }\r\n  _notify(descriptors, chart, hook, args) {\r\n    args = args || {};\r\n    for (const descriptor of descriptors) {\r\n      const plugin = descriptor.plugin;\r\n      const method = plugin[hook];\r\n      const params = [chart, args, descriptor.options];\r\n      if (callback(method, params, plugin) === false && args.cancelable) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  invalidate() {\r\n    if (!isNullOrUndef(this._cache)) {\r\n      this._oldCache = this._cache;\r\n      this._cache = undefined;\r\n    }\r\n  }\r\n  _descriptors(chart) {\r\n    if (this._cache) {\r\n      return this._cache;\r\n    }\r\n    const descriptors = this._cache = this._createDescriptors(chart);\r\n    this._notifyStateChanges(chart);\r\n    return descriptors;\r\n  }\r\n  _createDescriptors(chart, all) {\r\n    const config = chart && chart.config;\r\n    const options = valueOrDefault(config.options && config.options.plugins, {});\r\n    const plugins = allPlugins(config);\r\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\r\n  }\r\n  _notifyStateChanges(chart) {\r\n    const previousDescriptors = this._oldCache || [];\r\n    const descriptors = this._cache;\r\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\r\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\r\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\r\n  }\r\n}\r\nfunction allPlugins(config) {\r\n  const plugins = [];\r\n  const keys = Object.keys(registry.plugins.items);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    plugins.push(registry.getPlugin(keys[i]));\r\n  }\r\n  const local = config.plugins || [];\r\n  for (let i = 0; i < local.length; i++) {\r\n    const plugin = local[i];\r\n    if (plugins.indexOf(plugin) === -1) {\r\n      plugins.push(plugin);\r\n    }\r\n  }\r\n  return plugins;\r\n}\r\nfunction getOpts(options, all) {\r\n  if (!all && options === false) {\r\n    return null;\r\n  }\r\n  if (options === true) {\r\n    return {};\r\n  }\r\n  return options;\r\n}\r\nfunction createDescriptors(chart, plugins, options, all) {\r\n  const result = [];\r\n  const context = chart.getContext();\r\n  for (let i = 0; i < plugins.length; i++) {\r\n    const plugin = plugins[i];\r\n    const id = plugin.id;\r\n    const opts = getOpts(options[id], all);\r\n    if (opts === null) {\r\n      continue;\r\n    }\r\n    result.push({\r\n      plugin,\r\n      options: pluginOpts(chart.config, plugin, opts, context)\r\n    });\r\n  }\r\n  return result;\r\n}\r\nfunction pluginOpts(config, plugin, opts, context) {\r\n  const keys = config.pluginScopeKeys(plugin);\r\n  const scopes = config.getOptionScopes(opts, keys);\r\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\r\n}\r\n\r\nfunction getIndexAxis(type, options) {\r\n  const datasetDefaults = defaults.datasets[type] || {};\r\n  const datasetOptions = (options.datasets || {})[type] || {};\r\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\r\n}\r\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\r\n  let axis = id;\r\n  if (id === '_index_') {\r\n    axis = indexAxis;\r\n  } else if (id === '_value_') {\r\n    axis = indexAxis === 'x' ? 'y' : 'x';\r\n  }\r\n  return axis;\r\n}\r\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\r\n  return axis === indexAxis ? '_index_' : '_value_';\r\n}\r\nfunction axisFromPosition(position) {\r\n  if (position === 'top' || position === 'bottom') {\r\n    return 'x';\r\n  }\r\n  if (position === 'left' || position === 'right') {\r\n    return 'y';\r\n  }\r\n}\r\nfunction determineAxis(id, scaleOptions) {\r\n  if (id === 'x' || id === 'y') {\r\n    return id;\r\n  }\r\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\r\n}\r\nfunction mergeScaleConfig(config, options) {\r\n  const chartDefaults = overrides[config.type] || {scales: {}};\r\n  const configScales = options.scales || {};\r\n  const chartIndexAxis = getIndexAxis(config.type, options);\r\n  const firstIDs = Object.create(null);\r\n  const scales = Object.create(null);\r\n  Object.keys(configScales).forEach(id => {\r\n    const scaleConf = configScales[id];\r\n    if (!isObject(scaleConf)) {\r\n      return console.error(`Invalid scale configuration for scale: ${id}`);\r\n    }\r\n    if (scaleConf._proxy) {\r\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\r\n    }\r\n    const axis = determineAxis(id, scaleConf);\r\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\r\n    const defaultScaleOptions = chartDefaults.scales || {};\r\n    firstIDs[axis] = firstIDs[axis] || id;\r\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\r\n  });\r\n  config.data.datasets.forEach(dataset => {\r\n    const type = dataset.type || config.type;\r\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\r\n    const datasetDefaults = overrides[type] || {};\r\n    const defaultScaleOptions = datasetDefaults.scales || {};\r\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\r\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\r\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\r\n      scales[id] = scales[id] || Object.create(null);\r\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\r\n    });\r\n  });\r\n  Object.keys(scales).forEach(key => {\r\n    const scale = scales[key];\r\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\r\n  });\r\n  return scales;\r\n}\r\nfunction initOptions(config) {\r\n  const options = config.options || (config.options = {});\r\n  options.plugins = valueOrDefault(options.plugins, {});\r\n  options.scales = mergeScaleConfig(config, options);\r\n}\r\nfunction initData(data) {\r\n  data = data || {};\r\n  data.datasets = data.datasets || [];\r\n  data.labels = data.labels || [];\r\n  return data;\r\n}\r\nfunction initConfig(config) {\r\n  config = config || {};\r\n  config.data = initData(config.data);\r\n  initOptions(config);\r\n  return config;\r\n}\r\nconst keyCache = new Map();\r\nconst keysCached = new Set();\r\nfunction cachedKeys(cacheKey, generate) {\r\n  let keys = keyCache.get(cacheKey);\r\n  if (!keys) {\r\n    keys = generate();\r\n    keyCache.set(cacheKey, keys);\r\n    keysCached.add(keys);\r\n  }\r\n  return keys;\r\n}\r\nconst addIfFound = (set, obj, key) => {\r\n  const opts = resolveObjectKey(obj, key);\r\n  if (opts !== undefined) {\r\n    set.add(opts);\r\n  }\r\n};\r\nclass Config {\r\n  constructor(config) {\r\n    this._config = initConfig(config);\r\n    this._scopeCache = new Map();\r\n    this._resolverCache = new Map();\r\n  }\r\n  get platform() {\r\n    return this._config.platform;\r\n  }\r\n  get type() {\r\n    return this._config.type;\r\n  }\r\n  set type(type) {\r\n    this._config.type = type;\r\n  }\r\n  get data() {\r\n    return this._config.data;\r\n  }\r\n  set data(data) {\r\n    this._config.data = initData(data);\r\n  }\r\n  get options() {\r\n    return this._config.options;\r\n  }\r\n  set options(options) {\r\n    this._config.options = options;\r\n  }\r\n  get plugins() {\r\n    return this._config.plugins;\r\n  }\r\n  update() {\r\n    const config = this._config;\r\n    this.clearCache();\r\n    initOptions(config);\r\n  }\r\n  clearCache() {\r\n    this._scopeCache.clear();\r\n    this._resolverCache.clear();\r\n  }\r\n  datasetScopeKeys(datasetType) {\r\n    return cachedKeys(datasetType,\r\n      () => [[\r\n        `datasets.${datasetType}`,\r\n        ''\r\n      ]]);\r\n  }\r\n  datasetAnimationScopeKeys(datasetType, transition) {\r\n    return cachedKeys(`${datasetType}.transition.${transition}`,\r\n      () => [\r\n        [\r\n          `datasets.${datasetType}.transitions.${transition}`,\r\n          `transitions.${transition}`,\r\n        ],\r\n        [\r\n          `datasets.${datasetType}`,\r\n          ''\r\n        ]\r\n      ]);\r\n  }\r\n  datasetElementScopeKeys(datasetType, elementType) {\r\n    return cachedKeys(`${datasetType}-${elementType}`,\r\n      () => [[\r\n        `datasets.${datasetType}.elements.${elementType}`,\r\n        `datasets.${datasetType}`,\r\n        `elements.${elementType}`,\r\n        ''\r\n      ]]);\r\n  }\r\n  pluginScopeKeys(plugin) {\r\n    const id = plugin.id;\r\n    const type = this.type;\r\n    return cachedKeys(`${type}-plugin-${id}`,\r\n      () => [[\r\n        `plugins.${id}`,\r\n        ...plugin.additionalOptionScopes || [],\r\n      ]]);\r\n  }\r\n  _cachedScopes(mainScope, resetCache) {\r\n    const _scopeCache = this._scopeCache;\r\n    let cache = _scopeCache.get(mainScope);\r\n    if (!cache || resetCache) {\r\n      cache = new Map();\r\n      _scopeCache.set(mainScope, cache);\r\n    }\r\n    return cache;\r\n  }\r\n  getOptionScopes(mainScope, keyLists, resetCache) {\r\n    const {options, type} = this;\r\n    const cache = this._cachedScopes(mainScope, resetCache);\r\n    const cached = cache.get(keyLists);\r\n    if (cached) {\r\n      return cached;\r\n    }\r\n    const scopes = new Set();\r\n    keyLists.forEach(keys => {\r\n      if (mainScope) {\r\n        scopes.add(mainScope);\r\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\r\n      }\r\n      keys.forEach(key => addIfFound(scopes, options, key));\r\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\r\n      keys.forEach(key => addIfFound(scopes, defaults, key));\r\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\r\n    });\r\n    const array = Array.from(scopes);\r\n    if (array.length === 0) {\r\n      array.push(Object.create(null));\r\n    }\r\n    if (keysCached.has(keyLists)) {\r\n      cache.set(keyLists, array);\r\n    }\r\n    return array;\r\n  }\r\n  chartOptionScopes() {\r\n    const {options, type} = this;\r\n    return [\r\n      options,\r\n      overrides[type] || {},\r\n      defaults.datasets[type] || {},\r\n      {type},\r\n      defaults,\r\n      descriptors\r\n    ];\r\n  }\r\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\r\n    const result = {$shared: true};\r\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\r\n    let options = resolver;\r\n    if (needContext(resolver, names)) {\r\n      result.$shared = false;\r\n      context = isFunction(context) ? context() : context;\r\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\r\n      options = _attachContext(resolver, context, subResolver);\r\n    }\r\n    for (const prop of names) {\r\n      result[prop] = options[prop];\r\n    }\r\n    return result;\r\n  }\r\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\r\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\r\n    return isObject(context)\r\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\r\n      : resolver;\r\n  }\r\n}\r\nfunction getResolver(resolverCache, scopes, prefixes) {\r\n  let cache = resolverCache.get(scopes);\r\n  if (!cache) {\r\n    cache = new Map();\r\n    resolverCache.set(scopes, cache);\r\n  }\r\n  const cacheKey = prefixes.join();\r\n  let cached = cache.get(cacheKey);\r\n  if (!cached) {\r\n    const resolver = _createResolver(scopes, prefixes);\r\n    cached = {\r\n      resolver,\r\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\r\n    };\r\n    cache.set(cacheKey, cached);\r\n  }\r\n  return cached;\r\n}\r\nconst hasFunction = value => isObject(value)\r\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\r\nfunction needContext(proxy, names) {\r\n  const {isScriptable, isIndexable} = _descriptors(proxy);\r\n  for (const prop of names) {\r\n    const scriptable = isScriptable(prop);\r\n    const indexable = isIndexable(prop);\r\n    const value = (indexable || scriptable) && proxy[prop];\r\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\r\n      || (indexable && isArray(value))) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nvar version = \"3.7.1\";\r\n\r\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\r\nfunction positionIsHorizontal(position, axis) {\r\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\r\n}\r\nfunction compare2Level(l1, l2) {\r\n  return function(a, b) {\r\n    return a[l1] === b[l1]\r\n      ? a[l2] - b[l2]\r\n      : a[l1] - b[l1];\r\n  };\r\n}\r\nfunction onAnimationsComplete(context) {\r\n  const chart = context.chart;\r\n  const animationOptions = chart.options.animation;\r\n  chart.notifyPlugins('afterRender');\r\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\r\n}\r\nfunction onAnimationProgress(context) {\r\n  const chart = context.chart;\r\n  const animationOptions = chart.options.animation;\r\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\r\n}\r\nfunction getCanvas(item) {\r\n  if (_isDomSupported() && typeof item === 'string') {\r\n    item = document.getElementById(item);\r\n  } else if (item && item.length) {\r\n    item = item[0];\r\n  }\r\n  if (item && item.canvas) {\r\n    item = item.canvas;\r\n  }\r\n  return item;\r\n}\r\nconst instances = {};\r\nconst getChart = (key) => {\r\n  const canvas = getCanvas(key);\r\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\r\n};\r\nfunction moveNumericKeys(obj, start, move) {\r\n  const keys = Object.keys(obj);\r\n  for (const key of keys) {\r\n    const intKey = +key;\r\n    if (intKey >= start) {\r\n      const value = obj[key];\r\n      delete obj[key];\r\n      if (move > 0 || intKey > start) {\r\n        obj[intKey + move] = value;\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\r\n  if (!inChartArea || e.type === 'mouseout') {\r\n    return null;\r\n  }\r\n  if (isClick) {\r\n    return lastEvent;\r\n  }\r\n  return e;\r\n}\r\nclass Chart {\r\n  constructor(item, userConfig) {\r\n    const config = this.config = new Config(userConfig);\r\n    const initialCanvas = getCanvas(item);\r\n    const existingChart = getChart(initialCanvas);\r\n    if (existingChart) {\r\n      throw new Error(\r\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\r\n\t\t\t\t' must be destroyed before the canvas can be reused.'\r\n      );\r\n    }\r\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\r\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\r\n    this.platform.updateConfig(config);\r\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\r\n    const canvas = context && context.canvas;\r\n    const height = canvas && canvas.height;\r\n    const width = canvas && canvas.width;\r\n    this.id = uid();\r\n    this.ctx = context;\r\n    this.canvas = canvas;\r\n    this.width = width;\r\n    this.height = height;\r\n    this._options = options;\r\n    this._aspectRatio = this.aspectRatio;\r\n    this._layers = [];\r\n    this._metasets = [];\r\n    this._stacks = undefined;\r\n    this.boxes = [];\r\n    this.currentDevicePixelRatio = undefined;\r\n    this.chartArea = undefined;\r\n    this._active = [];\r\n    this._lastEvent = undefined;\r\n    this._listeners = {};\r\n    this._responsiveListeners = undefined;\r\n    this._sortedMetasets = [];\r\n    this.scales = {};\r\n    this._plugins = new PluginService();\r\n    this.$proxies = {};\r\n    this._hiddenIndices = {};\r\n    this.attached = false;\r\n    this._animationsDisabled = undefined;\r\n    this.$context = undefined;\r\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\r\n    this._dataChanges = [];\r\n    instances[this.id] = this;\r\n    if (!context || !canvas) {\r\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\r\n      return;\r\n    }\r\n    animator.listen(this, 'complete', onAnimationsComplete);\r\n    animator.listen(this, 'progress', onAnimationProgress);\r\n    this._initialize();\r\n    if (this.attached) {\r\n      this.update();\r\n    }\r\n  }\r\n  get aspectRatio() {\r\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\r\n    if (!isNullOrUndef(aspectRatio)) {\r\n      return aspectRatio;\r\n    }\r\n    if (maintainAspectRatio && _aspectRatio) {\r\n      return _aspectRatio;\r\n    }\r\n    return height ? width / height : null;\r\n  }\r\n  get data() {\r\n    return this.config.data;\r\n  }\r\n  set data(data) {\r\n    this.config.data = data;\r\n  }\r\n  get options() {\r\n    return this._options;\r\n  }\r\n  set options(options) {\r\n    this.config.options = options;\r\n  }\r\n  _initialize() {\r\n    this.notifyPlugins('beforeInit');\r\n    if (this.options.responsive) {\r\n      this.resize();\r\n    } else {\r\n      retinaScale(this, this.options.devicePixelRatio);\r\n    }\r\n    this.bindEvents();\r\n    this.notifyPlugins('afterInit');\r\n    return this;\r\n  }\r\n  clear() {\r\n    clearCanvas(this.canvas, this.ctx);\r\n    return this;\r\n  }\r\n  stop() {\r\n    animator.stop(this);\r\n    return this;\r\n  }\r\n  resize(width, height) {\r\n    if (!animator.running(this)) {\r\n      this._resize(width, height);\r\n    } else {\r\n      this._resizeBeforeDraw = {width, height};\r\n    }\r\n  }\r\n  _resize(width, height) {\r\n    const options = this.options;\r\n    const canvas = this.canvas;\r\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\r\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\r\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\r\n    const mode = this.width ? 'resize' : 'attach';\r\n    this.width = newSize.width;\r\n    this.height = newSize.height;\r\n    this._aspectRatio = this.aspectRatio;\r\n    if (!retinaScale(this, newRatio, true)) {\r\n      return;\r\n    }\r\n    this.notifyPlugins('resize', {size: newSize});\r\n    callback(options.onResize, [this, newSize], this);\r\n    if (this.attached) {\r\n      if (this._doResize(mode)) {\r\n        this.render();\r\n      }\r\n    }\r\n  }\r\n  ensureScalesHaveIDs() {\r\n    const options = this.options;\r\n    const scalesOptions = options.scales || {};\r\n    each(scalesOptions, (axisOptions, axisID) => {\r\n      axisOptions.id = axisID;\r\n    });\r\n  }\r\n  buildOrUpdateScales() {\r\n    const options = this.options;\r\n    const scaleOpts = options.scales;\r\n    const scales = this.scales;\r\n    const updated = Object.keys(scales).reduce((obj, id) => {\r\n      obj[id] = false;\r\n      return obj;\r\n    }, {});\r\n    let items = [];\r\n    if (scaleOpts) {\r\n      items = items.concat(\r\n        Object.keys(scaleOpts).map((id) => {\r\n          const scaleOptions = scaleOpts[id];\r\n          const axis = determineAxis(id, scaleOptions);\r\n          const isRadial = axis === 'r';\r\n          const isHorizontal = axis === 'x';\r\n          return {\r\n            options: scaleOptions,\r\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\r\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\r\n          };\r\n        })\r\n      );\r\n    }\r\n    each(items, (item) => {\r\n      const scaleOptions = item.options;\r\n      const id = scaleOptions.id;\r\n      const axis = determineAxis(id, scaleOptions);\r\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\r\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\r\n        scaleOptions.position = item.dposition;\r\n      }\r\n      updated[id] = true;\r\n      let scale = null;\r\n      if (id in scales && scales[id].type === scaleType) {\r\n        scale = scales[id];\r\n      } else {\r\n        const scaleClass = registry.getScale(scaleType);\r\n        scale = new scaleClass({\r\n          id,\r\n          type: scaleType,\r\n          ctx: this.ctx,\r\n          chart: this\r\n        });\r\n        scales[scale.id] = scale;\r\n      }\r\n      scale.init(scaleOptions, options);\r\n    });\r\n    each(updated, (hasUpdated, id) => {\r\n      if (!hasUpdated) {\r\n        delete scales[id];\r\n      }\r\n    });\r\n    each(scales, (scale) => {\r\n      layouts.configure(this, scale, scale.options);\r\n      layouts.addBox(this, scale);\r\n    });\r\n  }\r\n  _updateMetasets() {\r\n    const metasets = this._metasets;\r\n    const numData = this.data.datasets.length;\r\n    const numMeta = metasets.length;\r\n    metasets.sort((a, b) => a.index - b.index);\r\n    if (numMeta > numData) {\r\n      for (let i = numData; i < numMeta; ++i) {\r\n        this._destroyDatasetMeta(i);\r\n      }\r\n      metasets.splice(numData, numMeta - numData);\r\n    }\r\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\r\n  }\r\n  _removeUnreferencedMetasets() {\r\n    const {_metasets: metasets, data: {datasets}} = this;\r\n    if (metasets.length > datasets.length) {\r\n      delete this._stacks;\r\n    }\r\n    metasets.forEach((meta, index) => {\r\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\r\n        this._destroyDatasetMeta(index);\r\n      }\r\n    });\r\n  }\r\n  buildOrUpdateControllers() {\r\n    const newControllers = [];\r\n    const datasets = this.data.datasets;\r\n    let i, ilen;\r\n    this._removeUnreferencedMetasets();\r\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n      const dataset = datasets[i];\r\n      let meta = this.getDatasetMeta(i);\r\n      const type = dataset.type || this.config.type;\r\n      if (meta.type && meta.type !== type) {\r\n        this._destroyDatasetMeta(i);\r\n        meta = this.getDatasetMeta(i);\r\n      }\r\n      meta.type = type;\r\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\r\n      meta.order = dataset.order || 0;\r\n      meta.index = i;\r\n      meta.label = '' + dataset.label;\r\n      meta.visible = this.isDatasetVisible(i);\r\n      if (meta.controller) {\r\n        meta.controller.updateIndex(i);\r\n        meta.controller.linkScales();\r\n      } else {\r\n        const ControllerClass = registry.getController(type);\r\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\r\n        Object.assign(ControllerClass.prototype, {\r\n          dataElementType: registry.getElement(dataElementType),\r\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\r\n        });\r\n        meta.controller = new ControllerClass(this, i);\r\n        newControllers.push(meta.controller);\r\n      }\r\n    }\r\n    this._updateMetasets();\r\n    return newControllers;\r\n  }\r\n  _resetElements() {\r\n    each(this.data.datasets, (dataset, datasetIndex) => {\r\n      this.getDatasetMeta(datasetIndex).controller.reset();\r\n    }, this);\r\n  }\r\n  reset() {\r\n    this._resetElements();\r\n    this.notifyPlugins('reset');\r\n  }\r\n  update(mode) {\r\n    const config = this.config;\r\n    config.update();\r\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\r\n    const animsDisabled = this._animationsDisabled = !options.animation;\r\n    this._updateScales();\r\n    this._checkEventBindings();\r\n    this._updateHiddenIndices();\r\n    this._plugins.invalidate();\r\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\r\n      return;\r\n    }\r\n    const newControllers = this.buildOrUpdateControllers();\r\n    this.notifyPlugins('beforeElementsUpdate');\r\n    let minPadding = 0;\r\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\r\n      const {controller} = this.getDatasetMeta(i);\r\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\r\n      controller.buildOrUpdateElements(reset);\r\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\r\n    }\r\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\r\n    this._updateLayout(minPadding);\r\n    if (!animsDisabled) {\r\n      each(newControllers, (controller) => {\r\n        controller.reset();\r\n      });\r\n    }\r\n    this._updateDatasets(mode);\r\n    this.notifyPlugins('afterUpdate', {mode});\r\n    this._layers.sort(compare2Level('z', '_idx'));\r\n    const {_active, _lastEvent} = this;\r\n    if (_lastEvent) {\r\n      this._eventHandler(_lastEvent, true);\r\n    } else if (_active.length) {\r\n      this._updateHoverStyles(_active, _active, true);\r\n    }\r\n    this.render();\r\n  }\r\n  _updateScales() {\r\n    each(this.scales, (scale) => {\r\n      layouts.removeBox(this, scale);\r\n    });\r\n    this.ensureScalesHaveIDs();\r\n    this.buildOrUpdateScales();\r\n  }\r\n  _checkEventBindings() {\r\n    const options = this.options;\r\n    const existingEvents = new Set(Object.keys(this._listeners));\r\n    const newEvents = new Set(options.events);\r\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\r\n      this.unbindEvents();\r\n      this.bindEvents();\r\n    }\r\n  }\r\n  _updateHiddenIndices() {\r\n    const {_hiddenIndices} = this;\r\n    const changes = this._getUniformDataChanges() || [];\r\n    for (const {method, start, count} of changes) {\r\n      const move = method === '_removeElements' ? -count : count;\r\n      moveNumericKeys(_hiddenIndices, start, move);\r\n    }\r\n  }\r\n  _getUniformDataChanges() {\r\n    const _dataChanges = this._dataChanges;\r\n    if (!_dataChanges || !_dataChanges.length) {\r\n      return;\r\n    }\r\n    this._dataChanges = [];\r\n    const datasetCount = this.data.datasets.length;\r\n    const makeSet = (idx) => new Set(\r\n      _dataChanges\r\n        .filter(c => c[0] === idx)\r\n        .map((c, i) => i + ',' + c.splice(1).join(','))\r\n    );\r\n    const changeSet = makeSet(0);\r\n    for (let i = 1; i < datasetCount; i++) {\r\n      if (!setsEqual(changeSet, makeSet(i))) {\r\n        return;\r\n      }\r\n    }\r\n    return Array.from(changeSet)\r\n      .map(c => c.split(','))\r\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\r\n  }\r\n  _updateLayout(minPadding) {\r\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\r\n      return;\r\n    }\r\n    layouts.update(this, this.width, this.height, minPadding);\r\n    const area = this.chartArea;\r\n    const noArea = area.width <= 0 || area.height <= 0;\r\n    this._layers = [];\r\n    each(this.boxes, (box) => {\r\n      if (noArea && box.position === 'chartArea') {\r\n        return;\r\n      }\r\n      if (box.configure) {\r\n        box.configure();\r\n      }\r\n      this._layers.push(...box._layers());\r\n    }, this);\r\n    this._layers.forEach((item, index) => {\r\n      item._idx = index;\r\n    });\r\n    this.notifyPlugins('afterLayout');\r\n  }\r\n  _updateDatasets(mode) {\r\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\r\n      return;\r\n    }\r\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\r\n      this.getDatasetMeta(i).controller.configure();\r\n    }\r\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\r\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\r\n    }\r\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\r\n  }\r\n  _updateDataset(index, mode) {\r\n    const meta = this.getDatasetMeta(index);\r\n    const args = {meta, index, mode, cancelable: true};\r\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\r\n      return;\r\n    }\r\n    meta.controller._update(mode);\r\n    args.cancelable = false;\r\n    this.notifyPlugins('afterDatasetUpdate', args);\r\n  }\r\n  render() {\r\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\r\n      return;\r\n    }\r\n    if (animator.has(this)) {\r\n      if (this.attached && !animator.running(this)) {\r\n        animator.start(this);\r\n      }\r\n    } else {\r\n      this.draw();\r\n      onAnimationsComplete({chart: this});\r\n    }\r\n  }\r\n  draw() {\r\n    let i;\r\n    if (this._resizeBeforeDraw) {\r\n      const {width, height} = this._resizeBeforeDraw;\r\n      this._resize(width, height);\r\n      this._resizeBeforeDraw = null;\r\n    }\r\n    this.clear();\r\n    if (this.width <= 0 || this.height <= 0) {\r\n      return;\r\n    }\r\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\r\n      return;\r\n    }\r\n    const layers = this._layers;\r\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\r\n      layers[i].draw(this.chartArea);\r\n    }\r\n    this._drawDatasets();\r\n    for (; i < layers.length; ++i) {\r\n      layers[i].draw(this.chartArea);\r\n    }\r\n    this.notifyPlugins('afterDraw');\r\n  }\r\n  _getSortedDatasetMetas(filterVisible) {\r\n    const metasets = this._sortedMetasets;\r\n    const result = [];\r\n    let i, ilen;\r\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n      const meta = metasets[i];\r\n      if (!filterVisible || meta.visible) {\r\n        result.push(meta);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  getSortedVisibleDatasetMetas() {\r\n    return this._getSortedDatasetMetas(true);\r\n  }\r\n  _drawDatasets() {\r\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\r\n      return;\r\n    }\r\n    const metasets = this.getSortedVisibleDatasetMetas();\r\n    for (let i = metasets.length - 1; i >= 0; --i) {\r\n      this._drawDataset(metasets[i]);\r\n    }\r\n    this.notifyPlugins('afterDatasetsDraw');\r\n  }\r\n  _drawDataset(meta) {\r\n    const ctx = this.ctx;\r\n    const clip = meta._clip;\r\n    const useClip = !clip.disabled;\r\n    const area = this.chartArea;\r\n    const args = {\r\n      meta,\r\n      index: meta.index,\r\n      cancelable: true\r\n    };\r\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\r\n      return;\r\n    }\r\n    if (useClip) {\r\n      clipArea(ctx, {\r\n        left: clip.left === false ? 0 : area.left - clip.left,\r\n        right: clip.right === false ? this.width : area.right + clip.right,\r\n        top: clip.top === false ? 0 : area.top - clip.top,\r\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\r\n      });\r\n    }\r\n    meta.controller.draw();\r\n    if (useClip) {\r\n      unclipArea(ctx);\r\n    }\r\n    args.cancelable = false;\r\n    this.notifyPlugins('afterDatasetDraw', args);\r\n  }\r\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\r\n    const method = Interaction.modes[mode];\r\n    if (typeof method === 'function') {\r\n      return method(this, e, options, useFinalPosition);\r\n    }\r\n    return [];\r\n  }\r\n  getDatasetMeta(datasetIndex) {\r\n    const dataset = this.data.datasets[datasetIndex];\r\n    const metasets = this._metasets;\r\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\r\n    if (!meta) {\r\n      meta = {\r\n        type: null,\r\n        data: [],\r\n        dataset: null,\r\n        controller: null,\r\n        hidden: null,\r\n        xAxisID: null,\r\n        yAxisID: null,\r\n        order: dataset && dataset.order || 0,\r\n        index: datasetIndex,\r\n        _dataset: dataset,\r\n        _parsed: [],\r\n        _sorted: false\r\n      };\r\n      metasets.push(meta);\r\n    }\r\n    return meta;\r\n  }\r\n  getContext() {\r\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\r\n  }\r\n  getVisibleDatasetCount() {\r\n    return this.getSortedVisibleDatasetMetas().length;\r\n  }\r\n  isDatasetVisible(datasetIndex) {\r\n    const dataset = this.data.datasets[datasetIndex];\r\n    if (!dataset) {\r\n      return false;\r\n    }\r\n    const meta = this.getDatasetMeta(datasetIndex);\r\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\r\n  }\r\n  setDatasetVisibility(datasetIndex, visible) {\r\n    const meta = this.getDatasetMeta(datasetIndex);\r\n    meta.hidden = !visible;\r\n  }\r\n  toggleDataVisibility(index) {\r\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\r\n  }\r\n  getDataVisibility(index) {\r\n    return !this._hiddenIndices[index];\r\n  }\r\n  _updateVisibility(datasetIndex, dataIndex, visible) {\r\n    const mode = visible ? 'show' : 'hide';\r\n    const meta = this.getDatasetMeta(datasetIndex);\r\n    const anims = meta.controller._resolveAnimations(undefined, mode);\r\n    if (defined(dataIndex)) {\r\n      meta.data[dataIndex].hidden = !visible;\r\n      this.update();\r\n    } else {\r\n      this.setDatasetVisibility(datasetIndex, visible);\r\n      anims.update(meta, {visible});\r\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\r\n    }\r\n  }\r\n  hide(datasetIndex, dataIndex) {\r\n    this._updateVisibility(datasetIndex, dataIndex, false);\r\n  }\r\n  show(datasetIndex, dataIndex) {\r\n    this._updateVisibility(datasetIndex, dataIndex, true);\r\n  }\r\n  _destroyDatasetMeta(datasetIndex) {\r\n    const meta = this._metasets[datasetIndex];\r\n    if (meta && meta.controller) {\r\n      meta.controller._destroy();\r\n    }\r\n    delete this._metasets[datasetIndex];\r\n  }\r\n  _stop() {\r\n    let i, ilen;\r\n    this.stop();\r\n    animator.remove(this);\r\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\r\n      this._destroyDatasetMeta(i);\r\n    }\r\n  }\r\n  destroy() {\r\n    this.notifyPlugins('beforeDestroy');\r\n    const {canvas, ctx} = this;\r\n    this._stop();\r\n    this.config.clearCache();\r\n    if (canvas) {\r\n      this.unbindEvents();\r\n      clearCanvas(canvas, ctx);\r\n      this.platform.releaseContext(ctx);\r\n      this.canvas = null;\r\n      this.ctx = null;\r\n    }\r\n    this.notifyPlugins('destroy');\r\n    delete instances[this.id];\r\n    this.notifyPlugins('afterDestroy');\r\n  }\r\n  toBase64Image(...args) {\r\n    return this.canvas.toDataURL(...args);\r\n  }\r\n  bindEvents() {\r\n    this.bindUserEvents();\r\n    if (this.options.responsive) {\r\n      this.bindResponsiveEvents();\r\n    } else {\r\n      this.attached = true;\r\n    }\r\n  }\r\n  bindUserEvents() {\r\n    const listeners = this._listeners;\r\n    const platform = this.platform;\r\n    const _add = (type, listener) => {\r\n      platform.addEventListener(this, type, listener);\r\n      listeners[type] = listener;\r\n    };\r\n    const listener = (e, x, y) => {\r\n      e.offsetX = x;\r\n      e.offsetY = y;\r\n      this._eventHandler(e);\r\n    };\r\n    each(this.options.events, (type) => _add(type, listener));\r\n  }\r\n  bindResponsiveEvents() {\r\n    if (!this._responsiveListeners) {\r\n      this._responsiveListeners = {};\r\n    }\r\n    const listeners = this._responsiveListeners;\r\n    const platform = this.platform;\r\n    const _add = (type, listener) => {\r\n      platform.addEventListener(this, type, listener);\r\n      listeners[type] = listener;\r\n    };\r\n    const _remove = (type, listener) => {\r\n      if (listeners[type]) {\r\n        platform.removeEventListener(this, type, listener);\r\n        delete listeners[type];\r\n      }\r\n    };\r\n    const listener = (width, height) => {\r\n      if (this.canvas) {\r\n        this.resize(width, height);\r\n      }\r\n    };\r\n    let detached;\r\n    const attached = () => {\r\n      _remove('attach', attached);\r\n      this.attached = true;\r\n      this.resize();\r\n      _add('resize', listener);\r\n      _add('detach', detached);\r\n    };\r\n    detached = () => {\r\n      this.attached = false;\r\n      _remove('resize', listener);\r\n      this._stop();\r\n      this._resize(0, 0);\r\n      _add('attach', attached);\r\n    };\r\n    if (platform.isAttached(this.canvas)) {\r\n      attached();\r\n    } else {\r\n      detached();\r\n    }\r\n  }\r\n  unbindEvents() {\r\n    each(this._listeners, (listener, type) => {\r\n      this.platform.removeEventListener(this, type, listener);\r\n    });\r\n    this._listeners = {};\r\n    each(this._responsiveListeners, (listener, type) => {\r\n      this.platform.removeEventListener(this, type, listener);\r\n    });\r\n    this._responsiveListeners = undefined;\r\n  }\r\n  updateHoverStyle(items, mode, enabled) {\r\n    const prefix = enabled ? 'set' : 'remove';\r\n    let meta, item, i, ilen;\r\n    if (mode === 'dataset') {\r\n      meta = this.getDatasetMeta(items[0].datasetIndex);\r\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\r\n    }\r\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\r\n      item = items[i];\r\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\r\n      if (controller) {\r\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\r\n      }\r\n    }\r\n  }\r\n  getActiveElements() {\r\n    return this._active || [];\r\n  }\r\n  setActiveElements(activeElements) {\r\n    const lastActive = this._active || [];\r\n    const active = activeElements.map(({datasetIndex, index}) => {\r\n      const meta = this.getDatasetMeta(datasetIndex);\r\n      if (!meta) {\r\n        throw new Error('No dataset found at index ' + datasetIndex);\r\n      }\r\n      return {\r\n        datasetIndex,\r\n        element: meta.data[index],\r\n        index,\r\n      };\r\n    });\r\n    const changed = !_elementsEqual(active, lastActive);\r\n    if (changed) {\r\n      this._active = active;\r\n      this._lastEvent = null;\r\n      this._updateHoverStyles(active, lastActive);\r\n    }\r\n  }\r\n  notifyPlugins(hook, args, filter) {\r\n    return this._plugins.notify(this, hook, args, filter);\r\n  }\r\n  _updateHoverStyles(active, lastActive, replay) {\r\n    const hoverOptions = this.options.hover;\r\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\r\n    const deactivated = diff(lastActive, active);\r\n    const activated = replay ? active : diff(active, lastActive);\r\n    if (deactivated.length) {\r\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\r\n    }\r\n    if (activated.length && hoverOptions.mode) {\r\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\r\n    }\r\n  }\r\n  _eventHandler(e, replay) {\r\n    const args = {\r\n      event: e,\r\n      replay,\r\n      cancelable: true,\r\n      inChartArea: _isPointInArea(e, this.chartArea, this._minPadding)\r\n    };\r\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\r\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\r\n      return;\r\n    }\r\n    const changed = this._handleEvent(e, replay, args.inChartArea);\r\n    args.cancelable = false;\r\n    this.notifyPlugins('afterEvent', args, eventFilter);\r\n    if (changed || args.changed) {\r\n      this.render();\r\n    }\r\n    return this;\r\n  }\r\n  _handleEvent(e, replay, inChartArea) {\r\n    const {_active: lastActive = [], options} = this;\r\n    const useFinalPosition = replay;\r\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\r\n    const isClick = _isClickEvent(e);\r\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\r\n    if (inChartArea) {\r\n      this._lastEvent = null;\r\n      callback(options.onHover, [e, active, this], this);\r\n      if (isClick) {\r\n        callback(options.onClick, [e, active, this], this);\r\n      }\r\n    }\r\n    const changed = !_elementsEqual(active, lastActive);\r\n    if (changed || replay) {\r\n      this._active = active;\r\n      this._updateHoverStyles(active, lastActive, replay);\r\n    }\r\n    this._lastEvent = lastEvent;\r\n    return changed;\r\n  }\r\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\r\n    if (e.type === 'mouseout') {\r\n      return [];\r\n    }\r\n    if (!inChartArea) {\r\n      return lastActive;\r\n    }\r\n    const hoverOptions = this.options.hover;\r\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\r\n  }\r\n}\r\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\r\nconst enumerable = true;\r\nObject.defineProperties(Chart, {\r\n  defaults: {\r\n    enumerable,\r\n    value: defaults\r\n  },\r\n  instances: {\r\n    enumerable,\r\n    value: instances\r\n  },\r\n  overrides: {\r\n    enumerable,\r\n    value: overrides\r\n  },\r\n  registry: {\r\n    enumerable,\r\n    value: registry\r\n  },\r\n  version: {\r\n    enumerable,\r\n    value: version\r\n  },\r\n  getChart: {\r\n    enumerable,\r\n    value: getChart\r\n  },\r\n  register: {\r\n    enumerable,\r\n    value: (...items) => {\r\n      registry.add(...items);\r\n      invalidatePlugins();\r\n    }\r\n  },\r\n  unregister: {\r\n    enumerable,\r\n    value: (...items) => {\r\n      registry.remove(...items);\r\n      invalidatePlugins();\r\n    }\r\n  }\r\n});\r\n\r\nfunction clipArc(ctx, element, endAngle) {\r\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\r\n  let angleMargin = pixelMargin / outerRadius;\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\r\n  if (innerRadius > pixelMargin) {\r\n    angleMargin = pixelMargin / innerRadius;\r\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\r\n  } else {\r\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\r\n  }\r\n  ctx.closePath();\r\n  ctx.clip();\r\n}\r\nfunction toRadiusCorners(value) {\r\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\r\n}\r\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\r\n  const o = toRadiusCorners(arc.options.borderRadius);\r\n  const halfThickness = (outerRadius - innerRadius) / 2;\r\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\r\n  const computeOuterLimit = (val) => {\r\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\r\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\r\n  };\r\n  return {\r\n    outerStart: computeOuterLimit(o.outerStart),\r\n    outerEnd: computeOuterLimit(o.outerEnd),\r\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\r\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\r\n  };\r\n}\r\nfunction rThetaToXY(r, theta, x, y) {\r\n  return {\r\n    x: x + r * Math.cos(theta),\r\n    y: y + r * Math.sin(theta),\r\n  };\r\n}\r\nfunction pathArc(ctx, element, offset, spacing, end) {\r\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\r\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\r\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\r\n  let spacingOffset = 0;\r\n  const alpha = end - start;\r\n  if (spacing) {\r\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\r\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\r\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\r\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\r\n    spacingOffset = (alpha - adjustedAngle) / 2;\r\n  }\r\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\r\n  const angleOffset = (alpha - beta) / 2;\r\n  const startAngle = start + angleOffset + spacingOffset;\r\n  const endAngle = end - angleOffset - spacingOffset;\r\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\r\n  const outerStartAdjustedRadius = outerRadius - outerStart;\r\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\r\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\r\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\r\n  const innerStartAdjustedRadius = innerRadius + innerStart;\r\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\r\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\r\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\r\n  if (outerEnd > 0) {\r\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\r\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\r\n  }\r\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\r\n  ctx.lineTo(p4.x, p4.y);\r\n  if (innerEnd > 0) {\r\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\r\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\r\n  }\r\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\r\n  if (innerStart > 0) {\r\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\r\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\r\n  }\r\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\r\n  ctx.lineTo(p8.x, p8.y);\r\n  if (outerStart > 0) {\r\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\r\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\r\n  }\r\n  ctx.closePath();\r\n}\r\nfunction drawArc(ctx, element, offset, spacing) {\r\n  const {fullCircles, startAngle, circumference} = element;\r\n  let endAngle = element.endAngle;\r\n  if (fullCircles) {\r\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\r\n    for (let i = 0; i < fullCircles; ++i) {\r\n      ctx.fill();\r\n    }\r\n    if (!isNaN(circumference)) {\r\n      endAngle = startAngle + circumference % TAU;\r\n      if (circumference % TAU === 0) {\r\n        endAngle += TAU;\r\n      }\r\n    }\r\n  }\r\n  pathArc(ctx, element, offset, spacing, endAngle);\r\n  ctx.fill();\r\n  return endAngle;\r\n}\r\nfunction drawFullCircleBorders(ctx, element, inner) {\r\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\r\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\r\n  const innerRadius = element.innerRadius + pixelMargin;\r\n  let i;\r\n  if (inner) {\r\n    clipArc(ctx, element, startAngle + TAU);\r\n  }\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\r\n  for (i = 0; i < fullCircles; ++i) {\r\n    ctx.stroke();\r\n  }\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\r\n  for (i = 0; i < fullCircles; ++i) {\r\n    ctx.stroke();\r\n  }\r\n}\r\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\r\n  const {options} = element;\r\n  const {borderWidth, borderJoinStyle} = options;\r\n  const inner = options.borderAlign === 'inner';\r\n  if (!borderWidth) {\r\n    return;\r\n  }\r\n  if (inner) {\r\n    ctx.lineWidth = borderWidth * 2;\r\n    ctx.lineJoin = borderJoinStyle || 'round';\r\n  } else {\r\n    ctx.lineWidth = borderWidth;\r\n    ctx.lineJoin = borderJoinStyle || 'bevel';\r\n  }\r\n  if (element.fullCircles) {\r\n    drawFullCircleBorders(ctx, element, inner);\r\n  }\r\n  if (inner) {\r\n    clipArc(ctx, element, endAngle);\r\n  }\r\n  pathArc(ctx, element, offset, spacing, endAngle);\r\n  ctx.stroke();\r\n}\r\nclass ArcElement extends Element {\r\n  constructor(cfg) {\r\n    super();\r\n    this.options = undefined;\r\n    this.circumference = undefined;\r\n    this.startAngle = undefined;\r\n    this.endAngle = undefined;\r\n    this.innerRadius = undefined;\r\n    this.outerRadius = undefined;\r\n    this.pixelMargin = 0;\r\n    this.fullCircles = 0;\r\n    if (cfg) {\r\n      Object.assign(this, cfg);\r\n    }\r\n  }\r\n  inRange(chartX, chartY, useFinalPosition) {\r\n    const point = this.getProps(['x', 'y'], useFinalPosition);\r\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\r\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\r\n      'startAngle',\r\n      'endAngle',\r\n      'innerRadius',\r\n      'outerRadius',\r\n      'circumference'\r\n    ], useFinalPosition);\r\n    const rAdjust = this.options.spacing / 2;\r\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\r\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\r\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\r\n    return (betweenAngles && withinRadius);\r\n  }\r\n  getCenterPoint(useFinalPosition) {\r\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\r\n      'x',\r\n      'y',\r\n      'startAngle',\r\n      'endAngle',\r\n      'innerRadius',\r\n      'outerRadius',\r\n      'circumference',\r\n    ], useFinalPosition);\r\n    const {offset, spacing} = this.options;\r\n    const halfAngle = (startAngle + endAngle) / 2;\r\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\r\n    return {\r\n      x: x + Math.cos(halfAngle) * halfRadius,\r\n      y: y + Math.sin(halfAngle) * halfRadius\r\n    };\r\n  }\r\n  tooltipPosition(useFinalPosition) {\r\n    return this.getCenterPoint(useFinalPosition);\r\n  }\r\n  draw(ctx) {\r\n    const {options, circumference} = this;\r\n    const offset = (options.offset || 0) / 2;\r\n    const spacing = (options.spacing || 0) / 2;\r\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\r\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\r\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\r\n      return;\r\n    }\r\n    ctx.save();\r\n    let radiusOffset = 0;\r\n    if (offset) {\r\n      radiusOffset = offset / 2;\r\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\r\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\r\n      if (this.circumference >= PI) {\r\n        radiusOffset = offset;\r\n      }\r\n    }\r\n    ctx.fillStyle = options.backgroundColor;\r\n    ctx.strokeStyle = options.borderColor;\r\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing);\r\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle);\r\n    ctx.restore();\r\n  }\r\n}\r\nArcElement.id = 'arc';\r\nArcElement.defaults = {\r\n  borderAlign: 'center',\r\n  borderColor: '#fff',\r\n  borderJoinStyle: undefined,\r\n  borderRadius: 0,\r\n  borderWidth: 2,\r\n  offset: 0,\r\n  spacing: 0,\r\n  angle: undefined,\r\n};\r\nArcElement.defaultRoutes = {\r\n  backgroundColor: 'backgroundColor'\r\n};\r\n\r\nfunction setStyle(ctx, options, style = options) {\r\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\r\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\r\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\r\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\r\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\r\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\r\n}\r\nfunction lineTo(ctx, previous, target) {\r\n  ctx.lineTo(target.x, target.y);\r\n}\r\nfunction getLineMethod(options) {\r\n  if (options.stepped) {\r\n    return _steppedLineTo;\r\n  }\r\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\r\n    return _bezierCurveTo;\r\n  }\r\n  return lineTo;\r\n}\r\nfunction pathVars(points, segment, params = {}) {\r\n  const count = points.length;\r\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\r\n  const {start: segmentStart, end: segmentEnd} = segment;\r\n  const start = Math.max(paramsStart, segmentStart);\r\n  const end = Math.min(paramsEnd, segmentEnd);\r\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\r\n  return {\r\n    count,\r\n    start,\r\n    loop: segment.loop,\r\n    ilen: end < start && !outside ? count + end - start : end - start\r\n  };\r\n}\r\nfunction pathSegment(ctx, line, segment, params) {\r\n  const {points, options} = line;\r\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\r\n  const lineMethod = getLineMethod(options);\r\n  let {move = true, reverse} = params || {};\r\n  let i, point, prev;\r\n  for (i = 0; i <= ilen; ++i) {\r\n    point = points[(start + (reverse ? ilen - i : i)) % count];\r\n    if (point.skip) {\r\n      continue;\r\n    } else if (move) {\r\n      ctx.moveTo(point.x, point.y);\r\n      move = false;\r\n    } else {\r\n      lineMethod(ctx, prev, point, reverse, options.stepped);\r\n    }\r\n    prev = point;\r\n  }\r\n  if (loop) {\r\n    point = points[(start + (reverse ? ilen : 0)) % count];\r\n    lineMethod(ctx, prev, point, reverse, options.stepped);\r\n  }\r\n  return !!loop;\r\n}\r\nfunction fastPathSegment(ctx, line, segment, params) {\r\n  const points = line.points;\r\n  const {count, start, ilen} = pathVars(points, segment, params);\r\n  const {move = true, reverse} = params || {};\r\n  let avgX = 0;\r\n  let countX = 0;\r\n  let i, point, prevX, minY, maxY, lastY;\r\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\r\n  const drawX = () => {\r\n    if (minY !== maxY) {\r\n      ctx.lineTo(avgX, maxY);\r\n      ctx.lineTo(avgX, minY);\r\n      ctx.lineTo(avgX, lastY);\r\n    }\r\n  };\r\n  if (move) {\r\n    point = points[pointIndex(0)];\r\n    ctx.moveTo(point.x, point.y);\r\n  }\r\n  for (i = 0; i <= ilen; ++i) {\r\n    point = points[pointIndex(i)];\r\n    if (point.skip) {\r\n      continue;\r\n    }\r\n    const x = point.x;\r\n    const y = point.y;\r\n    const truncX = x | 0;\r\n    if (truncX === prevX) {\r\n      if (y < minY) {\r\n        minY = y;\r\n      } else if (y > maxY) {\r\n        maxY = y;\r\n      }\r\n      avgX = (countX * avgX + x) / ++countX;\r\n    } else {\r\n      drawX();\r\n      ctx.lineTo(x, y);\r\n      prevX = truncX;\r\n      countX = 0;\r\n      minY = maxY = y;\r\n    }\r\n    lastY = y;\r\n  }\r\n  drawX();\r\n}\r\nfunction _getSegmentMethod(line) {\r\n  const opts = line.options;\r\n  const borderDash = opts.borderDash && opts.borderDash.length;\r\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\r\n  return useFastPath ? fastPathSegment : pathSegment;\r\n}\r\nfunction _getInterpolationMethod(options) {\r\n  if (options.stepped) {\r\n    return _steppedInterpolation;\r\n  }\r\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\r\n    return _bezierInterpolation;\r\n  }\r\n  return _pointInLine;\r\n}\r\nfunction strokePathWithCache(ctx, line, start, count) {\r\n  let path = line._path;\r\n  if (!path) {\r\n    path = line._path = new Path2D();\r\n    if (line.path(path, start, count)) {\r\n      path.closePath();\r\n    }\r\n  }\r\n  setStyle(ctx, line.options);\r\n  ctx.stroke(path);\r\n}\r\nfunction strokePathDirect(ctx, line, start, count) {\r\n  const {segments, options} = line;\r\n  const segmentMethod = _getSegmentMethod(line);\r\n  for (const segment of segments) {\r\n    setStyle(ctx, options, segment.style);\r\n    ctx.beginPath();\r\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\r\n      ctx.closePath();\r\n    }\r\n    ctx.stroke();\r\n  }\r\n}\r\nconst usePath2D = typeof Path2D === 'function';\r\nfunction draw(ctx, line, start, count) {\r\n  if (usePath2D && !line.options.segment) {\r\n    strokePathWithCache(ctx, line, start, count);\r\n  } else {\r\n    strokePathDirect(ctx, line, start, count);\r\n  }\r\n}\r\nclass LineElement extends Element {\r\n  constructor(cfg) {\r\n    super();\r\n    this.animated = true;\r\n    this.options = undefined;\r\n    this._chart = undefined;\r\n    this._loop = undefined;\r\n    this._fullLoop = undefined;\r\n    this._path = undefined;\r\n    this._points = undefined;\r\n    this._segments = undefined;\r\n    this._decimated = false;\r\n    this._pointsUpdated = false;\r\n    this._datasetIndex = undefined;\r\n    if (cfg) {\r\n      Object.assign(this, cfg);\r\n    }\r\n  }\r\n  updateControlPoints(chartArea, indexAxis) {\r\n    const options = this.options;\r\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\r\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\r\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\r\n      this._pointsUpdated = true;\r\n    }\r\n  }\r\n  set points(points) {\r\n    this._points = points;\r\n    delete this._segments;\r\n    delete this._path;\r\n    this._pointsUpdated = false;\r\n  }\r\n  get points() {\r\n    return this._points;\r\n  }\r\n  get segments() {\r\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\r\n  }\r\n  first() {\r\n    const segments = this.segments;\r\n    const points = this.points;\r\n    return segments.length && points[segments[0].start];\r\n  }\r\n  last() {\r\n    const segments = this.segments;\r\n    const points = this.points;\r\n    const count = segments.length;\r\n    return count && points[segments[count - 1].end];\r\n  }\r\n  interpolate(point, property) {\r\n    const options = this.options;\r\n    const value = point[property];\r\n    const points = this.points;\r\n    const segments = _boundSegments(this, {property, start: value, end: value});\r\n    if (!segments.length) {\r\n      return;\r\n    }\r\n    const result = [];\r\n    const _interpolate = _getInterpolationMethod(options);\r\n    let i, ilen;\r\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\r\n      const {start, end} = segments[i];\r\n      const p1 = points[start];\r\n      const p2 = points[end];\r\n      if (p1 === p2) {\r\n        result.push(p1);\r\n        continue;\r\n      }\r\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\r\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\r\n      interpolated[property] = point[property];\r\n      result.push(interpolated);\r\n    }\r\n    return result.length === 1 ? result[0] : result;\r\n  }\r\n  pathSegment(ctx, segment, params) {\r\n    const segmentMethod = _getSegmentMethod(this);\r\n    return segmentMethod(ctx, this, segment, params);\r\n  }\r\n  path(ctx, start, count) {\r\n    const segments = this.segments;\r\n    const segmentMethod = _getSegmentMethod(this);\r\n    let loop = this._loop;\r\n    start = start || 0;\r\n    count = count || (this.points.length - start);\r\n    for (const segment of segments) {\r\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\r\n    }\r\n    return !!loop;\r\n  }\r\n  draw(ctx, chartArea, start, count) {\r\n    const options = this.options || {};\r\n    const points = this.points || [];\r\n    if (points.length && options.borderWidth) {\r\n      ctx.save();\r\n      draw(ctx, this, start, count);\r\n      ctx.restore();\r\n    }\r\n    if (this.animated) {\r\n      this._pointsUpdated = false;\r\n      this._path = undefined;\r\n    }\r\n  }\r\n}\r\nLineElement.id = 'line';\r\nLineElement.defaults = {\r\n  borderCapStyle: 'butt',\r\n  borderDash: [],\r\n  borderDashOffset: 0,\r\n  borderJoinStyle: 'miter',\r\n  borderWidth: 3,\r\n  capBezierPoints: true,\r\n  cubicInterpolationMode: 'default',\r\n  fill: false,\r\n  spanGaps: false,\r\n  stepped: false,\r\n  tension: 0,\r\n};\r\nLineElement.defaultRoutes = {\r\n  backgroundColor: 'backgroundColor',\r\n  borderColor: 'borderColor'\r\n};\r\nLineElement.descriptors = {\r\n  _scriptable: true,\r\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\r\n};\r\n\r\nfunction inRange$1(el, pos, axis, useFinalPosition) {\r\n  const options = el.options;\r\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\r\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\r\n}\r\nclass PointElement extends Element {\r\n  constructor(cfg) {\r\n    super();\r\n    this.options = undefined;\r\n    this.parsed = undefined;\r\n    this.skip = undefined;\r\n    this.stop = undefined;\r\n    if (cfg) {\r\n      Object.assign(this, cfg);\r\n    }\r\n  }\r\n  inRange(mouseX, mouseY, useFinalPosition) {\r\n    const options = this.options;\r\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\r\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\r\n  }\r\n  inXRange(mouseX, useFinalPosition) {\r\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\r\n  }\r\n  inYRange(mouseY, useFinalPosition) {\r\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\r\n  }\r\n  getCenterPoint(useFinalPosition) {\r\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\r\n    return {x, y};\r\n  }\r\n  size(options) {\r\n    options = options || this.options || {};\r\n    let radius = options.radius || 0;\r\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\r\n    const borderWidth = radius && options.borderWidth || 0;\r\n    return (radius + borderWidth) * 2;\r\n  }\r\n  draw(ctx, area) {\r\n    const options = this.options;\r\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\r\n      return;\r\n    }\r\n    ctx.strokeStyle = options.borderColor;\r\n    ctx.lineWidth = options.borderWidth;\r\n    ctx.fillStyle = options.backgroundColor;\r\n    drawPoint(ctx, options, this.x, this.y);\r\n  }\r\n  getRange() {\r\n    const options = this.options || {};\r\n    return options.radius + options.hitRadius;\r\n  }\r\n}\r\nPointElement.id = 'point';\r\nPointElement.defaults = {\r\n  borderWidth: 1,\r\n  hitRadius: 1,\r\n  hoverBorderWidth: 1,\r\n  hoverRadius: 4,\r\n  pointStyle: 'circle',\r\n  radius: 3,\r\n  rotation: 0\r\n};\r\nPointElement.defaultRoutes = {\r\n  backgroundColor: 'backgroundColor',\r\n  borderColor: 'borderColor'\r\n};\r\n\r\nfunction getBarBounds(bar, useFinalPosition) {\r\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\r\n  let left, right, top, bottom, half;\r\n  if (bar.horizontal) {\r\n    half = height / 2;\r\n    left = Math.min(x, base);\r\n    right = Math.max(x, base);\r\n    top = y - half;\r\n    bottom = y + half;\r\n  } else {\r\n    half = width / 2;\r\n    left = x - half;\r\n    right = x + half;\r\n    top = Math.min(y, base);\r\n    bottom = Math.max(y, base);\r\n  }\r\n  return {left, top, right, bottom};\r\n}\r\nfunction skipOrLimit(skip, value, min, max) {\r\n  return skip ? 0 : _limitValue(value, min, max);\r\n}\r\nfunction parseBorderWidth(bar, maxW, maxH) {\r\n  const value = bar.options.borderWidth;\r\n  const skip = bar.borderSkipped;\r\n  const o = toTRBL(value);\r\n  return {\r\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\r\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\r\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\r\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\r\n  };\r\n}\r\nfunction parseBorderRadius(bar, maxW, maxH) {\r\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\r\n  const value = bar.options.borderRadius;\r\n  const o = toTRBLCorners(value);\r\n  const maxR = Math.min(maxW, maxH);\r\n  const skip = bar.borderSkipped;\r\n  const enableBorder = enableBorderRadius || isObject(value);\r\n  return {\r\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\r\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\r\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\r\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\r\n  };\r\n}\r\nfunction boundingRects(bar) {\r\n  const bounds = getBarBounds(bar);\r\n  const width = bounds.right - bounds.left;\r\n  const height = bounds.bottom - bounds.top;\r\n  const border = parseBorderWidth(bar, width / 2, height / 2);\r\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\r\n  return {\r\n    outer: {\r\n      x: bounds.left,\r\n      y: bounds.top,\r\n      w: width,\r\n      h: height,\r\n      radius\r\n    },\r\n    inner: {\r\n      x: bounds.left + border.l,\r\n      y: bounds.top + border.t,\r\n      w: width - border.l - border.r,\r\n      h: height - border.t - border.b,\r\n      radius: {\r\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\r\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\r\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\r\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction inRange(bar, x, y, useFinalPosition) {\r\n  const skipX = x === null;\r\n  const skipY = y === null;\r\n  const skipBoth = skipX && skipY;\r\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\r\n  return bounds\r\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\r\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\r\n}\r\nfunction hasRadius(radius) {\r\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\r\n}\r\nfunction addNormalRectPath(ctx, rect) {\r\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\r\n}\r\nfunction inflateRect(rect, amount, refRect = {}) {\r\n  const x = rect.x !== refRect.x ? -amount : 0;\r\n  const y = rect.y !== refRect.y ? -amount : 0;\r\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\r\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\r\n  return {\r\n    x: rect.x + x,\r\n    y: rect.y + y,\r\n    w: rect.w + w,\r\n    h: rect.h + h,\r\n    radius: rect.radius\r\n  };\r\n}\r\nclass BarElement extends Element {\r\n  constructor(cfg) {\r\n    super();\r\n    this.options = undefined;\r\n    this.horizontal = undefined;\r\n    this.base = undefined;\r\n    this.width = undefined;\r\n    this.height = undefined;\r\n    this.inflateAmount = undefined;\r\n    if (cfg) {\r\n      Object.assign(this, cfg);\r\n    }\r\n  }\r\n  draw(ctx) {\r\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\r\n    const {inner, outer} = boundingRects(this);\r\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\r\n    ctx.save();\r\n    if (outer.w !== inner.w || outer.h !== inner.h) {\r\n      ctx.beginPath();\r\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\r\n      ctx.clip();\r\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\r\n      ctx.fillStyle = borderColor;\r\n      ctx.fill('evenodd');\r\n    }\r\n    ctx.beginPath();\r\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\r\n    ctx.fillStyle = backgroundColor;\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n  inRange(mouseX, mouseY, useFinalPosition) {\r\n    return inRange(this, mouseX, mouseY, useFinalPosition);\r\n  }\r\n  inXRange(mouseX, useFinalPosition) {\r\n    return inRange(this, mouseX, null, useFinalPosition);\r\n  }\r\n  inYRange(mouseY, useFinalPosition) {\r\n    return inRange(this, null, mouseY, useFinalPosition);\r\n  }\r\n  getCenterPoint(useFinalPosition) {\r\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\r\n    return {\r\n      x: horizontal ? (x + base) / 2 : x,\r\n      y: horizontal ? y : (y + base) / 2\r\n    };\r\n  }\r\n  getRange(axis) {\r\n    return axis === 'x' ? this.width / 2 : this.height / 2;\r\n  }\r\n}\r\nBarElement.id = 'bar';\r\nBarElement.defaults = {\r\n  borderSkipped: 'start',\r\n  borderWidth: 0,\r\n  borderRadius: 0,\r\n  inflateAmount: 'auto',\r\n  pointStyle: undefined\r\n};\r\nBarElement.defaultRoutes = {\r\n  backgroundColor: 'backgroundColor',\r\n  borderColor: 'borderColor'\r\n};\r\n\r\nvar elements = /*#__PURE__*/Object.freeze({\r\n__proto__: null,\r\nArcElement: ArcElement,\r\nLineElement: LineElement,\r\nPointElement: PointElement,\r\nBarElement: BarElement\r\n});\r\n\r\nfunction lttbDecimation(data, start, count, availableWidth, options) {\r\n  const samples = options.samples || availableWidth;\r\n  if (samples >= count) {\r\n    return data.slice(start, start + count);\r\n  }\r\n  const decimated = [];\r\n  const bucketWidth = (count - 2) / (samples - 2);\r\n  let sampledIndex = 0;\r\n  const endIndex = start + count - 1;\r\n  let a = start;\r\n  let i, maxAreaPoint, maxArea, area, nextA;\r\n  decimated[sampledIndex++] = data[a];\r\n  for (i = 0; i < samples - 2; i++) {\r\n    let avgX = 0;\r\n    let avgY = 0;\r\n    let j;\r\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\r\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\r\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\r\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\r\n      avgX += data[j].x;\r\n      avgY += data[j].y;\r\n    }\r\n    avgX /= avgRangeLength;\r\n    avgY /= avgRangeLength;\r\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\r\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\r\n    const {x: pointAx, y: pointAy} = data[a];\r\n    maxArea = area = -1;\r\n    for (j = rangeOffs; j < rangeTo; j++) {\r\n      area = 0.5 * Math.abs(\r\n        (pointAx - avgX) * (data[j].y - pointAy) -\r\n        (pointAx - data[j].x) * (avgY - pointAy)\r\n      );\r\n      if (area > maxArea) {\r\n        maxArea = area;\r\n        maxAreaPoint = data[j];\r\n        nextA = j;\r\n      }\r\n    }\r\n    decimated[sampledIndex++] = maxAreaPoint;\r\n    a = nextA;\r\n  }\r\n  decimated[sampledIndex++] = data[endIndex];\r\n  return decimated;\r\n}\r\nfunction minMaxDecimation(data, start, count, availableWidth) {\r\n  let avgX = 0;\r\n  let countX = 0;\r\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\r\n  const decimated = [];\r\n  const endIndex = start + count - 1;\r\n  const xMin = data[start].x;\r\n  const xMax = data[endIndex].x;\r\n  const dx = xMax - xMin;\r\n  for (i = start; i < start + count; ++i) {\r\n    point = data[i];\r\n    x = (point.x - xMin) / dx * availableWidth;\r\n    y = point.y;\r\n    const truncX = x | 0;\r\n    if (truncX === prevX) {\r\n      if (y < minY) {\r\n        minY = y;\r\n        minIndex = i;\r\n      } else if (y > maxY) {\r\n        maxY = y;\r\n        maxIndex = i;\r\n      }\r\n      avgX = (countX * avgX + point.x) / ++countX;\r\n    } else {\r\n      const lastIndex = i - 1;\r\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\r\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\r\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\r\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\r\n          decimated.push({\r\n            ...data[intermediateIndex1],\r\n            x: avgX,\r\n          });\r\n        }\r\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\r\n          decimated.push({\r\n            ...data[intermediateIndex2],\r\n            x: avgX\r\n          });\r\n        }\r\n      }\r\n      if (i > 0 && lastIndex !== startIndex) {\r\n        decimated.push(data[lastIndex]);\r\n      }\r\n      decimated.push(point);\r\n      prevX = truncX;\r\n      countX = 0;\r\n      minY = maxY = y;\r\n      minIndex = maxIndex = startIndex = i;\r\n    }\r\n  }\r\n  return decimated;\r\n}\r\nfunction cleanDecimatedDataset(dataset) {\r\n  if (dataset._decimated) {\r\n    const data = dataset._data;\r\n    delete dataset._decimated;\r\n    delete dataset._data;\r\n    Object.defineProperty(dataset, 'data', {value: data});\r\n  }\r\n}\r\nfunction cleanDecimatedData(chart) {\r\n  chart.data.datasets.forEach((dataset) => {\r\n    cleanDecimatedDataset(dataset);\r\n  });\r\n}\r\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\r\n  const pointCount = points.length;\r\n  let start = 0;\r\n  let count;\r\n  const {iScale} = meta;\r\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\r\n  if (minDefined) {\r\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\r\n  }\r\n  if (maxDefined) {\r\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\r\n  } else {\r\n    count = pointCount - start;\r\n  }\r\n  return {start, count};\r\n}\r\nvar plugin_decimation = {\r\n  id: 'decimation',\r\n  defaults: {\r\n    algorithm: 'min-max',\r\n    enabled: false,\r\n  },\r\n  beforeElementsUpdate: (chart, args, options) => {\r\n    if (!options.enabled) {\r\n      cleanDecimatedData(chart);\r\n      return;\r\n    }\r\n    const availableWidth = chart.width;\r\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\r\n      const {_data, indexAxis} = dataset;\r\n      const meta = chart.getDatasetMeta(datasetIndex);\r\n      const data = _data || dataset.data;\r\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\r\n        return;\r\n      }\r\n      if (meta.type !== 'line') {\r\n        return;\r\n      }\r\n      const xAxis = chart.scales[meta.xAxisID];\r\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\r\n        return;\r\n      }\r\n      if (chart.options.parsing) {\r\n        return;\r\n      }\r\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\r\n      const threshold = options.threshold || 4 * availableWidth;\r\n      if (count <= threshold) {\r\n        cleanDecimatedDataset(dataset);\r\n        return;\r\n      }\r\n      if (isNullOrUndef(_data)) {\r\n        dataset._data = data;\r\n        delete dataset.data;\r\n        Object.defineProperty(dataset, 'data', {\r\n          configurable: true,\r\n          enumerable: true,\r\n          get: function() {\r\n            return this._decimated;\r\n          },\r\n          set: function(d) {\r\n            this._data = d;\r\n          }\r\n        });\r\n      }\r\n      let decimated;\r\n      switch (options.algorithm) {\r\n      case 'lttb':\r\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\r\n        break;\r\n      case 'min-max':\r\n        decimated = minMaxDecimation(data, start, count, availableWidth);\r\n        break;\r\n      default:\r\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\r\n      }\r\n      dataset._decimated = decimated;\r\n    });\r\n  },\r\n  destroy(chart) {\r\n    cleanDecimatedData(chart);\r\n  }\r\n};\r\n\r\nfunction getLineByIndex(chart, index) {\r\n  const meta = chart.getDatasetMeta(index);\r\n  const visible = meta && chart.isDatasetVisible(index);\r\n  return visible ? meta.dataset : null;\r\n}\r\nfunction parseFillOption(line) {\r\n  const options = line.options;\r\n  const fillOption = options.fill;\r\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\r\n  if (fill === undefined) {\r\n    fill = !!options.backgroundColor;\r\n  }\r\n  if (fill === false || fill === null) {\r\n    return false;\r\n  }\r\n  if (fill === true) {\r\n    return 'origin';\r\n  }\r\n  return fill;\r\n}\r\nfunction decodeFill(line, index, count) {\r\n  const fill = parseFillOption(line);\r\n  if (isObject(fill)) {\r\n    return isNaN(fill.value) ? false : fill;\r\n  }\r\n  let target = parseFloat(fill);\r\n  if (isNumberFinite(target) && Math.floor(target) === target) {\r\n    if (fill[0] === '-' || fill[0] === '+') {\r\n      target = index + target;\r\n    }\r\n    if (target === index || target < 0 || target >= count) {\r\n      return false;\r\n    }\r\n    return target;\r\n  }\r\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\r\n}\r\nfunction computeLinearBoundary(source) {\r\n  const {scale = {}, fill} = source;\r\n  let target = null;\r\n  let horizontal;\r\n  if (fill === 'start') {\r\n    target = scale.bottom;\r\n  } else if (fill === 'end') {\r\n    target = scale.top;\r\n  } else if (isObject(fill)) {\r\n    target = scale.getPixelForValue(fill.value);\r\n  } else if (scale.getBasePixel) {\r\n    target = scale.getBasePixel();\r\n  }\r\n  if (isNumberFinite(target)) {\r\n    horizontal = scale.isHorizontal();\r\n    return {\r\n      x: horizontal ? target : null,\r\n      y: horizontal ? null : target\r\n    };\r\n  }\r\n  return null;\r\n}\r\nclass simpleArc {\r\n  constructor(opts) {\r\n    this.x = opts.x;\r\n    this.y = opts.y;\r\n    this.radius = opts.radius;\r\n  }\r\n  pathSegment(ctx, bounds, opts) {\r\n    const {x, y, radius} = this;\r\n    bounds = bounds || {start: 0, end: TAU};\r\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\r\n    return !opts.bounds;\r\n  }\r\n  interpolate(point) {\r\n    const {x, y, radius} = this;\r\n    const angle = point.angle;\r\n    return {\r\n      x: x + Math.cos(angle) * radius,\r\n      y: y + Math.sin(angle) * radius,\r\n      angle\r\n    };\r\n  }\r\n}\r\nfunction computeCircularBoundary(source) {\r\n  const {scale, fill} = source;\r\n  const options = scale.options;\r\n  const length = scale.getLabels().length;\r\n  const target = [];\r\n  const start = options.reverse ? scale.max : scale.min;\r\n  const end = options.reverse ? scale.min : scale.max;\r\n  let i, center, value;\r\n  if (fill === 'start') {\r\n    value = start;\r\n  } else if (fill === 'end') {\r\n    value = end;\r\n  } else if (isObject(fill)) {\r\n    value = fill.value;\r\n  } else {\r\n    value = scale.getBaseValue();\r\n  }\r\n  if (options.grid.circular) {\r\n    center = scale.getPointPositionForValue(0, start);\r\n    return new simpleArc({\r\n      x: center.x,\r\n      y: center.y,\r\n      radius: scale.getDistanceFromCenterForValue(value)\r\n    });\r\n  }\r\n  for (i = 0; i < length; ++i) {\r\n    target.push(scale.getPointPositionForValue(i, value));\r\n  }\r\n  return target;\r\n}\r\nfunction computeBoundary(source) {\r\n  const scale = source.scale || {};\r\n  if (scale.getPointPositionForValue) {\r\n    return computeCircularBoundary(source);\r\n  }\r\n  return computeLinearBoundary(source);\r\n}\r\nfunction findSegmentEnd(start, end, points) {\r\n  for (;end > start; end--) {\r\n    const point = points[end];\r\n    if (!isNaN(point.x) && !isNaN(point.y)) {\r\n      break;\r\n    }\r\n  }\r\n  return end;\r\n}\r\nfunction pointsFromSegments(boundary, line) {\r\n  const {x = null, y = null} = boundary || {};\r\n  const linePoints = line.points;\r\n  const points = [];\r\n  line.segments.forEach(({start, end}) => {\r\n    end = findSegmentEnd(start, end, linePoints);\r\n    const first = linePoints[start];\r\n    const last = linePoints[end];\r\n    if (y !== null) {\r\n      points.push({x: first.x, y});\r\n      points.push({x: last.x, y});\r\n    } else if (x !== null) {\r\n      points.push({x, y: first.y});\r\n      points.push({x, y: last.y});\r\n    }\r\n  });\r\n  return points;\r\n}\r\nfunction buildStackLine(source) {\r\n  const {scale, index, line} = source;\r\n  const points = [];\r\n  const segments = line.segments;\r\n  const sourcePoints = line.points;\r\n  const linesBelow = getLinesBelow(scale, index);\r\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\r\n  for (let i = 0; i < segments.length; i++) {\r\n    const segment = segments[i];\r\n    for (let j = segment.start; j <= segment.end; j++) {\r\n      addPointsBelow(points, sourcePoints[j], linesBelow);\r\n    }\r\n  }\r\n  return new LineElement({points, options: {}});\r\n}\r\nfunction getLinesBelow(scale, index) {\r\n  const below = [];\r\n  const metas = scale.getMatchingVisibleMetas('line');\r\n  for (let i = 0; i < metas.length; i++) {\r\n    const meta = metas[i];\r\n    if (meta.index === index) {\r\n      break;\r\n    }\r\n    if (!meta.hidden) {\r\n      below.unshift(meta.dataset);\r\n    }\r\n  }\r\n  return below;\r\n}\r\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\r\n  const postponed = [];\r\n  for (let j = 0; j < linesBelow.length; j++) {\r\n    const line = linesBelow[j];\r\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\r\n    if (!point || (first && last)) {\r\n      continue;\r\n    }\r\n    if (first) {\r\n      postponed.unshift(point);\r\n    } else {\r\n      points.push(point);\r\n      if (!last) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  points.push(...postponed);\r\n}\r\nfunction findPoint(line, sourcePoint, property) {\r\n  const point = line.interpolate(sourcePoint, property);\r\n  if (!point) {\r\n    return {};\r\n  }\r\n  const pointValue = point[property];\r\n  const segments = line.segments;\r\n  const linePoints = line.points;\r\n  let first = false;\r\n  let last = false;\r\n  for (let i = 0; i < segments.length; i++) {\r\n    const segment = segments[i];\r\n    const firstValue = linePoints[segment.start][property];\r\n    const lastValue = linePoints[segment.end][property];\r\n    if (_isBetween(pointValue, firstValue, lastValue)) {\r\n      first = pointValue === firstValue;\r\n      last = pointValue === lastValue;\r\n      break;\r\n    }\r\n  }\r\n  return {first, last, point};\r\n}\r\nfunction getTarget(source) {\r\n  const {chart, fill, line} = source;\r\n  if (isNumberFinite(fill)) {\r\n    return getLineByIndex(chart, fill);\r\n  }\r\n  if (fill === 'stack') {\r\n    return buildStackLine(source);\r\n  }\r\n  if (fill === 'shape') {\r\n    return true;\r\n  }\r\n  const boundary = computeBoundary(source);\r\n  if (boundary instanceof simpleArc) {\r\n    return boundary;\r\n  }\r\n  return createBoundaryLine(boundary, line);\r\n}\r\nfunction createBoundaryLine(boundary, line) {\r\n  let points = [];\r\n  let _loop = false;\r\n  if (isArray(boundary)) {\r\n    _loop = true;\r\n    points = boundary;\r\n  } else {\r\n    points = pointsFromSegments(boundary, line);\r\n  }\r\n  return points.length ? new LineElement({\r\n    points,\r\n    options: {tension: 0},\r\n    _loop,\r\n    _fullLoop: _loop\r\n  }) : null;\r\n}\r\nfunction resolveTarget(sources, index, propagate) {\r\n  const source = sources[index];\r\n  let fill = source.fill;\r\n  const visited = [index];\r\n  let target;\r\n  if (!propagate) {\r\n    return fill;\r\n  }\r\n  while (fill !== false && visited.indexOf(fill) === -1) {\r\n    if (!isNumberFinite(fill)) {\r\n      return fill;\r\n    }\r\n    target = sources[fill];\r\n    if (!target) {\r\n      return false;\r\n    }\r\n    if (target.visible) {\r\n      return fill;\r\n    }\r\n    visited.push(fill);\r\n    fill = target.fill;\r\n  }\r\n  return false;\r\n}\r\nfunction _clip(ctx, target, clipY) {\r\n  const {segments, points} = target;\r\n  let first = true;\r\n  let lineLoop = false;\r\n  ctx.beginPath();\r\n  for (const segment of segments) {\r\n    const {start, end} = segment;\r\n    const firstPoint = points[start];\r\n    const lastPoint = points[findSegmentEnd(start, end, points)];\r\n    if (first) {\r\n      ctx.moveTo(firstPoint.x, firstPoint.y);\r\n      first = false;\r\n    } else {\r\n      ctx.lineTo(firstPoint.x, clipY);\r\n      ctx.lineTo(firstPoint.x, firstPoint.y);\r\n    }\r\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\r\n    if (lineLoop) {\r\n      ctx.closePath();\r\n    } else {\r\n      ctx.lineTo(lastPoint.x, clipY);\r\n    }\r\n  }\r\n  ctx.lineTo(target.first().x, clipY);\r\n  ctx.closePath();\r\n  ctx.clip();\r\n}\r\nfunction getBounds(property, first, last, loop) {\r\n  if (loop) {\r\n    return;\r\n  }\r\n  let start = first[property];\r\n  let end = last[property];\r\n  if (property === 'angle') {\r\n    start = _normalizeAngle(start);\r\n    end = _normalizeAngle(end);\r\n  }\r\n  return {property, start, end};\r\n}\r\nfunction _getEdge(a, b, prop, fn) {\r\n  if (a && b) {\r\n    return fn(a[prop], b[prop]);\r\n  }\r\n  return a ? a[prop] : b ? b[prop] : 0;\r\n}\r\nfunction _segments(line, target, property) {\r\n  const segments = line.segments;\r\n  const points = line.points;\r\n  const tpoints = target.points;\r\n  const parts = [];\r\n  for (const segment of segments) {\r\n    let {start, end} = segment;\r\n    end = findSegmentEnd(start, end, points);\r\n    const bounds = getBounds(property, points[start], points[end], segment.loop);\r\n    if (!target.segments) {\r\n      parts.push({\r\n        source: segment,\r\n        target: bounds,\r\n        start: points[start],\r\n        end: points[end]\r\n      });\r\n      continue;\r\n    }\r\n    const targetSegments = _boundSegments(target, bounds);\r\n    for (const tgt of targetSegments) {\r\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\r\n      const fillSources = _boundSegment(segment, points, subBounds);\r\n      for (const fillSource of fillSources) {\r\n        parts.push({\r\n          source: fillSource,\r\n          target: tgt,\r\n          start: {\r\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\r\n          },\r\n          end: {\r\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return parts;\r\n}\r\nfunction clipBounds(ctx, scale, bounds) {\r\n  const {top, bottom} = scale.chart.chartArea;\r\n  const {property, start, end} = bounds || {};\r\n  if (property === 'x') {\r\n    ctx.beginPath();\r\n    ctx.rect(start, top, end - start, bottom - top);\r\n    ctx.clip();\r\n  }\r\n}\r\nfunction interpolatedLineTo(ctx, target, point, property) {\r\n  const interpolatedPoint = target.interpolate(point, property);\r\n  if (interpolatedPoint) {\r\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\r\n  }\r\n}\r\nfunction _fill(ctx, cfg) {\r\n  const {line, target, property, color, scale} = cfg;\r\n  const segments = _segments(line, target, property);\r\n  for (const {source: src, target: tgt, start, end} of segments) {\r\n    const {style: {backgroundColor = color} = {}} = src;\r\n    const notShape = target !== true;\r\n    ctx.save();\r\n    ctx.fillStyle = backgroundColor;\r\n    clipBounds(ctx, scale, notShape && getBounds(property, start, end));\r\n    ctx.beginPath();\r\n    const lineLoop = !!line.pathSegment(ctx, src);\r\n    let loop;\r\n    if (notShape) {\r\n      if (lineLoop) {\r\n        ctx.closePath();\r\n      } else {\r\n        interpolatedLineTo(ctx, target, end, property);\r\n      }\r\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\r\n      loop = lineLoop && targetLoop;\r\n      if (!loop) {\r\n        interpolatedLineTo(ctx, target, start, property);\r\n      }\r\n    }\r\n    ctx.closePath();\r\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\r\n    ctx.restore();\r\n  }\r\n}\r\nfunction doFill(ctx, cfg) {\r\n  const {line, target, above, below, area, scale} = cfg;\r\n  const property = line._loop ? 'angle' : cfg.axis;\r\n  ctx.save();\r\n  if (property === 'x' && below !== above) {\r\n    _clip(ctx, target, area.top);\r\n    _fill(ctx, {line, target, color: above, scale, property});\r\n    ctx.restore();\r\n    ctx.save();\r\n    _clip(ctx, target, area.bottom);\r\n  }\r\n  _fill(ctx, {line, target, color: below, scale, property});\r\n  ctx.restore();\r\n}\r\nfunction drawfill(ctx, source, area) {\r\n  const target = getTarget(source);\r\n  const {line, scale, axis} = source;\r\n  const lineOpts = line.options;\r\n  const fillOption = lineOpts.fill;\r\n  const color = lineOpts.backgroundColor;\r\n  const {above = color, below = color} = fillOption || {};\r\n  if (target && line.points.length) {\r\n    clipArea(ctx, area);\r\n    doFill(ctx, {line, target, above, below, area, scale, axis});\r\n    unclipArea(ctx);\r\n  }\r\n}\r\nvar plugin_filler = {\r\n  id: 'filler',\r\n  afterDatasetsUpdate(chart, _args, options) {\r\n    const count = (chart.data.datasets || []).length;\r\n    const sources = [];\r\n    let meta, i, line, source;\r\n    for (i = 0; i < count; ++i) {\r\n      meta = chart.getDatasetMeta(i);\r\n      line = meta.dataset;\r\n      source = null;\r\n      if (line && line.options && line instanceof LineElement) {\r\n        source = {\r\n          visible: chart.isDatasetVisible(i),\r\n          index: i,\r\n          fill: decodeFill(line, i, count),\r\n          chart,\r\n          axis: meta.controller.options.indexAxis,\r\n          scale: meta.vScale,\r\n          line,\r\n        };\r\n      }\r\n      meta.$filler = source;\r\n      sources.push(source);\r\n    }\r\n    for (i = 0; i < count; ++i) {\r\n      source = sources[i];\r\n      if (!source || source.fill === false) {\r\n        continue;\r\n      }\r\n      source.fill = resolveTarget(sources, i, options.propagate);\r\n    }\r\n  },\r\n  beforeDraw(chart, _args, options) {\r\n    const draw = options.drawTime === 'beforeDraw';\r\n    const metasets = chart.getSortedVisibleDatasetMetas();\r\n    const area = chart.chartArea;\r\n    for (let i = metasets.length - 1; i >= 0; --i) {\r\n      const source = metasets[i].$filler;\r\n      if (!source) {\r\n        continue;\r\n      }\r\n      source.line.updateControlPoints(area, source.axis);\r\n      if (draw) {\r\n        drawfill(chart.ctx, source, area);\r\n      }\r\n    }\r\n  },\r\n  beforeDatasetsDraw(chart, _args, options) {\r\n    if (options.drawTime !== 'beforeDatasetsDraw') {\r\n      return;\r\n    }\r\n    const metasets = chart.getSortedVisibleDatasetMetas();\r\n    for (let i = metasets.length - 1; i >= 0; --i) {\r\n      const source = metasets[i].$filler;\r\n      if (source) {\r\n        drawfill(chart.ctx, source, chart.chartArea);\r\n      }\r\n    }\r\n  },\r\n  beforeDatasetDraw(chart, args, options) {\r\n    const source = args.meta.$filler;\r\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\r\n      return;\r\n    }\r\n    drawfill(chart.ctx, source, chart.chartArea);\r\n  },\r\n  defaults: {\r\n    propagate: true,\r\n    drawTime: 'beforeDatasetDraw'\r\n  }\r\n};\r\n\r\nconst getBoxSize = (labelOpts, fontSize) => {\r\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\r\n  if (labelOpts.usePointStyle) {\r\n    boxHeight = Math.min(boxHeight, fontSize);\r\n    boxWidth = Math.min(boxWidth, fontSize);\r\n  }\r\n  return {\r\n    boxWidth,\r\n    boxHeight,\r\n    itemHeight: Math.max(fontSize, boxHeight)\r\n  };\r\n};\r\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\r\nclass Legend extends Element {\r\n  constructor(config) {\r\n    super();\r\n    this._added = false;\r\n    this.legendHitBoxes = [];\r\n    this._hoveredItem = null;\r\n    this.doughnutMode = false;\r\n    this.chart = config.chart;\r\n    this.options = config.options;\r\n    this.ctx = config.ctx;\r\n    this.legendItems = undefined;\r\n    this.columnSizes = undefined;\r\n    this.lineWidths = undefined;\r\n    this.maxHeight = undefined;\r\n    this.maxWidth = undefined;\r\n    this.top = undefined;\r\n    this.bottom = undefined;\r\n    this.left = undefined;\r\n    this.right = undefined;\r\n    this.height = undefined;\r\n    this.width = undefined;\r\n    this._margins = undefined;\r\n    this.position = undefined;\r\n    this.weight = undefined;\r\n    this.fullSize = undefined;\r\n  }\r\n  update(maxWidth, maxHeight, margins) {\r\n    this.maxWidth = maxWidth;\r\n    this.maxHeight = maxHeight;\r\n    this._margins = margins;\r\n    this.setDimensions();\r\n    this.buildLabels();\r\n    this.fit();\r\n  }\r\n  setDimensions() {\r\n    if (this.isHorizontal()) {\r\n      this.width = this.maxWidth;\r\n      this.left = this._margins.left;\r\n      this.right = this.width;\r\n    } else {\r\n      this.height = this.maxHeight;\r\n      this.top = this._margins.top;\r\n      this.bottom = this.height;\r\n    }\r\n  }\r\n  buildLabels() {\r\n    const labelOpts = this.options.labels || {};\r\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\r\n    if (labelOpts.filter) {\r\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\r\n    }\r\n    if (labelOpts.sort) {\r\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\r\n    }\r\n    if (this.options.reverse) {\r\n      legendItems.reverse();\r\n    }\r\n    this.legendItems = legendItems;\r\n  }\r\n  fit() {\r\n    const {options, ctx} = this;\r\n    if (!options.display) {\r\n      this.width = this.height = 0;\r\n      return;\r\n    }\r\n    const labelOpts = options.labels;\r\n    const labelFont = toFont(labelOpts.font);\r\n    const fontSize = labelFont.size;\r\n    const titleHeight = this._computeTitleHeight();\r\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\r\n    let width, height;\r\n    ctx.font = labelFont.string;\r\n    if (this.isHorizontal()) {\r\n      width = this.maxWidth;\r\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\r\n    } else {\r\n      height = this.maxHeight;\r\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\r\n    }\r\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\r\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\r\n  }\r\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\r\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\r\n    const hitboxes = this.legendHitBoxes = [];\r\n    const lineWidths = this.lineWidths = [0];\r\n    const lineHeight = itemHeight + padding;\r\n    let totalHeight = titleHeight;\r\n    ctx.textAlign = 'left';\r\n    ctx.textBaseline = 'middle';\r\n    let row = -1;\r\n    let top = -lineHeight;\r\n    this.legendItems.forEach((legendItem, i) => {\r\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\r\n        totalHeight += lineHeight;\r\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n        top += lineHeight;\r\n        row++;\r\n      }\r\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\r\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\r\n    });\r\n    return totalHeight;\r\n  }\r\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\r\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\r\n    const hitboxes = this.legendHitBoxes = [];\r\n    const columnSizes = this.columnSizes = [];\r\n    const heightLimit = maxHeight - titleHeight;\r\n    let totalWidth = padding;\r\n    let currentColWidth = 0;\r\n    let currentColHeight = 0;\r\n    let left = 0;\r\n    let col = 0;\r\n    this.legendItems.forEach((legendItem, i) => {\r\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\r\n        totalWidth += currentColWidth + padding;\r\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\r\n        left += currentColWidth + padding;\r\n        col++;\r\n        currentColWidth = currentColHeight = 0;\r\n      }\r\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\r\n      currentColWidth = Math.max(currentColWidth, itemWidth);\r\n      currentColHeight += itemHeight + padding;\r\n    });\r\n    totalWidth += currentColWidth;\r\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\r\n    return totalWidth;\r\n  }\r\n  adjustHitBoxes() {\r\n    if (!this.options.display) {\r\n      return;\r\n    }\r\n    const titleHeight = this._computeTitleHeight();\r\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\r\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\r\n    if (this.isHorizontal()) {\r\n      let row = 0;\r\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\r\n      for (const hitbox of hitboxes) {\r\n        if (row !== hitbox.row) {\r\n          row = hitbox.row;\r\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\r\n        }\r\n        hitbox.top += this.top + titleHeight + padding;\r\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\r\n        left += hitbox.width + padding;\r\n      }\r\n    } else {\r\n      let col = 0;\r\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\r\n      for (const hitbox of hitboxes) {\r\n        if (hitbox.col !== col) {\r\n          col = hitbox.col;\r\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\r\n        }\r\n        hitbox.top = top;\r\n        hitbox.left += this.left + padding;\r\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\r\n        top += hitbox.height + padding;\r\n      }\r\n    }\r\n  }\r\n  isHorizontal() {\r\n    return this.options.position === 'top' || this.options.position === 'bottom';\r\n  }\r\n  draw() {\r\n    if (this.options.display) {\r\n      const ctx = this.ctx;\r\n      clipArea(ctx, this);\r\n      this._draw();\r\n      unclipArea(ctx);\r\n    }\r\n  }\r\n  _draw() {\r\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\r\n    const {align, labels: labelOpts} = opts;\r\n    const defaultColor = defaults.color;\r\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\r\n    const labelFont = toFont(labelOpts.font);\r\n    const {color: fontColor, padding} = labelOpts;\r\n    const fontSize = labelFont.size;\r\n    const halfFontSize = fontSize / 2;\r\n    let cursor;\r\n    this.drawTitle();\r\n    ctx.textAlign = rtlHelper.textAlign('left');\r\n    ctx.textBaseline = 'middle';\r\n    ctx.lineWidth = 0.5;\r\n    ctx.font = labelFont.string;\r\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\r\n    const drawLegendBox = function(x, y, legendItem) {\r\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\r\n        return;\r\n      }\r\n      ctx.save();\r\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\r\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\r\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\r\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\r\n      ctx.lineWidth = lineWidth;\r\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\r\n      if (labelOpts.usePointStyle) {\r\n        const drawOptions = {\r\n          radius: boxWidth * Math.SQRT2 / 2,\r\n          pointStyle: legendItem.pointStyle,\r\n          rotation: legendItem.rotation,\r\n          borderWidth: lineWidth\r\n        };\r\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\r\n        const centerY = y + halfFontSize;\r\n        drawPoint(ctx, drawOptions, centerX, centerY);\r\n      } else {\r\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\r\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\r\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\r\n        ctx.beginPath();\r\n        if (Object.values(borderRadius).some(v => v !== 0)) {\r\n          addRoundedRectPath(ctx, {\r\n            x: xBoxLeft,\r\n            y: yBoxTop,\r\n            w: boxWidth,\r\n            h: boxHeight,\r\n            radius: borderRadius,\r\n          });\r\n        } else {\r\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\r\n        }\r\n        ctx.fill();\r\n        if (lineWidth !== 0) {\r\n          ctx.stroke();\r\n        }\r\n      }\r\n      ctx.restore();\r\n    };\r\n    const fillText = function(x, y, legendItem) {\r\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\r\n        strikethrough: legendItem.hidden,\r\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\r\n      });\r\n    };\r\n    const isHorizontal = this.isHorizontal();\r\n    const titleHeight = this._computeTitleHeight();\r\n    if (isHorizontal) {\r\n      cursor = {\r\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\r\n        y: this.top + padding + titleHeight,\r\n        line: 0\r\n      };\r\n    } else {\r\n      cursor = {\r\n        x: this.left + padding,\r\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\r\n        line: 0\r\n      };\r\n    }\r\n    overrideTextDirection(this.ctx, opts.textDirection);\r\n    const lineHeight = itemHeight + padding;\r\n    this.legendItems.forEach((legendItem, i) => {\r\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\r\n      ctx.fillStyle = legendItem.fontColor || fontColor;\r\n      const textWidth = ctx.measureText(legendItem.text).width;\r\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\r\n      const width = boxWidth + halfFontSize + textWidth;\r\n      let x = cursor.x;\r\n      let y = cursor.y;\r\n      rtlHelper.setWidth(this.width);\r\n      if (isHorizontal) {\r\n        if (i > 0 && x + width + padding > this.right) {\r\n          y = cursor.y += lineHeight;\r\n          cursor.line++;\r\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\r\n        }\r\n      } else if (i > 0 && y + lineHeight > this.bottom) {\r\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\r\n        cursor.line++;\r\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\r\n      }\r\n      const realX = rtlHelper.x(x);\r\n      drawLegendBox(realX, y, legendItem);\r\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\r\n      fillText(rtlHelper.x(x), y, legendItem);\r\n      if (isHorizontal) {\r\n        cursor.x += width + padding;\r\n      } else {\r\n        cursor.y += lineHeight;\r\n      }\r\n    });\r\n    restoreTextDirection(this.ctx, opts.textDirection);\r\n  }\r\n  drawTitle() {\r\n    const opts = this.options;\r\n    const titleOpts = opts.title;\r\n    const titleFont = toFont(titleOpts.font);\r\n    const titlePadding = toPadding(titleOpts.padding);\r\n    if (!titleOpts.display) {\r\n      return;\r\n    }\r\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\r\n    const ctx = this.ctx;\r\n    const position = titleOpts.position;\r\n    const halfFontSize = titleFont.size / 2;\r\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\r\n    let y;\r\n    let left = this.left;\r\n    let maxWidth = this.width;\r\n    if (this.isHorizontal()) {\r\n      maxWidth = Math.max(...this.lineWidths);\r\n      y = this.top + topPaddingPlusHalfFontSize;\r\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\r\n    } else {\r\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\r\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\r\n    }\r\n    const x = _alignStartEnd(position, left, left + maxWidth);\r\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\r\n    ctx.textBaseline = 'middle';\r\n    ctx.strokeStyle = titleOpts.color;\r\n    ctx.fillStyle = titleOpts.color;\r\n    ctx.font = titleFont.string;\r\n    renderText(ctx, titleOpts.text, x, y, titleFont);\r\n  }\r\n  _computeTitleHeight() {\r\n    const titleOpts = this.options.title;\r\n    const titleFont = toFont(titleOpts.font);\r\n    const titlePadding = toPadding(titleOpts.padding);\r\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\r\n  }\r\n  _getLegendItemAt(x, y) {\r\n    let i, hitBox, lh;\r\n    if (_isBetween(x, this.left, this.right)\r\n      && _isBetween(y, this.top, this.bottom)) {\r\n      lh = this.legendHitBoxes;\r\n      for (i = 0; i < lh.length; ++i) {\r\n        hitBox = lh[i];\r\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\r\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\r\n          return this.legendItems[i];\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  handleEvent(e) {\r\n    const opts = this.options;\r\n    if (!isListened(e.type, opts)) {\r\n      return;\r\n    }\r\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\r\n    if (e.type === 'mousemove') {\r\n      const previous = this._hoveredItem;\r\n      const sameItem = itemsEqual(previous, hoveredItem);\r\n      if (previous && !sameItem) {\r\n        callback(opts.onLeave, [e, previous, this], this);\r\n      }\r\n      this._hoveredItem = hoveredItem;\r\n      if (hoveredItem && !sameItem) {\r\n        callback(opts.onHover, [e, hoveredItem, this], this);\r\n      }\r\n    } else if (hoveredItem) {\r\n      callback(opts.onClick, [e, hoveredItem, this], this);\r\n    }\r\n  }\r\n}\r\nfunction isListened(type, opts) {\r\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\r\n    return true;\r\n  }\r\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nvar plugin_legend = {\r\n  id: 'legend',\r\n  _element: Legend,\r\n  start(chart, _args, options) {\r\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\r\n    layouts.configure(chart, legend, options);\r\n    layouts.addBox(chart, legend);\r\n  },\r\n  stop(chart) {\r\n    layouts.removeBox(chart, chart.legend);\r\n    delete chart.legend;\r\n  },\r\n  beforeUpdate(chart, _args, options) {\r\n    const legend = chart.legend;\r\n    layouts.configure(chart, legend, options);\r\n    legend.options = options;\r\n  },\r\n  afterUpdate(chart) {\r\n    const legend = chart.legend;\r\n    legend.buildLabels();\r\n    legend.adjustHitBoxes();\r\n  },\r\n  afterEvent(chart, args) {\r\n    if (!args.replay) {\r\n      chart.legend.handleEvent(args.event);\r\n    }\r\n  },\r\n  defaults: {\r\n    display: true,\r\n    position: 'top',\r\n    align: 'center',\r\n    fullSize: true,\r\n    reverse: false,\r\n    weight: 1000,\r\n    onClick(e, legendItem, legend) {\r\n      const index = legendItem.datasetIndex;\r\n      const ci = legend.chart;\r\n      if (ci.isDatasetVisible(index)) {\r\n        ci.hide(index);\r\n        legendItem.hidden = true;\r\n      } else {\r\n        ci.show(index);\r\n        legendItem.hidden = false;\r\n      }\r\n    },\r\n    onHover: null,\r\n    onLeave: null,\r\n    labels: {\r\n      color: (ctx) => ctx.chart.options.color,\r\n      boxWidth: 40,\r\n      padding: 10,\r\n      generateLabels(chart) {\r\n        const datasets = chart.data.datasets;\r\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\r\n        return chart._getSortedDatasetMetas().map((meta) => {\r\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\r\n          const borderWidth = toPadding(style.borderWidth);\r\n          return {\r\n            text: datasets[meta.index].label,\r\n            fillStyle: style.backgroundColor,\r\n            fontColor: color,\r\n            hidden: !meta.visible,\r\n            lineCap: style.borderCapStyle,\r\n            lineDash: style.borderDash,\r\n            lineDashOffset: style.borderDashOffset,\r\n            lineJoin: style.borderJoinStyle,\r\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\r\n            strokeStyle: style.borderColor,\r\n            pointStyle: pointStyle || style.pointStyle,\r\n            rotation: style.rotation,\r\n            textAlign: textAlign || style.textAlign,\r\n            borderRadius: 0,\r\n            datasetIndex: meta.index\r\n          };\r\n        }, this);\r\n      }\r\n    },\r\n    title: {\r\n      color: (ctx) => ctx.chart.options.color,\r\n      display: false,\r\n      position: 'center',\r\n      text: '',\r\n    }\r\n  },\r\n  descriptors: {\r\n    _scriptable: (name) => !name.startsWith('on'),\r\n    labels: {\r\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\r\n    }\r\n  },\r\n};\r\n\r\nclass Title extends Element {\r\n  constructor(config) {\r\n    super();\r\n    this.chart = config.chart;\r\n    this.options = config.options;\r\n    this.ctx = config.ctx;\r\n    this._padding = undefined;\r\n    this.top = undefined;\r\n    this.bottom = undefined;\r\n    this.left = undefined;\r\n    this.right = undefined;\r\n    this.width = undefined;\r\n    this.height = undefined;\r\n    this.position = undefined;\r\n    this.weight = undefined;\r\n    this.fullSize = undefined;\r\n  }\r\n  update(maxWidth, maxHeight) {\r\n    const opts = this.options;\r\n    this.left = 0;\r\n    this.top = 0;\r\n    if (!opts.display) {\r\n      this.width = this.height = this.right = this.bottom = 0;\r\n      return;\r\n    }\r\n    this.width = this.right = maxWidth;\r\n    this.height = this.bottom = maxHeight;\r\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\r\n    this._padding = toPadding(opts.padding);\r\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\r\n    if (this.isHorizontal()) {\r\n      this.height = textSize;\r\n    } else {\r\n      this.width = textSize;\r\n    }\r\n  }\r\n  isHorizontal() {\r\n    const pos = this.options.position;\r\n    return pos === 'top' || pos === 'bottom';\r\n  }\r\n  _drawArgs(offset) {\r\n    const {top, left, bottom, right, options} = this;\r\n    const align = options.align;\r\n    let rotation = 0;\r\n    let maxWidth, titleX, titleY;\r\n    if (this.isHorizontal()) {\r\n      titleX = _alignStartEnd(align, left, right);\r\n      titleY = top + offset;\r\n      maxWidth = right - left;\r\n    } else {\r\n      if (options.position === 'left') {\r\n        titleX = left + offset;\r\n        titleY = _alignStartEnd(align, bottom, top);\r\n        rotation = PI * -0.5;\r\n      } else {\r\n        titleX = right - offset;\r\n        titleY = _alignStartEnd(align, top, bottom);\r\n        rotation = PI * 0.5;\r\n      }\r\n      maxWidth = bottom - top;\r\n    }\r\n    return {titleX, titleY, maxWidth, rotation};\r\n  }\r\n  draw() {\r\n    const ctx = this.ctx;\r\n    const opts = this.options;\r\n    if (!opts.display) {\r\n      return;\r\n    }\r\n    const fontOpts = toFont(opts.font);\r\n    const lineHeight = fontOpts.lineHeight;\r\n    const offset = lineHeight / 2 + this._padding.top;\r\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\r\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\r\n      color: opts.color,\r\n      maxWidth,\r\n      rotation,\r\n      textAlign: _toLeftRightCenter(opts.align),\r\n      textBaseline: 'middle',\r\n      translation: [titleX, titleY],\r\n    });\r\n  }\r\n}\r\nfunction createTitle(chart, titleOpts) {\r\n  const title = new Title({\r\n    ctx: chart.ctx,\r\n    options: titleOpts,\r\n    chart\r\n  });\r\n  layouts.configure(chart, title, titleOpts);\r\n  layouts.addBox(chart, title);\r\n  chart.titleBlock = title;\r\n}\r\nvar plugin_title = {\r\n  id: 'title',\r\n  _element: Title,\r\n  start(chart, _args, options) {\r\n    createTitle(chart, options);\r\n  },\r\n  stop(chart) {\r\n    const titleBlock = chart.titleBlock;\r\n    layouts.removeBox(chart, titleBlock);\r\n    delete chart.titleBlock;\r\n  },\r\n  beforeUpdate(chart, _args, options) {\r\n    const title = chart.titleBlock;\r\n    layouts.configure(chart, title, options);\r\n    title.options = options;\r\n  },\r\n  defaults: {\r\n    align: 'center',\r\n    display: false,\r\n    font: {\r\n      weight: 'bold',\r\n    },\r\n    fullSize: true,\r\n    padding: 10,\r\n    position: 'top',\r\n    text: '',\r\n    weight: 2000\r\n  },\r\n  defaultRoutes: {\r\n    color: 'color'\r\n  },\r\n  descriptors: {\r\n    _scriptable: true,\r\n    _indexable: false,\r\n  },\r\n};\r\n\r\nconst map = new WeakMap();\r\nvar plugin_subtitle = {\r\n  id: 'subtitle',\r\n  start(chart, _args, options) {\r\n    const title = new Title({\r\n      ctx: chart.ctx,\r\n      options,\r\n      chart\r\n    });\r\n    layouts.configure(chart, title, options);\r\n    layouts.addBox(chart, title);\r\n    map.set(chart, title);\r\n  },\r\n  stop(chart) {\r\n    layouts.removeBox(chart, map.get(chart));\r\n    map.delete(chart);\r\n  },\r\n  beforeUpdate(chart, _args, options) {\r\n    const title = map.get(chart);\r\n    layouts.configure(chart, title, options);\r\n    title.options = options;\r\n  },\r\n  defaults: {\r\n    align: 'center',\r\n    display: false,\r\n    font: {\r\n      weight: 'normal',\r\n    },\r\n    fullSize: true,\r\n    padding: 0,\r\n    position: 'top',\r\n    text: '',\r\n    weight: 1500\r\n  },\r\n  defaultRoutes: {\r\n    color: 'color'\r\n  },\r\n  descriptors: {\r\n    _scriptable: true,\r\n    _indexable: false,\r\n  },\r\n};\r\n\r\nconst positioners = {\r\n  average(items) {\r\n    if (!items.length) {\r\n      return false;\r\n    }\r\n    let i, len;\r\n    let x = 0;\r\n    let y = 0;\r\n    let count = 0;\r\n    for (i = 0, len = items.length; i < len; ++i) {\r\n      const el = items[i].element;\r\n      if (el && el.hasValue()) {\r\n        const pos = el.tooltipPosition();\r\n        x += pos.x;\r\n        y += pos.y;\r\n        ++count;\r\n      }\r\n    }\r\n    return {\r\n      x: x / count,\r\n      y: y / count\r\n    };\r\n  },\r\n  nearest(items, eventPosition) {\r\n    if (!items.length) {\r\n      return false;\r\n    }\r\n    let x = eventPosition.x;\r\n    let y = eventPosition.y;\r\n    let minDistance = Number.POSITIVE_INFINITY;\r\n    let i, len, nearestElement;\r\n    for (i = 0, len = items.length; i < len; ++i) {\r\n      const el = items[i].element;\r\n      if (el && el.hasValue()) {\r\n        const center = el.getCenterPoint();\r\n        const d = distanceBetweenPoints(eventPosition, center);\r\n        if (d < minDistance) {\r\n          minDistance = d;\r\n          nearestElement = el;\r\n        }\r\n      }\r\n    }\r\n    if (nearestElement) {\r\n      const tp = nearestElement.tooltipPosition();\r\n      x = tp.x;\r\n      y = tp.y;\r\n    }\r\n    return {\r\n      x,\r\n      y\r\n    };\r\n  }\r\n};\r\nfunction pushOrConcat(base, toPush) {\r\n  if (toPush) {\r\n    if (isArray(toPush)) {\r\n      Array.prototype.push.apply(base, toPush);\r\n    } else {\r\n      base.push(toPush);\r\n    }\r\n  }\r\n  return base;\r\n}\r\nfunction splitNewlines(str) {\r\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\r\n    return str.split('\\n');\r\n  }\r\n  return str;\r\n}\r\nfunction createTooltipItem(chart, item) {\r\n  const {element, datasetIndex, index} = item;\r\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\r\n  const {label, value} = controller.getLabelAndValue(index);\r\n  return {\r\n    chart,\r\n    label,\r\n    parsed: controller.getParsed(index),\r\n    raw: chart.data.datasets[datasetIndex].data[index],\r\n    formattedValue: value,\r\n    dataset: controller.getDataset(),\r\n    dataIndex: index,\r\n    datasetIndex,\r\n    element\r\n  };\r\n}\r\nfunction getTooltipSize(tooltip, options) {\r\n  const ctx = tooltip.chart.ctx;\r\n  const {body, footer, title} = tooltip;\r\n  const {boxWidth, boxHeight} = options;\r\n  const bodyFont = toFont(options.bodyFont);\r\n  const titleFont = toFont(options.titleFont);\r\n  const footerFont = toFont(options.footerFont);\r\n  const titleLineCount = title.length;\r\n  const footerLineCount = footer.length;\r\n  const bodyLineItemCount = body.length;\r\n  const padding = toPadding(options.padding);\r\n  let height = padding.height;\r\n  let width = 0;\r\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\r\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\r\n  if (titleLineCount) {\r\n    height += titleLineCount * titleFont.lineHeight\r\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\r\n\t\t\t+ options.titleMarginBottom;\r\n  }\r\n  if (combinedBodyLength) {\r\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\r\n    height += bodyLineItemCount * bodyLineHeight\r\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\r\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\r\n  }\r\n  if (footerLineCount) {\r\n    height += options.footerMarginTop\r\n\t\t\t+ footerLineCount * footerFont.lineHeight\r\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\r\n  }\r\n  let widthPadding = 0;\r\n  const maxLineWidth = function(line) {\r\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\r\n  };\r\n  ctx.save();\r\n  ctx.font = titleFont.string;\r\n  each(tooltip.title, maxLineWidth);\r\n  ctx.font = bodyFont.string;\r\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\r\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\r\n  each(body, (bodyItem) => {\r\n    each(bodyItem.before, maxLineWidth);\r\n    each(bodyItem.lines, maxLineWidth);\r\n    each(bodyItem.after, maxLineWidth);\r\n  });\r\n  widthPadding = 0;\r\n  ctx.font = footerFont.string;\r\n  each(tooltip.footer, maxLineWidth);\r\n  ctx.restore();\r\n  width += padding.width;\r\n  return {width, height};\r\n}\r\nfunction determineYAlign(chart, size) {\r\n  const {y, height} = size;\r\n  if (y < height / 2) {\r\n    return 'top';\r\n  } else if (y > (chart.height - height / 2)) {\r\n    return 'bottom';\r\n  }\r\n  return 'center';\r\n}\r\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\r\n  const {x, width} = size;\r\n  const caret = options.caretSize + options.caretPadding;\r\n  if (xAlign === 'left' && x + width + caret > chart.width) {\r\n    return true;\r\n  }\r\n  if (xAlign === 'right' && x - width - caret < 0) {\r\n    return true;\r\n  }\r\n}\r\nfunction determineXAlign(chart, options, size, yAlign) {\r\n  const {x, width} = size;\r\n  const {width: chartWidth, chartArea: {left, right}} = chart;\r\n  let xAlign = 'center';\r\n  if (yAlign === 'center') {\r\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\r\n  } else if (x <= width / 2) {\r\n    xAlign = 'left';\r\n  } else if (x >= chartWidth - width / 2) {\r\n    xAlign = 'right';\r\n  }\r\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\r\n    xAlign = 'center';\r\n  }\r\n  return xAlign;\r\n}\r\nfunction determineAlignment(chart, options, size) {\r\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\r\n  return {\r\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\r\n    yAlign\r\n  };\r\n}\r\nfunction alignX(size, xAlign) {\r\n  let {x, width} = size;\r\n  if (xAlign === 'right') {\r\n    x -= width;\r\n  } else if (xAlign === 'center') {\r\n    x -= (width / 2);\r\n  }\r\n  return x;\r\n}\r\nfunction alignY(size, yAlign, paddingAndSize) {\r\n  let {y, height} = size;\r\n  if (yAlign === 'top') {\r\n    y += paddingAndSize;\r\n  } else if (yAlign === 'bottom') {\r\n    y -= height + paddingAndSize;\r\n  } else {\r\n    y -= (height / 2);\r\n  }\r\n  return y;\r\n}\r\nfunction getBackgroundPoint(options, size, alignment, chart) {\r\n  const {caretSize, caretPadding, cornerRadius} = options;\r\n  const {xAlign, yAlign} = alignment;\r\n  const paddingAndSize = caretSize + caretPadding;\r\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\r\n  let x = alignX(size, xAlign);\r\n  const y = alignY(size, yAlign, paddingAndSize);\r\n  if (yAlign === 'center') {\r\n    if (xAlign === 'left') {\r\n      x += paddingAndSize;\r\n    } else if (xAlign === 'right') {\r\n      x -= paddingAndSize;\r\n    }\r\n  } else if (xAlign === 'left') {\r\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\r\n  } else if (xAlign === 'right') {\r\n    x += Math.max(topRight, bottomRight) + caretSize;\r\n  }\r\n  return {\r\n    x: _limitValue(x, 0, chart.width - size.width),\r\n    y: _limitValue(y, 0, chart.height - size.height)\r\n  };\r\n}\r\nfunction getAlignedX(tooltip, align, options) {\r\n  const padding = toPadding(options.padding);\r\n  return align === 'center'\r\n    ? tooltip.x + tooltip.width / 2\r\n    : align === 'right'\r\n      ? tooltip.x + tooltip.width - padding.right\r\n      : tooltip.x + padding.left;\r\n}\r\nfunction getBeforeAfterBodyLines(callback) {\r\n  return pushOrConcat([], splitNewlines(callback));\r\n}\r\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\r\n  return createContext(parent, {\r\n    tooltip,\r\n    tooltipItems,\r\n    type: 'tooltip'\r\n  });\r\n}\r\nfunction overrideCallbacks(callbacks, context) {\r\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\r\n  return override ? callbacks.override(override) : callbacks;\r\n}\r\nclass Tooltip extends Element {\r\n  constructor(config) {\r\n    super();\r\n    this.opacity = 0;\r\n    this._active = [];\r\n    this._eventPosition = undefined;\r\n    this._size = undefined;\r\n    this._cachedAnimations = undefined;\r\n    this._tooltipItems = [];\r\n    this.$animations = undefined;\r\n    this.$context = undefined;\r\n    this.chart = config.chart || config._chart;\r\n    this._chart = this.chart;\r\n    this.options = config.options;\r\n    this.dataPoints = undefined;\r\n    this.title = undefined;\r\n    this.beforeBody = undefined;\r\n    this.body = undefined;\r\n    this.afterBody = undefined;\r\n    this.footer = undefined;\r\n    this.xAlign = undefined;\r\n    this.yAlign = undefined;\r\n    this.x = undefined;\r\n    this.y = undefined;\r\n    this.height = undefined;\r\n    this.width = undefined;\r\n    this.caretX = undefined;\r\n    this.caretY = undefined;\r\n    this.labelColors = undefined;\r\n    this.labelPointStyles = undefined;\r\n    this.labelTextColors = undefined;\r\n  }\r\n  initialize(options) {\r\n    this.options = options;\r\n    this._cachedAnimations = undefined;\r\n    this.$context = undefined;\r\n  }\r\n  _resolveAnimations() {\r\n    const cached = this._cachedAnimations;\r\n    if (cached) {\r\n      return cached;\r\n    }\r\n    const chart = this.chart;\r\n    const options = this.options.setContext(this.getContext());\r\n    const opts = options.enabled && chart.options.animation && options.animations;\r\n    const animations = new Animations(this.chart, opts);\r\n    if (opts._cacheable) {\r\n      this._cachedAnimations = Object.freeze(animations);\r\n    }\r\n    return animations;\r\n  }\r\n  getContext() {\r\n    return this.$context ||\r\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\r\n  }\r\n  getTitle(context, options) {\r\n    const {callbacks} = options;\r\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\r\n    const title = callbacks.title.apply(this, [context]);\r\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\r\n    let lines = [];\r\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\r\n    lines = pushOrConcat(lines, splitNewlines(title));\r\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\r\n    return lines;\r\n  }\r\n  getBeforeBody(tooltipItems, options) {\r\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\r\n  }\r\n  getBody(tooltipItems, options) {\r\n    const {callbacks} = options;\r\n    const bodyItems = [];\r\n    each(tooltipItems, (context) => {\r\n      const bodyItem = {\r\n        before: [],\r\n        lines: [],\r\n        after: []\r\n      };\r\n      const scoped = overrideCallbacks(callbacks, context);\r\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\r\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\r\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\r\n      bodyItems.push(bodyItem);\r\n    });\r\n    return bodyItems;\r\n  }\r\n  getAfterBody(tooltipItems, options) {\r\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\r\n  }\r\n  getFooter(tooltipItems, options) {\r\n    const {callbacks} = options;\r\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\r\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\r\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\r\n    let lines = [];\r\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\r\n    lines = pushOrConcat(lines, splitNewlines(footer));\r\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\r\n    return lines;\r\n  }\r\n  _createItems(options) {\r\n    const active = this._active;\r\n    const data = this.chart.data;\r\n    const labelColors = [];\r\n    const labelPointStyles = [];\r\n    const labelTextColors = [];\r\n    let tooltipItems = [];\r\n    let i, len;\r\n    for (i = 0, len = active.length; i < len; ++i) {\r\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\r\n    }\r\n    if (options.filter) {\r\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\r\n    }\r\n    if (options.itemSort) {\r\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\r\n    }\r\n    each(tooltipItems, (context) => {\r\n      const scoped = overrideCallbacks(options.callbacks, context);\r\n      labelColors.push(scoped.labelColor.call(this, context));\r\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\r\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\r\n    });\r\n    this.labelColors = labelColors;\r\n    this.labelPointStyles = labelPointStyles;\r\n    this.labelTextColors = labelTextColors;\r\n    this.dataPoints = tooltipItems;\r\n    return tooltipItems;\r\n  }\r\n  update(changed, replay) {\r\n    const options = this.options.setContext(this.getContext());\r\n    const active = this._active;\r\n    let properties;\r\n    let tooltipItems = [];\r\n    if (!active.length) {\r\n      if (this.opacity !== 0) {\r\n        properties = {\r\n          opacity: 0\r\n        };\r\n      }\r\n    } else {\r\n      const position = positioners[options.position].call(this, active, this._eventPosition);\r\n      tooltipItems = this._createItems(options);\r\n      this.title = this.getTitle(tooltipItems, options);\r\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\r\n      this.body = this.getBody(tooltipItems, options);\r\n      this.afterBody = this.getAfterBody(tooltipItems, options);\r\n      this.footer = this.getFooter(tooltipItems, options);\r\n      const size = this._size = getTooltipSize(this, options);\r\n      const positionAndSize = Object.assign({}, position, size);\r\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\r\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\r\n      this.xAlign = alignment.xAlign;\r\n      this.yAlign = alignment.yAlign;\r\n      properties = {\r\n        opacity: 1,\r\n        x: backgroundPoint.x,\r\n        y: backgroundPoint.y,\r\n        width: size.width,\r\n        height: size.height,\r\n        caretX: position.x,\r\n        caretY: position.y\r\n      };\r\n    }\r\n    this._tooltipItems = tooltipItems;\r\n    this.$context = undefined;\r\n    if (properties) {\r\n      this._resolveAnimations().update(this, properties);\r\n    }\r\n    if (changed && options.external) {\r\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\r\n    }\r\n  }\r\n  drawCaret(tooltipPoint, ctx, size, options) {\r\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\r\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\r\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\r\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\r\n  }\r\n  getCaretPosition(tooltipPoint, size, options) {\r\n    const {xAlign, yAlign} = this;\r\n    const {caretSize, cornerRadius} = options;\r\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\r\n    const {x: ptX, y: ptY} = tooltipPoint;\r\n    const {width, height} = size;\r\n    let x1, x2, x3, y1, y2, y3;\r\n    if (yAlign === 'center') {\r\n      y2 = ptY + (height / 2);\r\n      if (xAlign === 'left') {\r\n        x1 = ptX;\r\n        x2 = x1 - caretSize;\r\n        y1 = y2 + caretSize;\r\n        y3 = y2 - caretSize;\r\n      } else {\r\n        x1 = ptX + width;\r\n        x2 = x1 + caretSize;\r\n        y1 = y2 - caretSize;\r\n        y3 = y2 + caretSize;\r\n      }\r\n      x3 = x1;\r\n    } else {\r\n      if (xAlign === 'left') {\r\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\r\n      } else if (xAlign === 'right') {\r\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\r\n      } else {\r\n        x2 = this.caretX;\r\n      }\r\n      if (yAlign === 'top') {\r\n        y1 = ptY;\r\n        y2 = y1 - caretSize;\r\n        x1 = x2 - caretSize;\r\n        x3 = x2 + caretSize;\r\n      } else {\r\n        y1 = ptY + height;\r\n        y2 = y1 + caretSize;\r\n        x1 = x2 + caretSize;\r\n        x3 = x2 - caretSize;\r\n      }\r\n      y3 = y1;\r\n    }\r\n    return {x1, x2, x3, y1, y2, y3};\r\n  }\r\n  drawTitle(pt, ctx, options) {\r\n    const title = this.title;\r\n    const length = title.length;\r\n    let titleFont, titleSpacing, i;\r\n    if (length) {\r\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\r\n      pt.x = getAlignedX(this, options.titleAlign, options);\r\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\r\n      ctx.textBaseline = 'middle';\r\n      titleFont = toFont(options.titleFont);\r\n      titleSpacing = options.titleSpacing;\r\n      ctx.fillStyle = options.titleColor;\r\n      ctx.font = titleFont.string;\r\n      for (i = 0; i < length; ++i) {\r\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\r\n        pt.y += titleFont.lineHeight + titleSpacing;\r\n        if (i + 1 === length) {\r\n          pt.y += options.titleMarginBottom - titleSpacing;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\r\n    const labelColors = this.labelColors[i];\r\n    const labelPointStyle = this.labelPointStyles[i];\r\n    const {boxHeight, boxWidth, boxPadding} = options;\r\n    const bodyFont = toFont(options.bodyFont);\r\n    const colorX = getAlignedX(this, 'left', options);\r\n    const rtlColorX = rtlHelper.x(colorX);\r\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\r\n    const colorY = pt.y + yOffSet;\r\n    if (options.usePointStyle) {\r\n      const drawOptions = {\r\n        radius: Math.min(boxWidth, boxHeight) / 2,\r\n        pointStyle: labelPointStyle.pointStyle,\r\n        rotation: labelPointStyle.rotation,\r\n        borderWidth: 1\r\n      };\r\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\r\n      const centerY = colorY + boxHeight / 2;\r\n      ctx.strokeStyle = options.multiKeyBackground;\r\n      ctx.fillStyle = options.multiKeyBackground;\r\n      drawPoint(ctx, drawOptions, centerX, centerY);\r\n      ctx.strokeStyle = labelColors.borderColor;\r\n      ctx.fillStyle = labelColors.backgroundColor;\r\n      drawPoint(ctx, drawOptions, centerX, centerY);\r\n    } else {\r\n      ctx.lineWidth = labelColors.borderWidth || 1;\r\n      ctx.strokeStyle = labelColors.borderColor;\r\n      ctx.setLineDash(labelColors.borderDash || []);\r\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\r\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\r\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\r\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\r\n      if (Object.values(borderRadius).some(v => v !== 0)) {\r\n        ctx.beginPath();\r\n        ctx.fillStyle = options.multiKeyBackground;\r\n        addRoundedRectPath(ctx, {\r\n          x: outerX,\r\n          y: colorY,\r\n          w: boxWidth,\r\n          h: boxHeight,\r\n          radius: borderRadius,\r\n        });\r\n        ctx.fill();\r\n        ctx.stroke();\r\n        ctx.fillStyle = labelColors.backgroundColor;\r\n        ctx.beginPath();\r\n        addRoundedRectPath(ctx, {\r\n          x: innerX,\r\n          y: colorY + 1,\r\n          w: boxWidth - 2,\r\n          h: boxHeight - 2,\r\n          radius: borderRadius,\r\n        });\r\n        ctx.fill();\r\n      } else {\r\n        ctx.fillStyle = options.multiKeyBackground;\r\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\r\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\r\n        ctx.fillStyle = labelColors.backgroundColor;\r\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\r\n      }\r\n    }\r\n    ctx.fillStyle = this.labelTextColors[i];\r\n  }\r\n  drawBody(pt, ctx, options) {\r\n    const {body} = this;\r\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\r\n    const bodyFont = toFont(options.bodyFont);\r\n    let bodyLineHeight = bodyFont.lineHeight;\r\n    let xLinePadding = 0;\r\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\r\n    const fillLineOfText = function(line) {\r\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\r\n      pt.y += bodyLineHeight + bodySpacing;\r\n    };\r\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\r\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'middle';\r\n    ctx.font = bodyFont.string;\r\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\r\n    ctx.fillStyle = options.bodyColor;\r\n    each(this.beforeBody, fillLineOfText);\r\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\r\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\r\n      : 0;\r\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\r\n      bodyItem = body[i];\r\n      textColor = this.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      each(bodyItem.before, fillLineOfText);\r\n      lines = bodyItem.lines;\r\n      if (displayColors && lines.length) {\r\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\r\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\r\n      }\r\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\r\n        fillLineOfText(lines[j]);\r\n        bodyLineHeight = bodyFont.lineHeight;\r\n      }\r\n      each(bodyItem.after, fillLineOfText);\r\n    }\r\n    xLinePadding = 0;\r\n    bodyLineHeight = bodyFont.lineHeight;\r\n    each(this.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing;\r\n  }\r\n  drawFooter(pt, ctx, options) {\r\n    const footer = this.footer;\r\n    const length = footer.length;\r\n    let footerFont, i;\r\n    if (length) {\r\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\r\n      pt.x = getAlignedX(this, options.footerAlign, options);\r\n      pt.y += options.footerMarginTop;\r\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\r\n      ctx.textBaseline = 'middle';\r\n      footerFont = toFont(options.footerFont);\r\n      ctx.fillStyle = options.footerColor;\r\n      ctx.font = footerFont.string;\r\n      for (i = 0; i < length; ++i) {\r\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\r\n        pt.y += footerFont.lineHeight + options.footerSpacing;\r\n      }\r\n    }\r\n  }\r\n  drawBackground(pt, ctx, tooltipSize, options) {\r\n    const {xAlign, yAlign} = this;\r\n    const {x, y} = pt;\r\n    const {width, height} = tooltipSize;\r\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\r\n    ctx.fillStyle = options.backgroundColor;\r\n    ctx.strokeStyle = options.borderColor;\r\n    ctx.lineWidth = options.borderWidth;\r\n    ctx.beginPath();\r\n    ctx.moveTo(x + topLeft, y);\r\n    if (yAlign === 'top') {\r\n      this.drawCaret(pt, ctx, tooltipSize, options);\r\n    }\r\n    ctx.lineTo(x + width - topRight, y);\r\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\r\n    if (yAlign === 'center' && xAlign === 'right') {\r\n      this.drawCaret(pt, ctx, tooltipSize, options);\r\n    }\r\n    ctx.lineTo(x + width, y + height - bottomRight);\r\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\r\n    if (yAlign === 'bottom') {\r\n      this.drawCaret(pt, ctx, tooltipSize, options);\r\n    }\r\n    ctx.lineTo(x + bottomLeft, y + height);\r\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\r\n    if (yAlign === 'center' && xAlign === 'left') {\r\n      this.drawCaret(pt, ctx, tooltipSize, options);\r\n    }\r\n    ctx.lineTo(x, y + topLeft);\r\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    if (options.borderWidth > 0) {\r\n      ctx.stroke();\r\n    }\r\n  }\r\n  _updateAnimationTarget(options) {\r\n    const chart = this.chart;\r\n    const anims = this.$animations;\r\n    const animX = anims && anims.x;\r\n    const animY = anims && anims.y;\r\n    if (animX || animY) {\r\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\r\n      if (!position) {\r\n        return;\r\n      }\r\n      const size = this._size = getTooltipSize(this, options);\r\n      const positionAndSize = Object.assign({}, position, this._size);\r\n      const alignment = determineAlignment(chart, options, positionAndSize);\r\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\r\n      if (animX._to !== point.x || animY._to !== point.y) {\r\n        this.xAlign = alignment.xAlign;\r\n        this.yAlign = alignment.yAlign;\r\n        this.width = size.width;\r\n        this.height = size.height;\r\n        this.caretX = position.x;\r\n        this.caretY = position.y;\r\n        this._resolveAnimations().update(this, point);\r\n      }\r\n    }\r\n  }\r\n  draw(ctx) {\r\n    const options = this.options.setContext(this.getContext());\r\n    let opacity = this.opacity;\r\n    if (!opacity) {\r\n      return;\r\n    }\r\n    this._updateAnimationTarget(options);\r\n    const tooltipSize = {\r\n      width: this.width,\r\n      height: this.height\r\n    };\r\n    const pt = {\r\n      x: this.x,\r\n      y: this.y\r\n    };\r\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\r\n    const padding = toPadding(options.padding);\r\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\r\n    if (options.enabled && hasTooltipContent) {\r\n      ctx.save();\r\n      ctx.globalAlpha = opacity;\r\n      this.drawBackground(pt, ctx, tooltipSize, options);\r\n      overrideTextDirection(ctx, options.textDirection);\r\n      pt.y += padding.top;\r\n      this.drawTitle(pt, ctx, options);\r\n      this.drawBody(pt, ctx, options);\r\n      this.drawFooter(pt, ctx, options);\r\n      restoreTextDirection(ctx, options.textDirection);\r\n      ctx.restore();\r\n    }\r\n  }\r\n  getActiveElements() {\r\n    return this._active || [];\r\n  }\r\n  setActiveElements(activeElements, eventPosition) {\r\n    const lastActive = this._active;\r\n    const active = activeElements.map(({datasetIndex, index}) => {\r\n      const meta = this.chart.getDatasetMeta(datasetIndex);\r\n      if (!meta) {\r\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\r\n      }\r\n      return {\r\n        datasetIndex,\r\n        element: meta.data[index],\r\n        index,\r\n      };\r\n    });\r\n    const changed = !_elementsEqual(lastActive, active);\r\n    const positionChanged = this._positionChanged(active, eventPosition);\r\n    if (changed || positionChanged) {\r\n      this._active = active;\r\n      this._eventPosition = eventPosition;\r\n      this._ignoreReplayEvents = true;\r\n      this.update(true);\r\n    }\r\n  }\r\n  handleEvent(e, replay, inChartArea = true) {\r\n    if (replay && this._ignoreReplayEvents) {\r\n      return false;\r\n    }\r\n    this._ignoreReplayEvents = false;\r\n    const options = this.options;\r\n    const lastActive = this._active || [];\r\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\r\n    const positionChanged = this._positionChanged(active, e);\r\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\r\n    if (changed) {\r\n      this._active = active;\r\n      if (options.enabled || options.external) {\r\n        this._eventPosition = {\r\n          x: e.x,\r\n          y: e.y\r\n        };\r\n        this.update(true, replay);\r\n      }\r\n    }\r\n    return changed;\r\n  }\r\n  _getActiveElements(e, lastActive, replay, inChartArea) {\r\n    const options = this.options;\r\n    if (e.type === 'mouseout') {\r\n      return [];\r\n    }\r\n    if (!inChartArea) {\r\n      return lastActive;\r\n    }\r\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\r\n    if (options.reverse) {\r\n      active.reverse();\r\n    }\r\n    return active;\r\n  }\r\n  _positionChanged(active, e) {\r\n    const {caretX, caretY, options} = this;\r\n    const position = positioners[options.position].call(this, active, e);\r\n    return position !== false && (caretX !== position.x || caretY !== position.y);\r\n  }\r\n}\r\nTooltip.positioners = positioners;\r\nvar plugin_tooltip = {\r\n  id: 'tooltip',\r\n  _element: Tooltip,\r\n  positioners,\r\n  afterInit(chart, _args, options) {\r\n    if (options) {\r\n      chart.tooltip = new Tooltip({chart, options});\r\n    }\r\n  },\r\n  beforeUpdate(chart, _args, options) {\r\n    if (chart.tooltip) {\r\n      chart.tooltip.initialize(options);\r\n    }\r\n  },\r\n  reset(chart, _args, options) {\r\n    if (chart.tooltip) {\r\n      chart.tooltip.initialize(options);\r\n    }\r\n  },\r\n  afterDraw(chart) {\r\n    const tooltip = chart.tooltip;\r\n    const args = {\r\n      tooltip\r\n    };\r\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\r\n      return;\r\n    }\r\n    if (tooltip) {\r\n      tooltip.draw(chart.ctx);\r\n    }\r\n    chart.notifyPlugins('afterTooltipDraw', args);\r\n  },\r\n  afterEvent(chart, args) {\r\n    if (chart.tooltip) {\r\n      const useFinalPosition = args.replay;\r\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\r\n        args.changed = true;\r\n      }\r\n    }\r\n  },\r\n  defaults: {\r\n    enabled: true,\r\n    external: null,\r\n    position: 'average',\r\n    backgroundColor: 'rgba(0,0,0,0.8)',\r\n    titleColor: '#fff',\r\n    titleFont: {\r\n      weight: 'bold',\r\n    },\r\n    titleSpacing: 2,\r\n    titleMarginBottom: 6,\r\n    titleAlign: 'left',\r\n    bodyColor: '#fff',\r\n    bodySpacing: 2,\r\n    bodyFont: {\r\n    },\r\n    bodyAlign: 'left',\r\n    footerColor: '#fff',\r\n    footerSpacing: 2,\r\n    footerMarginTop: 6,\r\n    footerFont: {\r\n      weight: 'bold',\r\n    },\r\n    footerAlign: 'left',\r\n    padding: 6,\r\n    caretPadding: 2,\r\n    caretSize: 5,\r\n    cornerRadius: 6,\r\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\r\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\r\n    multiKeyBackground: '#fff',\r\n    displayColors: true,\r\n    boxPadding: 0,\r\n    borderColor: 'rgba(0,0,0,0)',\r\n    borderWidth: 0,\r\n    animation: {\r\n      duration: 400,\r\n      easing: 'easeOutQuart',\r\n    },\r\n    animations: {\r\n      numbers: {\r\n        type: 'number',\r\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\r\n      },\r\n      opacity: {\r\n        easing: 'linear',\r\n        duration: 200\r\n      }\r\n    },\r\n    callbacks: {\r\n      beforeTitle: noop,\r\n      title(tooltipItems) {\r\n        if (tooltipItems.length > 0) {\r\n          const item = tooltipItems[0];\r\n          const labels = item.chart.data.labels;\r\n          const labelCount = labels ? labels.length : 0;\r\n          if (this && this.options && this.options.mode === 'dataset') {\r\n            return item.dataset.label || '';\r\n          } else if (item.label) {\r\n            return item.label;\r\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\r\n            return labels[item.dataIndex];\r\n          }\r\n        }\r\n        return '';\r\n      },\r\n      afterTitle: noop,\r\n      beforeBody: noop,\r\n      beforeLabel: noop,\r\n      label(tooltipItem) {\r\n        if (this && this.options && this.options.mode === 'dataset') {\r\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\r\n        }\r\n        let label = tooltipItem.dataset.label || '';\r\n        if (label) {\r\n          label += ': ';\r\n        }\r\n        const value = tooltipItem.formattedValue;\r\n        if (!isNullOrUndef(value)) {\r\n          label += value;\r\n        }\r\n        return label;\r\n      },\r\n      labelColor(tooltipItem) {\r\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\r\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\r\n        return {\r\n          borderColor: options.borderColor,\r\n          backgroundColor: options.backgroundColor,\r\n          borderWidth: options.borderWidth,\r\n          borderDash: options.borderDash,\r\n          borderDashOffset: options.borderDashOffset,\r\n          borderRadius: 0,\r\n        };\r\n      },\r\n      labelTextColor() {\r\n        return this.options.bodyColor;\r\n      },\r\n      labelPointStyle(tooltipItem) {\r\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\r\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\r\n        return {\r\n          pointStyle: options.pointStyle,\r\n          rotation: options.rotation,\r\n        };\r\n      },\r\n      afterLabel: noop,\r\n      afterBody: noop,\r\n      beforeFooter: noop,\r\n      footer: noop,\r\n      afterFooter: noop\r\n    }\r\n  },\r\n  defaultRoutes: {\r\n    bodyFont: 'font',\r\n    footerFont: 'font',\r\n    titleFont: 'font'\r\n  },\r\n  descriptors: {\r\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\r\n    _indexable: false,\r\n    callbacks: {\r\n      _scriptable: false,\r\n      _indexable: false,\r\n    },\r\n    animation: {\r\n      _fallback: false\r\n    },\r\n    animations: {\r\n      _fallback: 'animation'\r\n    }\r\n  },\r\n  additionalOptionScopes: ['interaction']\r\n};\r\n\r\nvar plugins = /*#__PURE__*/Object.freeze({\r\n__proto__: null,\r\nDecimation: plugin_decimation,\r\nFiller: plugin_filler,\r\nLegend: plugin_legend,\r\nSubTitle: plugin_subtitle,\r\nTitle: plugin_title,\r\nTooltip: plugin_tooltip\r\n});\r\n\r\nconst addIfString = (labels, raw, index, addedLabels) => {\r\n  if (typeof raw === 'string') {\r\n    index = labels.push(raw) - 1;\r\n    addedLabels.unshift({index, label: raw});\r\n  } else if (isNaN(raw)) {\r\n    index = null;\r\n  }\r\n  return index;\r\n};\r\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\r\n  const first = labels.indexOf(raw);\r\n  if (first === -1) {\r\n    return addIfString(labels, raw, index, addedLabels);\r\n  }\r\n  const last = labels.lastIndexOf(raw);\r\n  return first !== last ? index : first;\r\n}\r\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\r\nclass CategoryScale extends Scale {\r\n  constructor(cfg) {\r\n    super(cfg);\r\n    this._startValue = undefined;\r\n    this._valueRange = 0;\r\n    this._addedLabels = [];\r\n  }\r\n  init(scaleOptions) {\r\n    const added = this._addedLabels;\r\n    if (added.length) {\r\n      const labels = this.getLabels();\r\n      for (const {index, label} of added) {\r\n        if (labels[index] === label) {\r\n          labels.splice(index, 1);\r\n        }\r\n      }\r\n      this._addedLabels = [];\r\n    }\r\n    super.init(scaleOptions);\r\n  }\r\n  parse(raw, index) {\r\n    if (isNullOrUndef(raw)) {\r\n      return null;\r\n    }\r\n    const labels = this.getLabels();\r\n    index = isFinite(index) && labels[index] === raw ? index\r\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\r\n    return validIndex(index, labels.length - 1);\r\n  }\r\n  determineDataLimits() {\r\n    const {minDefined, maxDefined} = this.getUserBounds();\r\n    let {min, max} = this.getMinMax(true);\r\n    if (this.options.bounds === 'ticks') {\r\n      if (!minDefined) {\r\n        min = 0;\r\n      }\r\n      if (!maxDefined) {\r\n        max = this.getLabels().length - 1;\r\n      }\r\n    }\r\n    this.min = min;\r\n    this.max = max;\r\n  }\r\n  buildTicks() {\r\n    const min = this.min;\r\n    const max = this.max;\r\n    const offset = this.options.offset;\r\n    const ticks = [];\r\n    let labels = this.getLabels();\r\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\r\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\r\n    this._startValue = this.min - (offset ? 0.5 : 0);\r\n    for (let value = min; value <= max; value++) {\r\n      ticks.push({value});\r\n    }\r\n    return ticks;\r\n  }\r\n  getLabelForValue(value) {\r\n    const labels = this.getLabels();\r\n    if (value >= 0 && value < labels.length) {\r\n      return labels[value];\r\n    }\r\n    return value;\r\n  }\r\n  configure() {\r\n    super.configure();\r\n    if (!this.isHorizontal()) {\r\n      this._reversePixels = !this._reversePixels;\r\n    }\r\n  }\r\n  getPixelForValue(value) {\r\n    if (typeof value !== 'number') {\r\n      value = this.parse(value);\r\n    }\r\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\r\n  }\r\n  getPixelForTick(index) {\r\n    const ticks = this.ticks;\r\n    if (index < 0 || index > ticks.length - 1) {\r\n      return null;\r\n    }\r\n    return this.getPixelForValue(ticks[index].value);\r\n  }\r\n  getValueForPixel(pixel) {\r\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\r\n  }\r\n  getBasePixel() {\r\n    return this.bottom;\r\n  }\r\n}\r\nCategoryScale.id = 'category';\r\nCategoryScale.defaults = {\r\n  ticks: {\r\n    callback: CategoryScale.prototype.getLabelForValue\r\n  }\r\n};\r\n\r\nfunction generateTicks$1(generationOptions, dataRange) {\r\n  const ticks = [];\r\n  const MIN_SPACING = 1e-14;\r\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\r\n  const unit = step || 1;\r\n  const maxSpaces = maxTicks - 1;\r\n  const {min: rmin, max: rmax} = dataRange;\r\n  const minDefined = !isNullOrUndef(min);\r\n  const maxDefined = !isNullOrUndef(max);\r\n  const countDefined = !isNullOrUndef(count);\r\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\r\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\r\n  let factor, niceMin, niceMax, numSpaces;\r\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\r\n    return [{value: rmin}, {value: rmax}];\r\n  }\r\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\r\n  if (numSpaces > maxSpaces) {\r\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\r\n  }\r\n  if (!isNullOrUndef(precision)) {\r\n    factor = Math.pow(10, precision);\r\n    spacing = Math.ceil(spacing * factor) / factor;\r\n  }\r\n  if (bounds === 'ticks') {\r\n    niceMin = Math.floor(rmin / spacing) * spacing;\r\n    niceMax = Math.ceil(rmax / spacing) * spacing;\r\n  } else {\r\n    niceMin = rmin;\r\n    niceMax = rmax;\r\n  }\r\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\r\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\r\n    spacing = (max - min) / numSpaces;\r\n    niceMin = min;\r\n    niceMax = max;\r\n  } else if (countDefined) {\r\n    niceMin = minDefined ? min : niceMin;\r\n    niceMax = maxDefined ? max : niceMax;\r\n    numSpaces = count - 1;\r\n    spacing = (niceMax - niceMin) / numSpaces;\r\n  } else {\r\n    numSpaces = (niceMax - niceMin) / spacing;\r\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\r\n      numSpaces = Math.round(numSpaces);\r\n    } else {\r\n      numSpaces = Math.ceil(numSpaces);\r\n    }\r\n  }\r\n  const decimalPlaces = Math.max(\r\n    _decimalPlaces(spacing),\r\n    _decimalPlaces(niceMin)\r\n  );\r\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\r\n  niceMin = Math.round(niceMin * factor) / factor;\r\n  niceMax = Math.round(niceMax * factor) / factor;\r\n  let j = 0;\r\n  if (minDefined) {\r\n    if (includeBounds && niceMin !== min) {\r\n      ticks.push({value: min});\r\n      if (niceMin < min) {\r\n        j++;\r\n      }\r\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\r\n        j++;\r\n      }\r\n    } else if (niceMin < min) {\r\n      j++;\r\n    }\r\n  }\r\n  for (; j < numSpaces; ++j) {\r\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\r\n  }\r\n  if (maxDefined && includeBounds && niceMax !== max) {\r\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\r\n      ticks[ticks.length - 1].value = max;\r\n    } else {\r\n      ticks.push({value: max});\r\n    }\r\n  } else if (!maxDefined || niceMax === max) {\r\n    ticks.push({value: niceMax});\r\n  }\r\n  return ticks;\r\n}\r\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\r\n  const rad = toRadians(minRotation);\r\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\r\n  const length = 0.75 * minSpacing * ('' + value).length;\r\n  return Math.min(minSpacing / ratio, length);\r\n}\r\nclass LinearScaleBase extends Scale {\r\n  constructor(cfg) {\r\n    super(cfg);\r\n    this.start = undefined;\r\n    this.end = undefined;\r\n    this._startValue = undefined;\r\n    this._endValue = undefined;\r\n    this._valueRange = 0;\r\n  }\r\n  parse(raw, index) {\r\n    if (isNullOrUndef(raw)) {\r\n      return null;\r\n    }\r\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\r\n      return null;\r\n    }\r\n    return +raw;\r\n  }\r\n  handleTickRangeOptions() {\r\n    const {beginAtZero} = this.options;\r\n    const {minDefined, maxDefined} = this.getUserBounds();\r\n    let {min, max} = this;\r\n    const setMin = v => (min = minDefined ? min : v);\r\n    const setMax = v => (max = maxDefined ? max : v);\r\n    if (beginAtZero) {\r\n      const minSign = sign(min);\r\n      const maxSign = sign(max);\r\n      if (minSign < 0 && maxSign < 0) {\r\n        setMax(0);\r\n      } else if (minSign > 0 && maxSign > 0) {\r\n        setMin(0);\r\n      }\r\n    }\r\n    if (min === max) {\r\n      let offset = 1;\r\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\r\n        offset = Math.abs(max * 0.05);\r\n      }\r\n      setMax(max + offset);\r\n      if (!beginAtZero) {\r\n        setMin(min - offset);\r\n      }\r\n    }\r\n    this.min = min;\r\n    this.max = max;\r\n  }\r\n  getTickLimit() {\r\n    const tickOpts = this.options.ticks;\r\n    let {maxTicksLimit, stepSize} = tickOpts;\r\n    let maxTicks;\r\n    if (stepSize) {\r\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\r\n      if (maxTicks > 1000) {\r\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\r\n        maxTicks = 1000;\r\n      }\r\n    } else {\r\n      maxTicks = this.computeTickLimit();\r\n      maxTicksLimit = maxTicksLimit || 11;\r\n    }\r\n    if (maxTicksLimit) {\r\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\r\n    }\r\n    return maxTicks;\r\n  }\r\n  computeTickLimit() {\r\n    return Number.POSITIVE_INFINITY;\r\n  }\r\n  buildTicks() {\r\n    const opts = this.options;\r\n    const tickOpts = opts.ticks;\r\n    let maxTicks = this.getTickLimit();\r\n    maxTicks = Math.max(2, maxTicks);\r\n    const numericGeneratorOptions = {\r\n      maxTicks,\r\n      bounds: opts.bounds,\r\n      min: opts.min,\r\n      max: opts.max,\r\n      precision: tickOpts.precision,\r\n      step: tickOpts.stepSize,\r\n      count: tickOpts.count,\r\n      maxDigits: this._maxDigits(),\r\n      horizontal: this.isHorizontal(),\r\n      minRotation: tickOpts.minRotation || 0,\r\n      includeBounds: tickOpts.includeBounds !== false\r\n    };\r\n    const dataRange = this._range || this;\r\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\r\n    if (opts.bounds === 'ticks') {\r\n      _setMinAndMaxByKey(ticks, this, 'value');\r\n    }\r\n    if (opts.reverse) {\r\n      ticks.reverse();\r\n      this.start = this.max;\r\n      this.end = this.min;\r\n    } else {\r\n      this.start = this.min;\r\n      this.end = this.max;\r\n    }\r\n    return ticks;\r\n  }\r\n  configure() {\r\n    const ticks = this.ticks;\r\n    let start = this.min;\r\n    let end = this.max;\r\n    super.configure();\r\n    if (this.options.offset && ticks.length) {\r\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\r\n      start -= offset;\r\n      end += offset;\r\n    }\r\n    this._startValue = start;\r\n    this._endValue = end;\r\n    this._valueRange = end - start;\r\n  }\r\n  getLabelForValue(value) {\r\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\r\n  }\r\n}\r\n\r\nclass LinearScale extends LinearScaleBase {\r\n  determineDataLimits() {\r\n    const {min, max} = this.getMinMax(true);\r\n    this.min = isNumberFinite(min) ? min : 0;\r\n    this.max = isNumberFinite(max) ? max : 1;\r\n    this.handleTickRangeOptions();\r\n  }\r\n  computeTickLimit() {\r\n    const horizontal = this.isHorizontal();\r\n    const length = horizontal ? this.width : this.height;\r\n    const minRotation = toRadians(this.options.ticks.minRotation);\r\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\r\n    const tickFont = this._resolveTickFontOptions(0);\r\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\r\n  }\r\n  getPixelForValue(value) {\r\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\r\n  }\r\n  getValueForPixel(pixel) {\r\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\r\n  }\r\n}\r\nLinearScale.id = 'linear';\r\nLinearScale.defaults = {\r\n  ticks: {\r\n    callback: Ticks.formatters.numeric\r\n  }\r\n};\r\n\r\nfunction isMajor(tickVal) {\r\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\r\n  return remain === 1;\r\n}\r\nfunction generateTicks(generationOptions, dataRange) {\r\n  const endExp = Math.floor(log10(dataRange.max));\r\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\r\n  const ticks = [];\r\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\r\n  let exp = Math.floor(log10(tickVal));\r\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\r\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\r\n  do {\r\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\r\n    ++significand;\r\n    if (significand === 10) {\r\n      significand = 1;\r\n      ++exp;\r\n      precision = exp >= 0 ? 1 : precision;\r\n    }\r\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\r\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\r\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\r\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\r\n  return ticks;\r\n}\r\nclass LogarithmicScale extends Scale {\r\n  constructor(cfg) {\r\n    super(cfg);\r\n    this.start = undefined;\r\n    this.end = undefined;\r\n    this._startValue = undefined;\r\n    this._valueRange = 0;\r\n  }\r\n  parse(raw, index) {\r\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\r\n    if (value === 0) {\r\n      this._zero = true;\r\n      return undefined;\r\n    }\r\n    return isNumberFinite(value) && value > 0 ? value : null;\r\n  }\r\n  determineDataLimits() {\r\n    const {min, max} = this.getMinMax(true);\r\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\r\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\r\n    if (this.options.beginAtZero) {\r\n      this._zero = true;\r\n    }\r\n    this.handleTickRangeOptions();\r\n  }\r\n  handleTickRangeOptions() {\r\n    const {minDefined, maxDefined} = this.getUserBounds();\r\n    let min = this.min;\r\n    let max = this.max;\r\n    const setMin = v => (min = minDefined ? min : v);\r\n    const setMax = v => (max = maxDefined ? max : v);\r\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\r\n    if (min === max) {\r\n      if (min <= 0) {\r\n        setMin(1);\r\n        setMax(10);\r\n      } else {\r\n        setMin(exp(min, -1));\r\n        setMax(exp(max, +1));\r\n      }\r\n    }\r\n    if (min <= 0) {\r\n      setMin(exp(max, -1));\r\n    }\r\n    if (max <= 0) {\r\n      setMax(exp(min, +1));\r\n    }\r\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\r\n      setMin(exp(min, -1));\r\n    }\r\n    this.min = min;\r\n    this.max = max;\r\n  }\r\n  buildTicks() {\r\n    const opts = this.options;\r\n    const generationOptions = {\r\n      min: this._userMin,\r\n      max: this._userMax\r\n    };\r\n    const ticks = generateTicks(generationOptions, this);\r\n    if (opts.bounds === 'ticks') {\r\n      _setMinAndMaxByKey(ticks, this, 'value');\r\n    }\r\n    if (opts.reverse) {\r\n      ticks.reverse();\r\n      this.start = this.max;\r\n      this.end = this.min;\r\n    } else {\r\n      this.start = this.min;\r\n      this.end = this.max;\r\n    }\r\n    return ticks;\r\n  }\r\n  getLabelForValue(value) {\r\n    return value === undefined\r\n      ? '0'\r\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\r\n  }\r\n  configure() {\r\n    const start = this.min;\r\n    super.configure();\r\n    this._startValue = log10(start);\r\n    this._valueRange = log10(this.max) - log10(start);\r\n  }\r\n  getPixelForValue(value) {\r\n    if (value === undefined || value === 0) {\r\n      value = this.min;\r\n    }\r\n    if (value === null || isNaN(value)) {\r\n      return NaN;\r\n    }\r\n    return this.getPixelForDecimal(value === this.min\r\n      ? 0\r\n      : (log10(value) - this._startValue) / this._valueRange);\r\n  }\r\n  getValueForPixel(pixel) {\r\n    const decimal = this.getDecimalForPixel(pixel);\r\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\r\n  }\r\n}\r\nLogarithmicScale.id = 'logarithmic';\r\nLogarithmicScale.defaults = {\r\n  ticks: {\r\n    callback: Ticks.formatters.logarithmic,\r\n    major: {\r\n      enabled: true\r\n    }\r\n  }\r\n};\r\n\r\nfunction getTickBackdropHeight(opts) {\r\n  const tickOpts = opts.ticks;\r\n  if (tickOpts.display && opts.display) {\r\n    const padding = toPadding(tickOpts.backdropPadding);\r\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\r\n  }\r\n  return 0;\r\n}\r\nfunction measureLabelSize(ctx, font, label) {\r\n  label = isArray(label) ? label : [label];\r\n  return {\r\n    w: _longestText(ctx, font.string, label),\r\n    h: label.length * font.lineHeight\r\n  };\r\n}\r\nfunction determineLimits(angle, pos, size, min, max) {\r\n  if (angle === min || angle === max) {\r\n    return {\r\n      start: pos - (size / 2),\r\n      end: pos + (size / 2)\r\n    };\r\n  } else if (angle < min || angle > max) {\r\n    return {\r\n      start: pos - size,\r\n      end: pos\r\n    };\r\n  }\r\n  return {\r\n    start: pos,\r\n    end: pos + size\r\n  };\r\n}\r\nfunction fitWithPointLabels(scale) {\r\n  const orig = {\r\n    l: scale.left + scale._padding.left,\r\n    r: scale.right - scale._padding.right,\r\n    t: scale.top + scale._padding.top,\r\n    b: scale.bottom - scale._padding.bottom\r\n  };\r\n  const limits = Object.assign({}, orig);\r\n  const labelSizes = [];\r\n  const padding = [];\r\n  const valueCount = scale._pointLabels.length;\r\n  const pointLabelOpts = scale.options.pointLabels;\r\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\r\n  for (let i = 0; i < valueCount; i++) {\r\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\r\n    padding[i] = opts.padding;\r\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\r\n    const plFont = toFont(opts.font);\r\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\r\n    labelSizes[i] = textSize;\r\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\r\n    const angle = Math.round(toDegrees(angleRadians));\r\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\r\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\r\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\r\n  }\r\n  scale.setCenterPoint(\r\n    orig.l - limits.l,\r\n    limits.r - orig.r,\r\n    orig.t - limits.t,\r\n    limits.b - orig.b\r\n  );\r\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\r\n}\r\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\r\n  const sin = Math.abs(Math.sin(angle));\r\n  const cos = Math.abs(Math.cos(angle));\r\n  let x = 0;\r\n  let y = 0;\r\n  if (hLimits.start < orig.l) {\r\n    x = (orig.l - hLimits.start) / sin;\r\n    limits.l = Math.min(limits.l, orig.l - x);\r\n  } else if (hLimits.end > orig.r) {\r\n    x = (hLimits.end - orig.r) / sin;\r\n    limits.r = Math.max(limits.r, orig.r + x);\r\n  }\r\n  if (vLimits.start < orig.t) {\r\n    y = (orig.t - vLimits.start) / cos;\r\n    limits.t = Math.min(limits.t, orig.t - y);\r\n  } else if (vLimits.end > orig.b) {\r\n    y = (vLimits.end - orig.b) / cos;\r\n    limits.b = Math.max(limits.b, orig.b + y);\r\n  }\r\n}\r\nfunction buildPointLabelItems(scale, labelSizes, padding) {\r\n  const items = [];\r\n  const valueCount = scale._pointLabels.length;\r\n  const opts = scale.options;\r\n  const extra = getTickBackdropHeight(opts) / 2;\r\n  const outerDistance = scale.drawingArea;\r\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\r\n  for (let i = 0; i < valueCount; i++) {\r\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\r\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\r\n    const size = labelSizes[i];\r\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\r\n    const textAlign = getTextAlignForAngle(angle);\r\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\r\n    items.push({\r\n      x: pointLabelPosition.x,\r\n      y,\r\n      textAlign,\r\n      left,\r\n      top: y,\r\n      right: left + size.w,\r\n      bottom: y + size.h\r\n    });\r\n  }\r\n  return items;\r\n}\r\nfunction getTextAlignForAngle(angle) {\r\n  if (angle === 0 || angle === 180) {\r\n    return 'center';\r\n  } else if (angle < 180) {\r\n    return 'left';\r\n  }\r\n  return 'right';\r\n}\r\nfunction leftForTextAlign(x, w, align) {\r\n  if (align === 'right') {\r\n    x -= w;\r\n  } else if (align === 'center') {\r\n    x -= (w / 2);\r\n  }\r\n  return x;\r\n}\r\nfunction yForAngle(y, h, angle) {\r\n  if (angle === 90 || angle === 270) {\r\n    y -= (h / 2);\r\n  } else if (angle > 270 || angle < 90) {\r\n    y -= h;\r\n  }\r\n  return y;\r\n}\r\nfunction drawPointLabels(scale, labelCount) {\r\n  const {ctx, options: {pointLabels}} = scale;\r\n  for (let i = labelCount - 1; i >= 0; i--) {\r\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\r\n    const plFont = toFont(optsAtIndex.font);\r\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\r\n    const {backdropColor} = optsAtIndex;\r\n    if (!isNullOrUndef(backdropColor)) {\r\n      const padding = toPadding(optsAtIndex.backdropPadding);\r\n      ctx.fillStyle = backdropColor;\r\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\r\n    }\r\n    renderText(\r\n      ctx,\r\n      scale._pointLabels[i],\r\n      x,\r\n      y + (plFont.lineHeight / 2),\r\n      plFont,\r\n      {\r\n        color: optsAtIndex.color,\r\n        textAlign: textAlign,\r\n        textBaseline: 'middle'\r\n      }\r\n    );\r\n  }\r\n}\r\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\r\n  const {ctx} = scale;\r\n  if (circular) {\r\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\r\n  } else {\r\n    let pointPosition = scale.getPointPosition(0, radius);\r\n    ctx.moveTo(pointPosition.x, pointPosition.y);\r\n    for (let i = 1; i < labelCount; i++) {\r\n      pointPosition = scale.getPointPosition(i, radius);\r\n      ctx.lineTo(pointPosition.x, pointPosition.y);\r\n    }\r\n  }\r\n}\r\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\r\n  const ctx = scale.ctx;\r\n  const circular = gridLineOpts.circular;\r\n  const {color, lineWidth} = gridLineOpts;\r\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\r\n    return;\r\n  }\r\n  ctx.save();\r\n  ctx.strokeStyle = color;\r\n  ctx.lineWidth = lineWidth;\r\n  ctx.setLineDash(gridLineOpts.borderDash);\r\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\r\n  ctx.beginPath();\r\n  pathRadiusLine(scale, radius, circular, labelCount);\r\n  ctx.closePath();\r\n  ctx.stroke();\r\n  ctx.restore();\r\n}\r\nfunction createPointLabelContext(parent, index, label) {\r\n  return createContext(parent, {\r\n    label,\r\n    index,\r\n    type: 'pointLabel'\r\n  });\r\n}\r\nclass RadialLinearScale extends LinearScaleBase {\r\n  constructor(cfg) {\r\n    super(cfg);\r\n    this.xCenter = undefined;\r\n    this.yCenter = undefined;\r\n    this.drawingArea = undefined;\r\n    this._pointLabels = [];\r\n    this._pointLabelItems = [];\r\n  }\r\n  setDimensions() {\r\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\r\n    const w = this.width = this.maxWidth - padding.width;\r\n    const h = this.height = this.maxHeight - padding.height;\r\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\r\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\r\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\r\n  }\r\n  determineDataLimits() {\r\n    const {min, max} = this.getMinMax(false);\r\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\r\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\r\n    this.handleTickRangeOptions();\r\n  }\r\n  computeTickLimit() {\r\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\r\n  }\r\n  generateTickLabels(ticks) {\r\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\r\n    this._pointLabels = this.getLabels()\r\n      .map((value, index) => {\r\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\r\n        return label || label === 0 ? label : '';\r\n      })\r\n      .filter((v, i) => this.chart.getDataVisibility(i));\r\n  }\r\n  fit() {\r\n    const opts = this.options;\r\n    if (opts.display && opts.pointLabels.display) {\r\n      fitWithPointLabels(this);\r\n    } else {\r\n      this.setCenterPoint(0, 0, 0, 0);\r\n    }\r\n  }\r\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\r\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\r\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\r\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\r\n  }\r\n  getIndexAngle(index) {\r\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\r\n    const startAngle = this.options.startAngle || 0;\r\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\r\n  }\r\n  getDistanceFromCenterForValue(value) {\r\n    if (isNullOrUndef(value)) {\r\n      return NaN;\r\n    }\r\n    const scalingFactor = this.drawingArea / (this.max - this.min);\r\n    if (this.options.reverse) {\r\n      return (this.max - value) * scalingFactor;\r\n    }\r\n    return (value - this.min) * scalingFactor;\r\n  }\r\n  getValueForDistanceFromCenter(distance) {\r\n    if (isNullOrUndef(distance)) {\r\n      return NaN;\r\n    }\r\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\r\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\r\n  }\r\n  getPointLabelContext(index) {\r\n    const pointLabels = this._pointLabels || [];\r\n    if (index >= 0 && index < pointLabels.length) {\r\n      const pointLabel = pointLabels[index];\r\n      return createPointLabelContext(this.getContext(), index, pointLabel);\r\n    }\r\n  }\r\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\r\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\r\n    return {\r\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\r\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\r\n      angle\r\n    };\r\n  }\r\n  getPointPositionForValue(index, value) {\r\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\r\n  }\r\n  getBasePosition(index) {\r\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\r\n  }\r\n  getPointLabelPosition(index) {\r\n    const {left, top, right, bottom} = this._pointLabelItems[index];\r\n    return {\r\n      left,\r\n      top,\r\n      right,\r\n      bottom,\r\n    };\r\n  }\r\n  drawBackground() {\r\n    const {backgroundColor, grid: {circular}} = this.options;\r\n    if (backgroundColor) {\r\n      const ctx = this.ctx;\r\n      ctx.save();\r\n      ctx.beginPath();\r\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\r\n      ctx.closePath();\r\n      ctx.fillStyle = backgroundColor;\r\n      ctx.fill();\r\n      ctx.restore();\r\n    }\r\n  }\r\n  drawGrid() {\r\n    const ctx = this.ctx;\r\n    const opts = this.options;\r\n    const {angleLines, grid} = opts;\r\n    const labelCount = this._pointLabels.length;\r\n    let i, offset, position;\r\n    if (opts.pointLabels.display) {\r\n      drawPointLabels(this, labelCount);\r\n    }\r\n    if (grid.display) {\r\n      this.ticks.forEach((tick, index) => {\r\n        if (index !== 0) {\r\n          offset = this.getDistanceFromCenterForValue(tick.value);\r\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\r\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\r\n        }\r\n      });\r\n    }\r\n    if (angleLines.display) {\r\n      ctx.save();\r\n      for (i = labelCount - 1; i >= 0; i--) {\r\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\r\n        const {color, lineWidth} = optsAtIndex;\r\n        if (!lineWidth || !color) {\r\n          continue;\r\n        }\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = color;\r\n        ctx.setLineDash(optsAtIndex.borderDash);\r\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\r\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\r\n        position = this.getPointPosition(i, offset);\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.xCenter, this.yCenter);\r\n        ctx.lineTo(position.x, position.y);\r\n        ctx.stroke();\r\n      }\r\n      ctx.restore();\r\n    }\r\n  }\r\n  drawBorder() {}\r\n  drawLabels() {\r\n    const ctx = this.ctx;\r\n    const opts = this.options;\r\n    const tickOpts = opts.ticks;\r\n    if (!tickOpts.display) {\r\n      return;\r\n    }\r\n    const startAngle = this.getIndexAngle(0);\r\n    let offset, width;\r\n    ctx.save();\r\n    ctx.translate(this.xCenter, this.yCenter);\r\n    ctx.rotate(startAngle);\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    this.ticks.forEach((tick, index) => {\r\n      if (index === 0 && !opts.reverse) {\r\n        return;\r\n      }\r\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\r\n      const tickFont = toFont(optsAtIndex.font);\r\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\r\n      if (optsAtIndex.showLabelBackdrop) {\r\n        ctx.font = tickFont.string;\r\n        width = ctx.measureText(tick.label).width;\r\n        ctx.fillStyle = optsAtIndex.backdropColor;\r\n        const padding = toPadding(optsAtIndex.backdropPadding);\r\n        ctx.fillRect(\r\n          -width / 2 - padding.left,\r\n          -offset - tickFont.size / 2 - padding.top,\r\n          width + padding.width,\r\n          tickFont.size + padding.height\r\n        );\r\n      }\r\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\r\n        color: optsAtIndex.color,\r\n      });\r\n    });\r\n    ctx.restore();\r\n  }\r\n  drawTitle() {}\r\n}\r\nRadialLinearScale.id = 'radialLinear';\r\nRadialLinearScale.defaults = {\r\n  display: true,\r\n  animate: true,\r\n  position: 'chartArea',\r\n  angleLines: {\r\n    display: true,\r\n    lineWidth: 1,\r\n    borderDash: [],\r\n    borderDashOffset: 0.0\r\n  },\r\n  grid: {\r\n    circular: false\r\n  },\r\n  startAngle: 0,\r\n  ticks: {\r\n    showLabelBackdrop: true,\r\n    callback: Ticks.formatters.numeric\r\n  },\r\n  pointLabels: {\r\n    backdropColor: undefined,\r\n    backdropPadding: 2,\r\n    display: true,\r\n    font: {\r\n      size: 10\r\n    },\r\n    callback(label) {\r\n      return label;\r\n    },\r\n    padding: 5,\r\n    centerPointLabels: false\r\n  }\r\n};\r\nRadialLinearScale.defaultRoutes = {\r\n  'angleLines.color': 'borderColor',\r\n  'pointLabels.color': 'color',\r\n  'ticks.color': 'color'\r\n};\r\nRadialLinearScale.descriptors = {\r\n  angleLines: {\r\n    _fallback: 'grid'\r\n  }\r\n};\r\n\r\nconst INTERVALS = {\r\n  millisecond: {common: true, size: 1, steps: 1000},\r\n  second: {common: true, size: 1000, steps: 60},\r\n  minute: {common: true, size: 60000, steps: 60},\r\n  hour: {common: true, size: 3600000, steps: 24},\r\n  day: {common: true, size: 86400000, steps: 30},\r\n  week: {common: false, size: 604800000, steps: 4},\r\n  month: {common: true, size: 2.628e9, steps: 12},\r\n  quarter: {common: false, size: 7.884e9, steps: 4},\r\n  year: {common: true, size: 3.154e10}\r\n};\r\nconst UNITS = (Object.keys(INTERVALS));\r\nfunction sorter(a, b) {\r\n  return a - b;\r\n}\r\nfunction parse(scale, input) {\r\n  if (isNullOrUndef(input)) {\r\n    return null;\r\n  }\r\n  const adapter = scale._adapter;\r\n  const {parser, round, isoWeekday} = scale._parseOpts;\r\n  let value = input;\r\n  if (typeof parser === 'function') {\r\n    value = parser(value);\r\n  }\r\n  if (!isNumberFinite(value)) {\r\n    value = typeof parser === 'string'\r\n      ? adapter.parse(value, parser)\r\n      : adapter.parse(value);\r\n  }\r\n  if (value === null) {\r\n    return null;\r\n  }\r\n  if (round) {\r\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\r\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\r\n      : adapter.startOf(value, round);\r\n  }\r\n  return +value;\r\n}\r\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\r\n  const ilen = UNITS.length;\r\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\r\n    const interval = INTERVALS[UNITS[i]];\r\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\r\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\r\n      return UNITS[i];\r\n    }\r\n  }\r\n  return UNITS[ilen - 1];\r\n}\r\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\r\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\r\n    const unit = UNITS[i];\r\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\r\n      return unit;\r\n    }\r\n  }\r\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\r\n}\r\nfunction determineMajorUnit(unit) {\r\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\r\n    if (INTERVALS[UNITS[i]].common) {\r\n      return UNITS[i];\r\n    }\r\n  }\r\n}\r\nfunction addTick(ticks, time, timestamps) {\r\n  if (!timestamps) {\r\n    ticks[time] = true;\r\n  } else if (timestamps.length) {\r\n    const {lo, hi} = _lookup(timestamps, time);\r\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\r\n    ticks[timestamp] = true;\r\n  }\r\n}\r\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\r\n  const adapter = scale._adapter;\r\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\r\n  const last = ticks[ticks.length - 1].value;\r\n  let major, index;\r\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\r\n    index = map[major];\r\n    if (index >= 0) {\r\n      ticks[index].major = true;\r\n    }\r\n  }\r\n  return ticks;\r\n}\r\nfunction ticksFromTimestamps(scale, values, majorUnit) {\r\n  const ticks = [];\r\n  const map = {};\r\n  const ilen = values.length;\r\n  let i, value;\r\n  for (i = 0; i < ilen; ++i) {\r\n    value = values[i];\r\n    map[value] = i;\r\n    ticks.push({\r\n      value,\r\n      major: false\r\n    });\r\n  }\r\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\r\n}\r\nclass TimeScale extends Scale {\r\n  constructor(props) {\r\n    super(props);\r\n    this._cache = {\r\n      data: [],\r\n      labels: [],\r\n      all: []\r\n    };\r\n    this._unit = 'day';\r\n    this._majorUnit = undefined;\r\n    this._offsets = {};\r\n    this._normalized = false;\r\n    this._parseOpts = undefined;\r\n  }\r\n  init(scaleOpts, opts) {\r\n    const time = scaleOpts.time || (scaleOpts.time = {});\r\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\r\n    mergeIf(time.displayFormats, adapter.formats());\r\n    this._parseOpts = {\r\n      parser: time.parser,\r\n      round: time.round,\r\n      isoWeekday: time.isoWeekday\r\n    };\r\n    super.init(scaleOpts);\r\n    this._normalized = opts.normalized;\r\n  }\r\n  parse(raw, index) {\r\n    if (raw === undefined) {\r\n      return null;\r\n    }\r\n    return parse(this, raw);\r\n  }\r\n  beforeLayout() {\r\n    super.beforeLayout();\r\n    this._cache = {\r\n      data: [],\r\n      labels: [],\r\n      all: []\r\n    };\r\n  }\r\n  determineDataLimits() {\r\n    const options = this.options;\r\n    const adapter = this._adapter;\r\n    const unit = options.time.unit || 'day';\r\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\r\n    function _applyBounds(bounds) {\r\n      if (!minDefined && !isNaN(bounds.min)) {\r\n        min = Math.min(min, bounds.min);\r\n      }\r\n      if (!maxDefined && !isNaN(bounds.max)) {\r\n        max = Math.max(max, bounds.max);\r\n      }\r\n    }\r\n    if (!minDefined || !maxDefined) {\r\n      _applyBounds(this._getLabelBounds());\r\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\r\n        _applyBounds(this.getMinMax(false));\r\n      }\r\n    }\r\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\r\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\r\n    this.min = Math.min(min, max - 1);\r\n    this.max = Math.max(min + 1, max);\r\n  }\r\n  _getLabelBounds() {\r\n    const arr = this.getLabelTimestamps();\r\n    let min = Number.POSITIVE_INFINITY;\r\n    let max = Number.NEGATIVE_INFINITY;\r\n    if (arr.length) {\r\n      min = arr[0];\r\n      max = arr[arr.length - 1];\r\n    }\r\n    return {min, max};\r\n  }\r\n  buildTicks() {\r\n    const options = this.options;\r\n    const timeOpts = options.time;\r\n    const tickOpts = options.ticks;\r\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\r\n    if (options.bounds === 'ticks' && timestamps.length) {\r\n      this.min = this._userMin || timestamps[0];\r\n      this.max = this._userMax || timestamps[timestamps.length - 1];\r\n    }\r\n    const min = this.min;\r\n    const max = this.max;\r\n    const ticks = _filterBetween(timestamps, min, max);\r\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\r\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\r\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\r\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\r\n      : determineMajorUnit(this._unit);\r\n    this.initOffsets(timestamps);\r\n    if (options.reverse) {\r\n      ticks.reverse();\r\n    }\r\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\r\n  }\r\n  initOffsets(timestamps) {\r\n    let start = 0;\r\n    let end = 0;\r\n    let first, last;\r\n    if (this.options.offset && timestamps.length) {\r\n      first = this.getDecimalForValue(timestamps[0]);\r\n      if (timestamps.length === 1) {\r\n        start = 1 - first;\r\n      } else {\r\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\r\n      }\r\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\r\n      if (timestamps.length === 1) {\r\n        end = last;\r\n      } else {\r\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\r\n      }\r\n    }\r\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\r\n    start = _limitValue(start, 0, limit);\r\n    end = _limitValue(end, 0, limit);\r\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\r\n  }\r\n  _generate() {\r\n    const adapter = this._adapter;\r\n    const min = this.min;\r\n    const max = this.max;\r\n    const options = this.options;\r\n    const timeOpts = options.time;\r\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\r\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\r\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\r\n    const hasWeekday = isNumber(weekday) || weekday === true;\r\n    const ticks = {};\r\n    let first = min;\r\n    let time, count;\r\n    if (hasWeekday) {\r\n      first = +adapter.startOf(first, 'isoWeek', weekday);\r\n    }\r\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\r\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\r\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\r\n    }\r\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\r\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\r\n      addTick(ticks, time, timestamps);\r\n    }\r\n    if (time === max || options.bounds === 'ticks' || count === 1) {\r\n      addTick(ticks, time, timestamps);\r\n    }\r\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\r\n  }\r\n  getLabelForValue(value) {\r\n    const adapter = this._adapter;\r\n    const timeOpts = this.options.time;\r\n    if (timeOpts.tooltipFormat) {\r\n      return adapter.format(value, timeOpts.tooltipFormat);\r\n    }\r\n    return adapter.format(value, timeOpts.displayFormats.datetime);\r\n  }\r\n  _tickFormatFunction(time, index, ticks, format) {\r\n    const options = this.options;\r\n    const formats = options.time.displayFormats;\r\n    const unit = this._unit;\r\n    const majorUnit = this._majorUnit;\r\n    const minorFormat = unit && formats[unit];\r\n    const majorFormat = majorUnit && formats[majorUnit];\r\n    const tick = ticks[index];\r\n    const major = majorUnit && majorFormat && tick && tick.major;\r\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\r\n    const formatter = options.ticks.callback;\r\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\r\n  }\r\n  generateTickLabels(ticks) {\r\n    let i, ilen, tick;\r\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n      tick = ticks[i];\r\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\r\n    }\r\n  }\r\n  getDecimalForValue(value) {\r\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\r\n  }\r\n  getPixelForValue(value) {\r\n    const offsets = this._offsets;\r\n    const pos = this.getDecimalForValue(value);\r\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\r\n  }\r\n  getValueForPixel(pixel) {\r\n    const offsets = this._offsets;\r\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\r\n    return this.min + pos * (this.max - this.min);\r\n  }\r\n  _getLabelSize(label) {\r\n    const ticksOpts = this.options.ticks;\r\n    const tickLabelWidth = this.ctx.measureText(label).width;\r\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\r\n    const cosRotation = Math.cos(angle);\r\n    const sinRotation = Math.sin(angle);\r\n    const tickFontSize = this._resolveTickFontOptions(0).size;\r\n    return {\r\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\r\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\r\n    };\r\n  }\r\n  _getLabelCapacity(exampleTime) {\r\n    const timeOpts = this.options.time;\r\n    const displayFormats = timeOpts.displayFormats;\r\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\r\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\r\n    const size = this._getLabelSize(exampleLabel);\r\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\r\n    return capacity > 0 ? capacity : 1;\r\n  }\r\n  getDataTimestamps() {\r\n    let timestamps = this._cache.data || [];\r\n    let i, ilen;\r\n    if (timestamps.length) {\r\n      return timestamps;\r\n    }\r\n    const metas = this.getMatchingVisibleMetas();\r\n    if (this._normalized && metas.length) {\r\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\r\n    }\r\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\r\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\r\n    }\r\n    return (this._cache.data = this.normalize(timestamps));\r\n  }\r\n  getLabelTimestamps() {\r\n    const timestamps = this._cache.labels || [];\r\n    let i, ilen;\r\n    if (timestamps.length) {\r\n      return timestamps;\r\n    }\r\n    const labels = this.getLabels();\r\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\r\n      timestamps.push(parse(this, labels[i]));\r\n    }\r\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\r\n  }\r\n  normalize(values) {\r\n    return _arrayUnique(values.sort(sorter));\r\n  }\r\n}\r\nTimeScale.id = 'time';\r\nTimeScale.defaults = {\r\n  bounds: 'data',\r\n  adapters: {},\r\n  time: {\r\n    parser: false,\r\n    unit: false,\r\n    round: false,\r\n    isoWeekday: false,\r\n    minUnit: 'millisecond',\r\n    displayFormats: {}\r\n  },\r\n  ticks: {\r\n    source: 'auto',\r\n    major: {\r\n      enabled: false\r\n    }\r\n  }\r\n};\r\n\r\nfunction interpolate(table, val, reverse) {\r\n  let lo = 0;\r\n  let hi = table.length - 1;\r\n  let prevSource, nextSource, prevTarget, nextTarget;\r\n  if (reverse) {\r\n    if (val >= table[lo].pos && val <= table[hi].pos) {\r\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\r\n    }\r\n    ({pos: prevSource, time: prevTarget} = table[lo]);\r\n    ({pos: nextSource, time: nextTarget} = table[hi]);\r\n  } else {\r\n    if (val >= table[lo].time && val <= table[hi].time) {\r\n      ({lo, hi} = _lookupByKey(table, 'time', val));\r\n    }\r\n    ({time: prevSource, pos: prevTarget} = table[lo]);\r\n    ({time: nextSource, pos: nextTarget} = table[hi]);\r\n  }\r\n  const span = nextSource - prevSource;\r\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\r\n}\r\nclass TimeSeriesScale extends TimeScale {\r\n  constructor(props) {\r\n    super(props);\r\n    this._table = [];\r\n    this._minPos = undefined;\r\n    this._tableRange = undefined;\r\n  }\r\n  initOffsets() {\r\n    const timestamps = this._getTimestampsForTable();\r\n    const table = this._table = this.buildLookupTable(timestamps);\r\n    this._minPos = interpolate(table, this.min);\r\n    this._tableRange = interpolate(table, this.max) - this._minPos;\r\n    super.initOffsets(timestamps);\r\n  }\r\n  buildLookupTable(timestamps) {\r\n    const {min, max} = this;\r\n    const items = [];\r\n    const table = [];\r\n    let i, ilen, prev, curr, next;\r\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n      curr = timestamps[i];\r\n      if (curr >= min && curr <= max) {\r\n        items.push(curr);\r\n      }\r\n    }\r\n    if (items.length < 2) {\r\n      return [\r\n        {time: min, pos: 0},\r\n        {time: max, pos: 1}\r\n      ];\r\n    }\r\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\r\n      next = items[i + 1];\r\n      prev = items[i - 1];\r\n      curr = items[i];\r\n      if (Math.round((next + prev) / 2) !== curr) {\r\n        table.push({time: curr, pos: i / (ilen - 1)});\r\n      }\r\n    }\r\n    return table;\r\n  }\r\n  _getTimestampsForTable() {\r\n    let timestamps = this._cache.all || [];\r\n    if (timestamps.length) {\r\n      return timestamps;\r\n    }\r\n    const data = this.getDataTimestamps();\r\n    const label = this.getLabelTimestamps();\r\n    if (data.length && label.length) {\r\n      timestamps = this.normalize(data.concat(label));\r\n    } else {\r\n      timestamps = data.length ? data : label;\r\n    }\r\n    timestamps = this._cache.all = timestamps;\r\n    return timestamps;\r\n  }\r\n  getDecimalForValue(value) {\r\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\r\n  }\r\n  getValueForPixel(pixel) {\r\n    const offsets = this._offsets;\r\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\r\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\r\n  }\r\n}\r\nTimeSeriesScale.id = 'timeseries';\r\nTimeSeriesScale.defaults = TimeScale.defaults;\r\n\r\nvar scales = /*#__PURE__*/Object.freeze({\r\n__proto__: null,\r\nCategoryScale: CategoryScale,\r\nLinearScale: LinearScale,\r\nLogarithmicScale: LogarithmicScale,\r\nRadialLinearScale: RadialLinearScale,\r\nTimeScale: TimeScale,\r\nTimeSeriesScale: TimeSeriesScale\r\n});\r\n\r\nconst registerables = [\r\n  controllers,\r\n  elements,\r\n  plugins,\r\n  scales,\r\n];\r\n\r\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\r\n","import { Chart, BarController, DoughnutController, LineController, PieController, PolarAreaController, RadarController, BubbleController, ScatterController } from 'chart.js';\r\nimport { defineComponent, shallowRef, ref, watch, onMounted, onBeforeUnmount, toRaw, h, isProxy } from 'vue';\r\n\r\nvar ChartEmits;\r\n(function(ChartEmits) {\r\n    ChartEmits[\"ChartRendered\"] = 'chart:rendered';\r\n    ChartEmits[\"ChartUpdated\"] = 'chart:updated';\r\n    ChartEmits[\"ChartDestroyed\"] = 'chart:destroyed';\r\n    ChartEmits[\"LabelsUpdated\"] = 'labels:updated';\r\n})(ChartEmits || (ChartEmits = {}));\r\nfunction chartCreate(createChartFunction, chartData, chartOptions, context) {\r\n    createChartFunction(chartData, chartOptions);\r\n    if (context !== undefined) {\r\n        context.emit(ChartEmits.ChartRendered);\r\n    }\r\n}\r\nfunction chartUpdate(chart, context) {\r\n    chart.update();\r\n    if (context !== undefined) {\r\n        context.emit(ChartEmits.ChartUpdated);\r\n    }\r\n}\r\nfunction chartDestroy(chart, context) {\r\n    chart.destroy();\r\n    if (context !== undefined) {\r\n        context.emit(ChartEmits.ChartDestroyed);\r\n    }\r\n}\r\nfunction getChartData(data, datasetIdKey) {\r\n    const nextData = {\r\n        labels: typeof data.labels === 'undefined' ? [] : [\r\n            ...data.labels\r\n        ],\r\n        datasets: []\r\n    };\r\n    setChartDatasets(nextData, {\r\n        ...data\r\n    }, datasetIdKey);\r\n    return nextData;\r\n}\r\nfunction setChartDatasets(oldData, newData, datasetIdKey) {\r\n    const addedDatasets = [];\r\n    oldData.datasets = newData.datasets.map((nextDataset)=>{\r\n        // given the new set, find it's current match\r\n        const currentDataset = oldData.datasets.find((dataset)=>dataset[datasetIdKey] === nextDataset[datasetIdKey]\r\n        );\r\n        // There is no original to update, so simply add new one\r\n        if (!currentDataset || !nextDataset.data || addedDatasets.includes(currentDataset)) {\r\n            return {\r\n                ...nextDataset\r\n            };\r\n        }\r\n        addedDatasets.push(currentDataset);\r\n        Object.assign(currentDataset, nextDataset);\r\n        return currentDataset;\r\n    });\r\n}\r\nfunction setChartLabels(chart, labels, context) {\r\n    chart.data.labels = labels;\r\n    if (context !== undefined) {\r\n        context.emit(ChartEmits.LabelsUpdated);\r\n    }\r\n}\r\nfunction compareData(newData, oldData) {\r\n    // Get new and old DataSet Labels\r\n    const newDatasetLabels = newData.datasets.map((dataset)=>{\r\n        return dataset.label;\r\n    });\r\n    const oldDatasetLabels = oldData.datasets.map((dataset)=>{\r\n        return dataset.label;\r\n    });\r\n    // Check if Labels are equal and if dataset length is equal\r\n    return oldData.datasets.length === newData.datasets.length && newDatasetLabels.every((value, index)=>value === oldDatasetLabels[index]\r\n    );\r\n}\r\nconst templateError = 'Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components';\r\n\r\nconst generateChart = (chartId, chartType, chartController)=>{\r\n    return defineComponent({\r\n        props: {\r\n            chartData: {\r\n                type: Object,\r\n                required: true\r\n            },\r\n            chartOptions: {\r\n                type: Object,\r\n                default: ()=>{}\r\n            },\r\n            datasetIdKey: {\r\n                type: String,\r\n                default: 'label'\r\n            },\r\n            chartId: {\r\n                type: String,\r\n                default: chartId\r\n            },\r\n            width: {\r\n                type: Number,\r\n                default: 400\r\n            },\r\n            height: {\r\n                type: Number,\r\n                default: 400\r\n            },\r\n            cssClasses: {\r\n                type: String,\r\n                default: ''\r\n            },\r\n            styles: {\r\n                type: Object,\r\n                default: ()=>{}\r\n            },\r\n            plugins: {\r\n                type: Array,\r\n                default: ()=>[]\r\n            }\r\n        },\r\n        setup (props, context) {\r\n            Chart.register(chartController);\r\n            const _chart = shallowRef(null);\r\n            const canvasEl = ref(null);\r\n            function renderChart(data, options) {\r\n                if (_chart.value !== null) {\r\n                    chartDestroy(toRaw(_chart.value), context);\r\n                }\r\n                if (canvasEl.value === null) {\r\n                    throw new Error(templateError);\r\n                } else {\r\n                    const chartData = getChartData(data, props.datasetIdKey);\r\n                    const canvasEl2DContext = canvasEl.value.getContext('2d');\r\n                    if (canvasEl2DContext !== null) {\r\n                        _chart.value = new Chart(canvasEl2DContext, {\r\n                            type: chartType,\r\n                            data: isProxy(data) ? new Proxy(chartData, {}) : chartData,\r\n                            options,\r\n                            plugins: props.plugins\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            function chartDataHandler(newValue, oldValue) {\r\n                const newData = isProxy(newValue) ? toRaw(newValue) : {\r\n                    ...newValue\r\n                };\r\n                const oldData = isProxy(oldValue) ? toRaw(oldValue) : {\r\n                    ...oldValue\r\n                };\r\n                if (Object.keys(oldData).length > 0) {\r\n                    const chart = toRaw(_chart.value);\r\n                    const isEqualLabelsAndDatasetsLength = compareData(newData, oldData);\r\n                    if (isEqualLabelsAndDatasetsLength && chart !== null) {\r\n                        setChartDatasets(chart === null || chart === void 0 ? void 0 : chart.data, newData, props.datasetIdKey);\r\n                        if (newData.labels !== undefined) {\r\n                            setChartLabels(chart, newData.labels, context);\r\n                        }\r\n                        chartUpdate(chart, context);\r\n                    } else {\r\n                        if (chart !== null) {\r\n                            chartDestroy(chart, context);\r\n                        }\r\n                        chartCreate(renderChart, props.chartData, props.chartOptions, context);\r\n                    }\r\n                } else {\r\n                    if (_chart.value !== null) {\r\n                        chartDestroy(toRaw(_chart.value), context);\r\n                    }\r\n                    chartCreate(renderChart, props.chartData, props.chartOptions, context);\r\n                }\r\n            }\r\n            watch(()=>props.chartData\r\n            , (newValue, oldValue)=>chartDataHandler(newValue, oldValue)\r\n            , {\r\n                deep: true\r\n            });\r\n            onMounted(()=>{\r\n                if ('datasets' in props.chartData && props.chartData.datasets.length > 0) {\r\n                    chartCreate(renderChart, props.chartData, props.chartOptions, context);\r\n                }\r\n            });\r\n            onBeforeUnmount(()=>{\r\n                if (_chart.value !== null) {\r\n                    chartDestroy(toRaw(_chart.value), context);\r\n                }\r\n            });\r\n            return ()=>h('div', {\r\n                    style: props.styles,\r\n                    class: props.cssClasses\r\n                }, [\r\n                    h('canvas', {\r\n                        id: props.chartId,\r\n                        width: props.width,\r\n                        height: props.height,\r\n                        ref: canvasEl\r\n                    })\r\n                ])\r\n            ;\r\n        }\r\n    });\r\n};\r\nconst Bar = /* #__PURE__ */ generateChart('bar-chart', 'bar', BarController);\r\nconst Doughnut = /* #__PURE__ */ generateChart('doughnut-chart', 'doughnut', DoughnutController);\r\nconst Line = /* #__PURE__ */ generateChart('line-chart', 'line', LineController);\r\nconst Pie = /* #__PURE__ */ generateChart('pie-chart', 'pie', PieController);\r\nconst PolarArea = /* #__PURE__ */ generateChart('polar-chart', 'polarArea', PolarAreaController);\r\nconst Radar = /* #__PURE__ */ generateChart('radar-chart', 'radar', RadarController);\r\nconst Bubble = /* #__PURE__ */ generateChart('bubble-chart', 'bubble', BubbleController);\r\nconst Scatter = /* #__PURE__ */ generateChart('scatter-chart', 'scatter', ScatterController);\r\n\r\nexport { Bar, Bubble, Doughnut, Line, Pie, PolarArea, Radar, Scatter, generateChart };\r\n//# sourceMappingURL=index.js.map\r\n","import { render } from \"./barchart.vue?vue&type=template&id=2dc87e13\"\nimport script from \"./barchart.vue?vue&type=script&lang=js\"\nexport * from \"./barchart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\gturkson\\\\OneDrive - JUALGROUP\\\\Documents\\\\Projects\\\\New folder\\\\agdatahub\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<Line\r\n    :chart-options=\"chartOptions\"\r\n    :chart-data=\"chartData\"\r\n    :chart-id=\"chartId\"\r\n    :dataset-id-key=\"datasetIdKey\"\r\n    :css-classes=\"cssClasses\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n    :styles=\"styles\"\r\n\r\n/>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, h, PropType } from 'vue'\r\n\r\n    import { Line } from 'vue-chartjs'\r\n    import {\r\n    Chart as ChartJS,\r\n    Title,\r\n    Filler,\r\n    Tooltip,\r\n    Legend,\r\n    LineElement,\r\n    LinearScale,\r\n    PointElement,\r\n    CategoryScale,\r\n    Plugin\r\n    } from 'chart.js'\r\n\r\n    ChartJS.register(\r\n    Title,\r\n    Filler,\r\n    Tooltip,\r\n    Legend,\r\n    LineElement,\r\n    LinearScale,\r\n    PointElement,\r\n    CategoryScale\r\n    )\r\n\r\nexport default {\r\n    name: \"LineChart\",\r\n    components: { \r\n        Line \r\n    },\r\n    props: {\r\n        chartId: {\r\n            type: String,\r\n            default: \"Line-chart\",\r\n        },\r\n        datasetIdKey: {\r\n            type: String,\r\n            default: \"label\",\r\n        },\r\n        width: {\r\n            type: Number,\r\n            default: 400,\r\n        },\r\n        height: {\r\n            type: Number,\r\n            default: 250,\r\n        },\r\n        cssClasses: {\r\n            default: \"\",\r\n            type: String,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            styles:{\r\n                    height: '100%'\r\n                },\r\n            chartData :{\r\n                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],\r\n                datasets: [\r\n                    {\r\n                        label: 'Data One',\r\n                        backgroundColor: '#f879796e',\r\n                        borderColor:'#f87979',\r\n                        data: [40, 39, 10, 40, 39, 80, 40],\r\n                        fill:true\r\n                    },\r\n                    {\r\n                        label: 'Data two',\r\n                        backgroundColor: '#0451a46e',\r\n                        borderColor:'#0451a4',\r\n                        data: [10, 34, 12, 50, 24, 18, 40],\r\n                        fill:true\r\n                    }\r\n                ]\r\n            },\r\n            chartOptions : {\r\n                responsive: true,\r\n                maintainAspectRatio: false\r\n            }\r\n        };\r\n    },\r\n};\r\n</script>    \r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./lineChart.vue?vue&type=template&id=6cadde2c\"\nimport script from \"./lineChart.vue?vue&type=script&lang=js\"\nexport * from \"./lineChart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\gturkson\\\\OneDrive - JUALGROUP\\\\Documents\\\\Projects\\\\New folder\\\\agdatahub\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<Doughnut\r\n    :chart-options=\"chartOptions\"\r\n    :chart-data=\"chartData\"\r\n    :chart-id=\"chartId\"\r\n    :dataset-id-key=\"datasetIdKey\"\r\n    :css-classes=\"cssClasses\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n    :styles=\"styles\"\r\n\r\n/>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, h, PropType } from 'vue'\r\n\r\nimport { Doughnut } from 'vue-chartjs'\r\nimport {\r\n  Chart as ChartJS,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  CategoryScale,\r\n  Plugin\r\n} from 'chart.js'\r\n\r\nChartJS.register(Title, Tooltip, Legend, ArcElement, CategoryScale)\r\n\r\n\r\nexport default {\r\n    name: \"DoughnutChart\",\r\n    components: { \r\n        Doughnut \r\n    },\r\n    props: {\r\n        chartId: {\r\n            type: String,\r\n            default: \"Doughnut-chart\",\r\n        },\r\n        datasetIdKey: {\r\n            type: String,\r\n            default: \"label\",\r\n        },\r\n        width: {\r\n            type: Number,\r\n            default: 400,\r\n        },\r\n        height: {\r\n            type: Number,\r\n            default: 250,\r\n        },\r\n        cssClasses: {\r\n            default: \"\",\r\n            type: String,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            styles:{\r\n                    height: '100%'\r\n                },\r\n            chartData :{\r\n                labels: ['VueJs', 'EmberJs', 'ReactJs', 'AngularJs'],\r\n                    datasets: [\r\n                        {\r\n                        backgroundColor: ['#41B883', '#E46651', '#00D8FF', '#DD1B16'],\r\n                        data: [40, 20, 80, 10]\r\n                        },\r\n                        {\r\n                        backgroundColor: ['#41B883', '#E46651', '#00D8FF', '#DD1B16'],\r\n                        data: [10, 30, 70, 15]\r\n                        }\r\n                    ]\r\n            },\r\n            chartOptions : {\r\n                responsive: true,\r\n                maintainAspectRatio: false\r\n            }\r\n        };\r\n    },\r\n};\r\n</script>    ","import { render } from \"./doughnut.vue?vue&type=template&id=168312df\"\nimport script from \"./doughnut.vue?vue&type=script&lang=js\"\nexport * from \"./doughnut.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\gturkson\\\\OneDrive - JUALGROUP\\\\Documents\\\\Projects\\\\New folder\\\\agdatahub\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<Radar\r\n    :chart-options=\"chartOptions\"\r\n    :chart-data=\"chartData\"\r\n    :chart-id=\"chartId\"\r\n    :dataset-id-key=\"datasetIdKey\"\r\n    :css-classes=\"cssClasses\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n    :styles=\"styles\"\r\n\r\n/>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, h, PropType } from 'vue'\r\n\r\nimport { Radar } from 'vue-chartjs'\r\nimport {\r\n  Chart as ChartJS,\r\n  Filler,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  PointElement,\r\n  RadialLinearScale,\r\n  LineElement,\r\n  Plugin\r\n} from 'chart.js'\r\n\r\nChartJS.register(\r\n    Filler,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    PointElement,\r\n    RadialLinearScale,\r\n    LineElement\r\n)\r\n\r\nexport default {\r\n    name: \"RadarChart\",\r\n    components: { \r\n        Radar \r\n    },\r\n    props: {\r\n        chartId: {\r\n            type: String,\r\n            default: \"Radar-chart\",\r\n        },\r\n        datasetIdKey: {\r\n            type: String,\r\n            default: \"label\",\r\n        },\r\n        width: {\r\n            type: Number,\r\n            default: 400,\r\n        },\r\n        height: {\r\n            type: Number,\r\n            default: 250,\r\n        },\r\n        cssClasses: {\r\n            default: \"\",\r\n            type: String,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            styles:{\r\n                    height: '100%'\r\n                },\r\n            chartData :{\r\n                labels: [\r\n                    'Eating',\r\n                    'Drinking',\r\n                    'Sleeping',\r\n                    'Designing',\r\n                    'Coding',\r\n                    'Cycling',\r\n                    'Running'\r\n                ],\r\n                    datasets: [\r\n                        {\r\n                            label: 'My First dataset',\r\n                            backgroundColor: 'rgba(179,181,198,0.2)',\r\n                            borderColor: 'rgba(179,181,198,1)',\r\n                            pointBackgroundColor: 'rgba(179,181,198,1)',\r\n                            pointBorderColor: '#fff',\r\n                            pointHoverBackgroundColor: '#fff',\r\n                            pointHoverBorderColor: 'rgba(179,181,198,1)',\r\n                            data: [65, 59, 90, 81, 56, 55, 40]\r\n                            },\r\n                            {\r\n                            label: 'My Second dataset',\r\n                            backgroundColor: 'rgba(255,99,132,0.2)',\r\n                            borderColor: 'rgba(255,99,132,1)',\r\n                            pointBackgroundColor: 'rgba(255,99,132,1)',\r\n                            pointBorderColor: '#fff',\r\n                            pointHoverBackgroundColor: '#fff',\r\n                            pointHoverBorderColor: 'rgba(255,99,132,1)',\r\n                            data: [28, 48, 40, 19, 96, 27, 100]\r\n                            }\r\n                    ]\r\n            },\r\n            chartOptions : {\r\n                responsive: true,\r\n                maintainAspectRatio: false\r\n            }\r\n        };\r\n    },\r\n};\r\n</script>    ","import { render } from \"./radar.vue?vue&type=template&id=73138007\"\nimport script from \"./radar.vue?vue&type=script&lang=js\"\nexport * from \"./radar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\gturkson\\\\OneDrive - JUALGROUP\\\\Documents\\\\Projects\\\\New folder\\\\agdatahub\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Scatter\r\n      :chart-options=\"chartOptions\"\r\n      :chart-data=\"chartData\"\r\n      :chart-id=\"chartId\"\r\n      :dataset-id-key=\"datasetIdKey\"\r\n      :css-classes=\"cssClasses\"\r\n      :width=\"width\"\r\n      :height=\"height\"\r\n      :styles=\"styles\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, h, PropType } from 'vue'\r\n\r\nimport { Scatter } from 'vue-chartjs'\r\nimport {\r\n  Chart as ChartJS,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  LineElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  Plugin\r\n} from 'chart.js'\r\n\r\nChartJS.register(\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  LineElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement\r\n)\r\n\r\n\r\nexport default {\r\n    name: \"ScatterChart\",\r\n    components: { \r\n        Scatter \r\n    },\r\n    props: {\r\n        chartId: {\r\n            type: String,\r\n            default: \"scatter-chart\",\r\n        },\r\n        datasetIdKey: {\r\n            type: String,\r\n            default: \"label\",\r\n        },\r\n        width: {\r\n            type: Number,\r\n            default: 400,\r\n        },\r\n        height: {\r\n            type: Number,\r\n            default: 250,\r\n        },\r\n        cssClasses: {\r\n            default: \"\",\r\n            type: String,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            styles:{\r\n                    height: '100%'\r\n                },\r\n            chartData : {\r\n              datasets: [\r\n                {\r\n                  label: 'Scatter Dataset 1',\r\n                  fill: false,\r\n                  borderColor: '#f87979',\r\n                  backgroundColor: '#f87979',\r\n                  data: [\r\n                    {\r\n                      x: -2,\r\n                      y: 4\r\n                    },\r\n                    {\r\n                      x: -1,\r\n                      y: 1\r\n                    },\r\n                    {\r\n                      x: 0,\r\n                      y: 0\r\n                    },\r\n                    {\r\n                      x: 1,\r\n                      y: 1\r\n                    },\r\n                    {\r\n                      x: 2,\r\n                      y: 4\r\n                    }\r\n                  ]\r\n                },\r\n                {\r\n                  label: 'Scatter Dataset 2',\r\n                  fill: false,\r\n                  borderColor: '#7acbf9',\r\n                  backgroundColor: '#7acbf9',\r\n                  data: [\r\n                    {\r\n                      x: -2,\r\n                      y: -4\r\n                    },\r\n                    {\r\n                      x: -1,\r\n                      y: -1\r\n                    },\r\n                    {\r\n                      x: 0,\r\n                      y: 1\r\n                    },\r\n                    {\r\n                      x: 1,\r\n                      y: -1\r\n                    },\r\n                    {\r\n                      x: 2,\r\n                      y: -4\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            },\r\n            chartOptions : {\r\n                responsive: true,\r\n                maintainAspectRatio: false\r\n            }\r\n        };\r\n    },\r\n};\r\n</script>    ","import { render } from \"./scatter.vue?vue&type=template&id=52ed8734\"\nimport script from \"./scatter.vue?vue&type=script&lang=js\"\nexport * from \"./scatter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\gturkson\\\\OneDrive - JUALGROUP\\\\Documents\\\\Projects\\\\New folder\\\\agdatahub\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <!-- offcanvas -->\r\n    <div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n        <!-- offcanvas header -->\r\n        <div class=\"offcanvas-header\">\r\n            <u>\r\n                <h6 class=\"offcanvas-title fw-bolder text-uppercase\" id=\"offcanvasExampleLabel\">Dashboard</h6>\r\n            </u>\r\n            \r\n            <button class=\"btn btn-warning px-5 btn-sm\" @click=\"addPanel()\">Add Panel</button>\r\n            <button type=\"button\" class=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <!-- offcanvas header end | offcanvas body start -->\r\n        <div class=\"offcanvas-body\">\r\n            <!-- accordion -->\r\n            <div class=\"accordion\" id=\"accordionPanelsStayOpenExample\">\r\n                <!-- accordion item  -->\r\n                <div class=\"accordion-item mb-3\" v-for=\"(data, index) in formdata\" :key=\"index\" v-show=\" index < 4\">\r\n                    <!-- accordion header -->\r\n                    <div class=\"accordion-header \" :id=\"`panelsStayOpen-heading${index}`\">\r\n                        <button class=\"btn  float-end text-danger trashbtn\"  @click=\"formdata.splice(index, 1)\"><i class=\"bi bi-trash3-fill\"></i></button>\r\n                        <button class=\"accordion-button text-light fw-normal\" style=\"width:90% !important; background-color:#e76e83\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                            :data-bs-target=\"`#panelsStayOpen-collapse${index}`\" aria-expanded=\"true\"\r\n                            :aria-controls=\"`panelsStayOpen-collapse${index}`\">\r\n                            P {{index + 1}}\r\n                            <select class=\"form-select form-select-sm w-50 mx-4\" @change=\"getFormValue()\" v-model=\"data.datasetVal\" aria-label=\".form-select-sm example\">\r\n                                <option value=\"default\">Select Dataset</option>\r\n                                <option value=\"1\">One</option>\r\n                                <option value=\"2\">Two</option>\r\n                                <option value=\"3\">Three</option>\r\n                            </select>\r\n                        </button>\r\n                    </div>\r\n                    <!-- accordion header end -->\r\n                    <div :id=\"`panelsStayOpen-collapse${index}`\" class=\"accordion-collapse collapse show\"\r\n                        :aria-labelledby=\"`panelsStayOpen-heading${index}`\">\r\n                        <div class=\"accordion-body\">\r\n                            <!-- form item -->\r\n                            <form class=\"border p-3 rounded-3 \">\r\n                                <div class=\"text-start mb-1\">\r\n                                    <label for=\"exampleFormControlInput1\" class=\"form-label mb-0\"\r\n                                        style=\"font-size:10px\">Y-data</label>\r\n                                    <select class=\"form-select form-select-sm\" @change=\"getFormValue()\" v-model=\"data.data1\" aria-label=\".form-select-sm example\">\r\n                                        <option >Y-Data</option>\r\n                                        <option value=\"1\">One</option>\r\n                                        <option value=\"2\">Two</option>\r\n                                        <option value=\"3\">Three</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"text-start mb-1\">\r\n                                    <label for=\"exampleFormControlInput1\" class=\"form-label mb-0\"\r\n                                        style=\"font-size:10px\">X-Data</label>\r\n                                    <select class=\"form-select form-select-sm\" @change=\"getFormValue()\" v-model=\"data.data2\" aria-label=\".form-select-sm example\">\r\n                                        <option >X-Data</option>\r\n                                        <option value=\"1\">One</option>\r\n                                        <option value=\"2\">Two</option>\r\n                                        <option value=\"3\">Three</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col text-start\">\r\n                                        <label for=\"exampleFormControlInput1\" class=\"form-label mb-0\"\r\n                                            style=\"font-size:10px\">Category</label>\r\n                                        <select class=\"form-select form-select-sm\" @change=\"getFormValue()\" v-model=\"data.data3\" aria-label=\".form-select-sm example\">\r\n                                            <option >X-Data</option>\r\n                                            <option value=\"1\">One</option>\r\n                                            <option value=\"2\">Two</option>\r\n                                            <option value=\"3\">Three</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div class=\"col text-start\">\r\n                                        <label for=\"exampleFormControlInput1\" class=\"form-label mb-0\"\r\n                                            style=\"font-size:10px\">Properties</label>\r\n                                        <select class=\"form-select form-select-sm\" @change=\"getFormValue()\" v-model=\"data.data4\" aria-label=\".form-select-sm example\">\r\n                                            <option >X-Data</option>\r\n                                            <option value=\"1\">One</option>\r\n                                            <option value=\"2\">Two</option>\r\n                                            <option value=\"3\">Three</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                            <!-- form item end-->\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- accordion item end -->\r\n            </div>\r\n            <!-- accordion end -->\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: \"dashboardform\",\r\n        emits:[\r\n            \"panelValues\"\r\n            ],\r\n        data() {\r\n            return {\r\n                formdata: [\r\n                {\r\n                    datasetVal:'default',\r\n                    data1: \"1\",\r\n                    data2: \"2\",\r\n                    data3: \"1\",\r\n                    data4: \"3\",\r\n                },\r\n                ]\r\n            }\r\n        },\r\n        methods: {\r\n            addPanel() {\r\n                this.formdata.push({\r\n                    data1: '',\r\n                    data2: '',\r\n                    data3: '',\r\n                    data4: ''\r\n                })\r\n            },\r\n            getFormValue(){\r\n                console.log(this.formdata) \r\n                this.$emit(\"panelValues\", this.formdata)\r\n            },\r\n            submit () {\r\n                const data = {\r\n                    workExperiences: this.workExperiences\r\n                }\r\n                alert(JSON.stringify(data, null, 2))\r\n            }\r\n        },\r\n        computed:{\r\n            jsColor(){\r\n                return ;\r\n            }\r\n        }  \r\n    }\r\n</script>\r\n<style scoped>\r\n.accordion-button{\r\n    height: 40px;\r\n}\r\n.trashbtn{\r\n    width: 10% !important;\r\n    padding: 0rem 0.25rem;\r\n    border-end-start-radius: 0px;\r\n    border-end-end-radius: 0px;\r\n    border-start-start-radius: 0px;\r\n    border: 0px !important;\r\n    height: 40px;\r\n    background-color: #e76e83;\r\n}\r\n.form-select{\r\n    background-color: #fedbdb70;\r\n}\r\n.trashbtn:focus {\r\n    outline: 0;\r\n    box-shadow: 0 0 0 0.25rem rgb(13 110 253 / 0%);\r\n}\r\n.bi-trash3-fill:hover{\r\n    opacity: .5;\r\n}\r\n</style>","import { render } from \"./dashboardform.vue?vue&type=template&id=270de0a9&scoped=true\"\nimport script from \"./dashboardform.vue?vue&type=script&lang=js\"\nexport * from \"./dashboardform.vue?vue&type=script&lang=js\"\n\nimport \"./dashboardform.vue?vue&type=style&index=0&id=270de0a9&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\gturkson\\\\OneDrive - JUALGROUP\\\\Documents\\\\Projects\\\\New folder\\\\agdatahub\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-270de0a9\"]])\n\nexport default __exports__","import { render } from \"./Dashboard.vue?vue&type=template&id=35e70890&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=35e70890&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\gturkson\\\\OneDrive - JUALGROUP\\\\Documents\\\\Projects\\\\New folder\\\\agdatahub\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-35e70890\"]])\n\nexport default __exports__"],"names":["isCallable","isObject","setPrototypeOf","module","exports","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","uncurryThis","requireObjectCoercible","toString","whitespaces","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","string","start","end","trim","valueOf","$","global","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","TypeError","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","actualStart","argumentsLength","arguments","length","getBuiltIn","apply","fails","Array","$stringify","exec","charAt","charCodeAt","numberToString","tester","low","hi","fix","match","offset","prev","next","FORCED","stat","stringify","it","replacer","space","i","l","args","result","DESCRIPTORS","isForced","redefine","hasOwn","inheritIfRequired","isPrototypeOf","isSymbol","toPrimitive","getOwnPropertyNames","getOwnPropertyDescriptor","defineProperty","thisNumberValue","NUMBER","NativeNumber","NumberPrototype","arraySlice","slice","toNumeric","value","primValue","toNumber","argument","first","third","radix","maxCode","digits","index","code","NaN","parseInt","key","NumberWrapper","n","Object","keys","split","j","class","style","_createElementVNode","disabled","href","role","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_12","_createVNode","_component_Dashboardform","onPanelValues","$options","_hoisted_6","$data","_createElementBlock","_Fragment","_renderList","data","$event","_createBlock","_KeepAlive","_resolveDynamicComponent","_hoisted_20","_component_Bar","$props","plugins","styles","width","height","requestAnimFrame","window","callback","requestAnimationFrame","throttled","fn","thisArg","updateFn","updateArgs","call","ticking","rest","debounce","delay","timeout","clearTimeout","setTimeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","check","noop","uid","id","isNullOrUndef","isArray","type","substr","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toPercentage","dimension","endsWith","parseFloat","toDimension","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","clone$1","source","map","create","klen","isValidKey","indexOf","_merger","options","tval","sval","merge","sources","merger","mergeIf","_mergerIf","hasOwnProperty","emptyString","dot","indexOfDotOrLength","idx","resolveObjectKey","obj","pos","_capitalize","str","toUpperCase","defined","isFunction","setsEqual","a","b","size","item","has","_isClickEvent","e","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","range","roundedRange","round","almostEquals","niceRange","pow","floor","fraction","niceFraction","_factorize","sqrt","push","sort","pop","isNumber","isNaN","x","y","epsilon","abs","almostWhole","rounded","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","p","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","s","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","atEdge","t","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","m","d","easeInOutBounce","B","C","D","E","F","c","f","hex","h1","h2","eq","isShort","v","r","g","hexParse","ret","hexString","lim","h","p2b","n2b","b2n","n2p","RGB_RE","rgbParse","rgbString","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","p1","p2","rotate","deg","hslString","map$1","Z","Y","X","W","V","U","T","S","R","Q","P","N","M","L","K","G","H","I","J","names","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","tkeys","ok","nk","names$1","nameParse","transparent","toLowerCase","modHSL","ratio","tmp","clone","assign","fromObject","input","functionParse","Color","_rgb","_valid","valid","mix","color","weight","me","c1","c2","w2","w1","alpha","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","overrides","descriptors","getScope$1","node","set","root","scope","values","Defaults","_descriptors","animation","undefined","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","maintainAspectRatio","onHover","onClick","parsing","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","get","override","route","name","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","enumerable","local","defaults","_scriptable","startsWith","_indexable","_fallback","toFontString","_measureText","gc","longest","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","top","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","opts","lines","strokeWidth","strokeColor","line","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","translation","fillStyle","textAlign","textBaseline","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","numberOrZero","_readValueToProps","props","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","resolve","inputs","info","cacheable","_addGrace","minmax","grace","beginAtZero","change","keepZero","add","createContext","parentContext","_lookup","table","cmp","mid","lo","_lookupByKey","_rlookupByKey","_filterBetween","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","configurable","forEach","method","base","res","object","unlistenArrayEvents","stub","_arrayUnique","items","Set","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","Reflect","getPrototypeOf","getKeysFromAllScopes","includes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","_resolveScriptable","_resolveArray","Error","join","delete","createSubResolver","arr","filter","resolver","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","points","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","current","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","delta","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","tension","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","getStyle","el","getPropertyValue","positions","getPositionedStyle","suffix","useOffsetPos","shadowRoot","getCanvasPosition","evt","native","touches","offsetX","offsetY","box","getBoundingClientRect","clientX","clientY","getRelativePosition","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","getNumberFormat","locale","cacheKey","JSON","formatter","Intl","NumberFormat","formatNumber","num","format","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","count","getSegment","segment","bounds","startBound","endBound","_boundSegment","prevValue","inside","subStart","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","last","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","duration","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","listen","event","cb","reduce","acc","_duration","cancel","remove","animator","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","_target","_prop","_from","_to","_promises","active","update","elapsed","remain","wait","promises","Promise","rej","resolved","numbers","colors","animationOptions","properties","resize","show","animations","visible","hide","Animations","config","_properties","configure","animatedProps","option","_animateOptions","newOptions","resolveTargetOptions","_createAnimations","$shared","awaitAll","$animations","then","anim","all","scaleClip","allowedOverflow","defaultClip","xScale","yScale","toClip","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","meta","stacked","getStackKey","indexScale","valueScale","getUserBounds","minDefined","maxDefined","NEGATIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","itemStacks","_top","_bottom","getFirstScaleId","shift","createDatasetContext","dataset","createDataContext","dataIndex","raw","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","createStack","canStack","hidden","_stacked","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","addElements","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","isExtensible","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","parse","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","getMinMax","otherScale","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","updateElement","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","getAllScaleValues","_cache","$bar","visibleMetas","concat","computeMinSampleSize","curr","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","categoryPercentage","barPercentage","chunk","pixels","computeFlexCategoryTraits","percent","parseFloatBar","entry","startValue","endValue","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","isHorizontal","borderProps","horizontal","setBorderSkipped","edge","borderSkipped","enableBorderRadius","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","super","bars","getBasePixel","_getRuler","firstOpts","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","grouped","_getStackCount","_getStackIndex","_startPixel","_endPixel","baseValue","minBarLength","floating","getDataVisibility","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","stackIndex","rects","_index_","grid","_value_","getPixelForDecimal","getRatioAndOffset","circumference","cutout","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","tooltip","title","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","animationsDisabled","getStartAndCountOfVisiblePoints","scaleRangesChanged","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","pointCount","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","RadarController","pointPosition","getPointPositionForValue","ScatterController","DateAdapter","formats","timestamp","amount","unit","diff","startOf","weekday","endOf","members","adapters","_date","evaluateAllVisibleItems","handler","getSortedVisibleDatasetMetas","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","position","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","_minPadding","evaluationFunc","inRange","getNearestRadialItems","getProps","getNearestCartesianItems","distanceMetric","minDistance","getCenterPoint","pointInArea","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","layouts","wrap","placed","setLayoutDims","params","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","buildLayoutBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","padding","autoPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","initCanvas","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","DomPlatform","removeAttribute","setAttribute","proxies","$proxies","handlers","attach","detach","isConnected","_detectPlatform","OffscreenCanvas","Element","tooltipPosition","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","tickLength","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","ceil","majorStart","majorEnd","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","minor","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","reverseAlign","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","caches","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","titleArgs","titleX","titleY","positionAxisID","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","init","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","labelPadding","_computeLabelArea","drawBackground","fillRect","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","tz","gz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","register","parentScope","isIChartComponent","registerDefaults","unregister","itemDefaults","routeDefaults","routes","propertyParts","sourceName","sourceScope","parts","Registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","registry","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","some","getOpts","pluginOpts","pluginScopeKeys","getIndexAxis","datasetDefaults","datasetOptions","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","axisFromPosition","determineAxis","scaleOptions","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","error","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","Chart","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","scalesOptions","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","scaleClass","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","eventFilter","_handleEvent","_getActiveElements","invalidatePlugins","clipArc","pixelMargin","angleMargin","toRadiusCorners","parseBorderRadius$1","angleDelta","o","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","noSpacingInnerRadius","noSpacingOuterRadius","avNogSpacingRadius","adjustedAngle","beta","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","drawArc","fullCircles","drawFullCircleBorders","inner","lineJoin","ArcElement","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","setStyle","lineCap","getLineMethod","stepped","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","useFastPath","_getInterpolationMethod","strokePathWithCache","path","_path","Path2D","strokePathDirect","segmentMethod","usePath2D","LineElement","_points","_segments","_pointsUpdated","interpolate","_interpolate","interpolated","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","maxR","enableBorder","boundingRects","outer","skipX","skipY","skipBoth","hasRadius","addNormalRectPath","inflateRect","refRect","BarElement","addRectPath","getLineByIndex","parseFillOption","fillOption","decodeFill","computeLinearBoundary","simpleArc","computeCircularBoundary","computeBoundary","findSegmentEnd","pointsFromSegments","boundary","linePoints","buildStackLine","sourcePoints","linesBelow","getLinesBelow","createBoundaryLine","addPointsBelow","below","unshift","sourcePoint","postponed","findPoint","pointValue","firstValue","lastValue","resolveTarget","propagate","visited","clipY","lineLoop","getBounds","_getEdge","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","clipBounds","interpolatedLineTo","interpolatedPoint","_fill","src","notShape","targetLoop","doFill","above","drawfill","lineOpts","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","itemHeight","itemsEqual","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","fontColor","halfFontSize","cursor","drawLegendBox","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","textDirection","realX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","isListened","hoveredItem","sameItem","onLeave","plugin_legend","_element","afterEvent","ci","Title","_padding","textSize","_drawArgs","fontOpts","createTitle","titleBlock","plugin_title","WeakMap","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","labelCount","addIfString","addedLabels","findOrAddLabel","lastIndexOf","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","MIN_SPACING","precision","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MIN_SAFE_INTEGER","getTickLimit","stepSize","computeTickLimit","numericGeneratorOptions","LinearScale","isMajor","tickVal","generateTicks","endExp","endSignificand","exp","significand","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","hLimits","vLimits","updateLimits","setCenterPoint","_pointLabelItems","buildPointLabelItems","extra","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","drawPointLabels","pathRadiusLine","drawRadiusLine","gridLineOpts","createPointLabelContext","RadialLinearScale","leftMovement","rightMovement","topMovement","bottomMovement","angleMultiplier","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","distanceFromCenter","getBasePosition","getPointLabelPosition","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","addTick","time","timestamps","setMajorTicks","majorUnit","ticksFromTimestamps","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","ChartEmits","chartCreate","createChartFunction","chartData","chartOptions","emit","ChartRendered","chartUpdate","ChartUpdated","chartDestroy","ChartDestroyed","getChartData","datasetIdKey","nextData","setChartDatasets","oldData","newData","addedDatasets","nextDataset","currentDataset","find","setChartLabels","LabelsUpdated","compareData","newDatasetLabels","oldDatasetLabels","every","templateError","generateChart","chartId","chartType","chartController","required","default","cssClasses","setup","canvasEl","renderChart","canvasEl2DContext","chartDataHandler","newValue","oldValue","isEqualLabelsAndDatasetsLength","deep","ref","Bar","Doughnut","Line","Radar","Scatter","ChartJS","components","__exports__","_component_Line","Filler","_component_Doughnut","_component_Radar","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","_component_Scatter","tabindex","_hoisted_9","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","for","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_toDisplayString","onChange","datasetVal","_hoisted_22","data1","_hoisted_30","data2","_hoisted_39","data3","_hoisted_47","data4","emits","formdata","methods","addPanel","getFormValue","log","$emit","submit","workExperiences","alert","computed","jsColor","Dashboardform","chartdata","currentChart","formValues"],"sourceRoot":""}